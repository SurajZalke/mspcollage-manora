var MA=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var hK=MA((TK,yc)=>{function OA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function CC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SC={exports:{}},Ud={},EC={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),DA=Symbol.for("react.portal"),LA=Symbol.for("react.fragment"),FA=Symbol.for("react.strict_mode"),UA=Symbol.for("react.profiler"),zA=Symbol.for("react.provider"),VA=Symbol.for("react.context"),$A=Symbol.for("react.forward_ref"),BA=Symbol.for("react.suspense"),WA=Symbol.for("react.memo"),HA=Symbol.for("react.lazy"),q0=Symbol.iterator;function GA(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var TC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kC=Object.assign,NC={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=NC,this.updater=n||TC}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PC(){}PC.prototype=Oo.prototype;function Sg(t,e,n){this.props=t,this.context=e,this.refs=NC,this.updater=n||TC}var Eg=Sg.prototype=new PC;Eg.constructor=Sg;kC(Eg,Oo.prototype);Eg.isPureReactComponent=!0;var K0=Array.isArray,RC=Object.prototype.hasOwnProperty,Tg={current:null},IC={key:!0,ref:!0,__self:!0,__source:!0};function AC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)RC.call(e,r)&&!IC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ul,type:t,key:i,ref:o,props:s,_owner:Tg.current}}function qA(t,e){return{$$typeof:Ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ul}function KA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Q0=/\/+/g;function qh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KA(""+t.key):e.toString(36)}function Xc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ul:case DA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+qh(o,0):r,K0(s)?(n="",t!=null&&(n=t.replace(Q0,"$&/")+"/"),Xc(s,e,n,"",function(c){return c})):s!=null&&(kg(s)&&(s=qA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Q0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",K0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+qh(i,a);o+=Xc(i,e,n,l,s)}else if(l=GA(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+qh(i,a++),o+=Xc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vc(t,e,n){if(t==null)return t;var r=[],s=0;return Xc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function QA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},Jc={transition:null},YA={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Jc,ReactCurrentOwner:Tg};function jC(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:vc,forEach:function(t,e,n){vc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vc(t,function(){e++}),e},toArray:function(t){return vc(t,function(e){return e})||[]},only:function(t){if(!kg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Oo;me.Fragment=LA;me.Profiler=UA;me.PureComponent=Sg;me.StrictMode=FA;me.Suspense=BA;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YA;me.act=jC;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Tg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)RC.call(e,l)&&!IC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ul,type:t.type,key:s,ref:i,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:VA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zA,_context:t},t.Consumer=t};me.createElement=AC;me.createFactory=function(t){var e=AC.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:$A,render:t}};me.isValidElement=kg;me.lazy=function(t){return{$$typeof:HA,_payload:{_status:-1,_result:t},_init:QA}};me.memo=function(t,e){return{$$typeof:WA,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Jc.transition;Jc.transition={};try{t()}finally{Jc.transition=e}};me.unstable_act=jC;me.useCallback=function(t,e){return Nt.current.useCallback(t,e)};me.useContext=function(t){return Nt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Nt.current.useEffect(t,e)};me.useId=function(){return Nt.current.useId()};me.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Nt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};me.useRef=function(t){return Nt.current.useRef(t)};me.useState=function(t){return Nt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Nt.current.useTransition()};me.version="18.3.1";EC.exports=me;var f=EC.exports;const Vt=CC(f),MC=OA({__proto__:null,default:Vt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA=f,JA=Symbol.for("react.element"),ZA=Symbol.for("react.fragment"),ej=Object.prototype.hasOwnProperty,tj=XA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nj={key:!0,ref:!0,__self:!0,__source:!0};function OC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ej.call(e,r)&&!nj.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:JA,type:t,key:i,ref:o,props:s,_owner:tj.current}}Ud.Fragment=ZA;Ud.jsx=OC;Ud.jsxs=OC;SC.exports=Ud;var u=SC.exports,DC={exports:{}},Jt={},LC={exports:{}},FC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,U){var k=I.length;I.push(U);e:for(;0<k;){var S=k-1>>>1,L=I[S];if(0<s(L,U))I[S]=U,I[k]=L,k=S;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var U=I[0],k=I.pop();if(k!==U){I[0]=k;e:for(var S=0,L=I.length,V=L>>>1;S<V;){var B=2*(S+1)-1,G=I[B],q=B+1,$=I[q];if(0>s(G,k))q<L&&0>s($,G)?(I[S]=$,I[q]=k,S=q):(I[S]=G,I[B]=k,S=B);else if(q<L&&0>s($,k))I[S]=$,I[q]=k,S=q;else break e}}return U}function s(I,U){var k=I.sortIndex-U.sortIndex;return k!==0?k:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=I)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function b(I){if(g=!1,_(I),!y)if(n(l)!==null)y=!0,O(C);else{var U=n(c);U!==null&&F(b,U.startTime-I)}}function C(I,U){y=!1,g&&(g=!1,v(E),E=-1),m=!0;var k=p;try{for(_(U),h=n(l);h!==null&&(!(h.expirationTime>U)||I&&!z());){var S=h.callback;if(typeof S=="function"){h.callback=null,p=h.priorityLevel;var L=S(h.expirationTime<=U);U=t.unstable_now(),typeof L=="function"?h.callback=L:h===n(l)&&r(l),_(U)}else r(l);h=n(l)}if(h!==null)var V=!0;else{var B=n(c);B!==null&&F(b,B.startTime-U),V=!1}return V}finally{h=null,p=k,m=!1}}var P=!1,N=null,E=-1,j=5,R=-1;function z(){return!(t.unstable_now()-R<j)}function T(){if(N!==null){var I=t.unstable_now();R=I;var U=!0;try{U=N(!0,I)}finally{U?M():(P=!1,N=null)}}else P=!1}var M;if(typeof x=="function")M=function(){x(T)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,D=A.port2;A.port1.onmessage=T,M=function(){D.postMessage(null)}}else M=function(){w(T,0)};function O(I){N=I,P||(P=!0,M())}function F(I,U){E=w(function(){I(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,O(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var k=p;p=U;try{return I()}finally{p=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var k=p;p=I;try{return U()}finally{p=k}},t.unstable_scheduleCallback=function(I,U,k){var S=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?S+k:S):k=S,I){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=k+L,I={id:d++,callback:U,priorityLevel:I,startTime:k,expirationTime:L,sortIndex:-1},k>S?(I.sortIndex=k,e(c,I),n(l)===null&&I===n(c)&&(g?(v(E),E=-1):g=!0,F(b,k-S))):(I.sortIndex=L,e(l,I),y||m||(y=!0,O(C))),I},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(I){var U=p;return function(){var k=p;p=U;try{return I.apply(this,arguments)}finally{p=k}}}})(FC);LC.exports=FC;var rj=LC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj=f,Qt=rj;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UC=new Set,Za={};function yi(t,e){vo(t,e),vo(t+"Capture",e)}function vo(t,e){for(Za[t]=e,t=0;t<e.length;t++)UC.add(e[t])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fp=Object.prototype.hasOwnProperty,ij=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y0={},X0={};function oj(t){return fp.call(X0,t)?!0:fp.call(Y0,t)?!1:ij.test(t)?X0[t]=!0:(Y0[t]=!0,!1)}function aj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lj(t,e,n,r){if(e===null||typeof e>"u"||aj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dt[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dt[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dt[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dt[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dt[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dt[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dt[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dt[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dt[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ng=/[\-:]([a-z])/g;function Pg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ng,Pg);dt[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ng,Pg);dt[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ng,Pg);dt[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});dt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rg(t,e,n,r){var s=dt.hasOwnProperty(e)?dt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lj(e,n,s,r)&&(n=null),r||s===null?oj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Er=sj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xc=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),zC=Symbol.for("react.provider"),VC=Symbol.for("react.context"),Ag=Symbol.for("react.forward_ref"),mp=Symbol.for("react.suspense"),gp=Symbol.for("react.suspense_list"),jg=Symbol.for("react.memo"),Dr=Symbol.for("react.lazy"),$C=Symbol.for("react.offscreen"),J0=Symbol.iterator;function sa(t){return t===null||typeof t!="object"?null:(t=J0&&t[J0]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Kh;function _a(t){if(Kh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kh=e&&e[1]||""}return`
`+Kh+t}var Qh=!1;function Yh(t,e){if(!t||Qh)return"";Qh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_a(t):""}function cj(t){switch(t.tag){case 5:return _a(t.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 2:case 15:return t=Yh(t.type,!1),t;case 11:return t=Yh(t.type.render,!1),t;case 1:return t=Yh(t.type,!0),t;default:return""}}function yp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Di:return"Fragment";case Oi:return"Portal";case pp:return"Profiler";case Ig:return"StrictMode";case mp:return"Suspense";case gp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VC:return(t.displayName||"Context")+".Consumer";case zC:return(t._context.displayName||"Context")+".Provider";case Ag:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jg:return e=t.displayName||null,e!==null?e:yp(t.type)||"Memo";case Dr:e=t._payload,t=t._init;try{return yp(t(e))}catch{}}return null}function uj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yp(e);case 8:return e===Ig?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dj(t){var e=BC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wc(t){t._valueTracker||(t._valueTracker=dj(t))}function WC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Su(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vp(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Z0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HC(t,e){e=e.checked,e!=null&&Rg(t,"checked",e,!1)}function xp(t,e){HC(t,e);var n=ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wp(t,e.type,n):e.hasOwnProperty("defaultValue")&&wp(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ex(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wp(t,e,n){(e!=="number"||Su(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ba=Array.isArray;function eo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ds(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _p(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ba(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ds(n)}}function GC(t,e){var n=ds(e.value),r=ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _c,KC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_c=_c||document.createElement("div"),_c.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_c.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function el(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hj=["Webkit","ms","Moz","O"];Object.keys(Ra).forEach(function(t){hj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ra[e]=Ra[t]})});function QC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ra.hasOwnProperty(t)&&Ra[t]?(""+e).trim():e+"px"}function YC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=QC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var fj=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cp(t,e){if(e){if(fj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Sp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ep=null;function Mg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tp=null,to=null,no=null;function rx(t){if(t=$l(t)){if(typeof Tp!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Wd(e),Tp(t.stateNode,t.type,e))}}function XC(t){to?no?no.push(t):no=[t]:to=t}function JC(){if(to){var t=to,e=no;if(no=to=null,rx(t),e)for(t=0;t<e.length;t++)rx(e[t])}}function ZC(t,e){return t(e)}function eS(){}var Xh=!1;function tS(t,e,n){if(Xh)return t(e,n);Xh=!0;try{return ZC(t,e,n)}finally{Xh=!1,(to!==null||no!==null)&&(eS(),JC())}}function tl(t,e){var n=t.stateNode;if(n===null)return null;var r=Wd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var kp=!1;if(pr)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){kp=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{kp=!1}function pj(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ia=!1,Eu=null,Tu=!1,Np=null,mj={onError:function(t){Ia=!0,Eu=t}};function gj(t,e,n,r,s,i,o,a,l){Ia=!1,Eu=null,pj.apply(mj,arguments)}function yj(t,e,n,r,s,i,o,a,l){if(gj.apply(this,arguments),Ia){if(Ia){var c=Eu;Ia=!1,Eu=null}else throw Error(W(198));Tu||(Tu=!0,Np=c)}}function vi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sx(t){if(vi(t)!==t)throw Error(W(188))}function vj(t){var e=t.alternate;if(!e){if(e=vi(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return sx(s),t;if(i===r)return sx(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function rS(t){return t=vj(t),t!==null?sS(t):null}function sS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sS(t);if(e!==null)return e;t=t.sibling}return null}var iS=Qt.unstable_scheduleCallback,ix=Qt.unstable_cancelCallback,xj=Qt.unstable_shouldYield,wj=Qt.unstable_requestPaint,qe=Qt.unstable_now,_j=Qt.unstable_getCurrentPriorityLevel,Og=Qt.unstable_ImmediatePriority,oS=Qt.unstable_UserBlockingPriority,ku=Qt.unstable_NormalPriority,bj=Qt.unstable_LowPriority,aS=Qt.unstable_IdlePriority,zd=null,$n=null;function Cj(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(zd,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Tj,Sj=Math.log,Ej=Math.LN2;function Tj(t){return t>>>=0,t===0?32:31-(Sj(t)/Ej|0)|0}var bc=64,Cc=4194304;function Ca(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ca(a):(i&=o,i!==0&&(r=Ca(i)))}else o=n&~s,o!==0?r=Ca(o):i!==0&&(r=Ca(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),s=1<<n,r|=t[n],e&=~s;return r}function kj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-bn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=kj(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Pp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lS(){var t=bc;return bc<<=1,!(bc&4194240)&&(bc=64),t}function Jh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function Pj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Dg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var be=0;function cS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uS,Lg,dS,hS,fS,Rp=!1,Sc=[],Xr=null,Jr=null,Zr=null,nl=new Map,rl=new Map,Fr=[],Rj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ox(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(e.pointerId)}}function oa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$l(e),e!==null&&Lg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ij(t,e,n,r,s){switch(e){case"focusin":return Xr=oa(Xr,t,e,n,r,s),!0;case"dragenter":return Jr=oa(Jr,t,e,n,r,s),!0;case"mouseover":return Zr=oa(Zr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return nl.set(i,oa(nl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,rl.set(i,oa(rl.get(i)||null,t,e,n,r,s)),!0}return!1}function pS(t){var e=Fs(t.target);if(e!==null){var n=vi(e);if(n!==null){if(e=n.tag,e===13){if(e=nS(n),e!==null){t.blockedOn=e,fS(t.priority,function(){dS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ip(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ep=r,n.target.dispatchEvent(r),Ep=null}else return e=$l(n),e!==null&&Lg(e),t.blockedOn=n,!1;e.shift()}return!0}function ax(t,e,n){Zc(t)&&n.delete(e)}function Aj(){Rp=!1,Xr!==null&&Zc(Xr)&&(Xr=null),Jr!==null&&Zc(Jr)&&(Jr=null),Zr!==null&&Zc(Zr)&&(Zr=null),nl.forEach(ax),rl.forEach(ax)}function aa(t,e){t.blockedOn===e&&(t.blockedOn=null,Rp||(Rp=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,Aj)))}function sl(t){function e(s){return aa(s,t)}if(0<Sc.length){aa(Sc[0],t);for(var n=1;n<Sc.length;n++){var r=Sc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xr!==null&&aa(Xr,t),Jr!==null&&aa(Jr,t),Zr!==null&&aa(Zr,t),nl.forEach(e),rl.forEach(e),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)pS(n),n.blockedOn===null&&Fr.shift()}var ro=Er.ReactCurrentBatchConfig,Pu=!0;function jj(t,e,n,r){var s=be,i=ro.transition;ro.transition=null;try{be=1,Fg(t,e,n,r)}finally{be=s,ro.transition=i}}function Mj(t,e,n,r){var s=be,i=ro.transition;ro.transition=null;try{be=4,Fg(t,e,n,r)}finally{be=s,ro.transition=i}}function Fg(t,e,n,r){if(Pu){var s=Ip(t,e,n,r);if(s===null)cf(t,e,r,Ru,n),ox(t,r);else if(Ij(s,t,e,n,r))r.stopPropagation();else if(ox(t,r),e&4&&-1<Rj.indexOf(t)){for(;s!==null;){var i=$l(s);if(i!==null&&uS(i),i=Ip(t,e,n,r),i===null&&cf(t,e,r,Ru,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cf(t,e,r,null,n)}}var Ru=null;function Ip(t,e,n,r){if(Ru=null,t=Mg(r),t=Fs(t),t!==null)if(e=vi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ru=t,null}function mS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_j()){case Og:return 1;case oS:return 4;case ku:case bj:return 16;case aS:return 536870912;default:return 16}default:return 16}}var qr=null,Ug=null,eu=null;function gS(){if(eu)return eu;var t,e=Ug,n=e.length,r,s="value"in qr?qr.value:qr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return eu=s.slice(t,1<r?1-r:void 0)}function tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ec(){return!0}function lx(){return!1}function Zt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ec:lx,this.isPropagationStopped=lx,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ec)},persist:function(){},isPersistent:Ec}),e}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zg=Zt(Do),Vl=Ve({},Do,{view:0,detail:0}),Oj=Zt(Vl),Zh,ef,la,Vd=Ve({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==la&&(la&&t.type==="mousemove"?(Zh=t.screenX-la.screenX,ef=t.screenY-la.screenY):ef=Zh=0,la=t),Zh)},movementY:function(t){return"movementY"in t?t.movementY:ef}}),cx=Zt(Vd),Dj=Ve({},Vd,{dataTransfer:0}),Lj=Zt(Dj),Fj=Ve({},Vl,{relatedTarget:0}),tf=Zt(Fj),Uj=Ve({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),zj=Zt(Uj),Vj=Ve({},Do,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$j=Zt(Vj),Bj=Ve({},Do,{data:0}),ux=Zt(Bj),Wj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gj[t])?!!e[t]:!1}function Vg(){return qj}var Kj=Ve({},Vl,{key:function(t){if(t.key){var e=Wj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vg,charCode:function(t){return t.type==="keypress"?tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qj=Zt(Kj),Yj=Ve({},Vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dx=Zt(Yj),Xj=Ve({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vg}),Jj=Zt(Xj),Zj=Ve({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),eM=Zt(Zj),tM=Ve({},Vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nM=Zt(tM),rM=[9,13,27,32],$g=pr&&"CompositionEvent"in window,Aa=null;pr&&"documentMode"in document&&(Aa=document.documentMode);var sM=pr&&"TextEvent"in window&&!Aa,yS=pr&&(!$g||Aa&&8<Aa&&11>=Aa),hx=" ",fx=!1;function vS(t,e){switch(t){case"keyup":return rM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Li=!1;function iM(t,e){switch(t){case"compositionend":return xS(e);case"keypress":return e.which!==32?null:(fx=!0,hx);case"textInput":return t=e.data,t===hx&&fx?null:t;default:return null}}function oM(t,e){if(Li)return t==="compositionend"||!$g&&vS(t,e)?(t=gS(),eu=Ug=qr=null,Li=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yS&&e.locale!=="ko"?null:e.data;default:return null}}var aM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aM[t.type]:e==="textarea"}function wS(t,e,n,r){XC(r),e=Iu(e,"onChange"),0<e.length&&(n=new zg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ja=null,il=null;function lM(t){IS(t,0)}function $d(t){var e=zi(t);if(WC(e))return t}function cM(t,e){if(t==="change")return e}var _S=!1;if(pr){var nf;if(pr){var rf="oninput"in document;if(!rf){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),rf=typeof mx.oninput=="function"}nf=rf}else nf=!1;_S=nf&&(!document.documentMode||9<document.documentMode)}function gx(){ja&&(ja.detachEvent("onpropertychange",bS),il=ja=null)}function bS(t){if(t.propertyName==="value"&&$d(il)){var e=[];wS(e,il,t,Mg(t)),tS(lM,e)}}function uM(t,e,n){t==="focusin"?(gx(),ja=e,il=n,ja.attachEvent("onpropertychange",bS)):t==="focusout"&&gx()}function dM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $d(il)}function hM(t,e){if(t==="click")return $d(e)}function fM(t,e){if(t==="input"||t==="change")return $d(e)}function pM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:pM;function ol(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!fp.call(e,s)||!Tn(t[s],e[s]))return!1}return!0}function yx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vx(t,e){var n=yx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yx(n)}}function CS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SS(){for(var t=window,e=Su();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Su(t.document)}return e}function Bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mM(t){var e=SS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CS(n.ownerDocument.documentElement,n)){if(r!==null&&Bg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=vx(n,i);var o=vx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gM=pr&&"documentMode"in document&&11>=document.documentMode,Fi=null,Ap=null,Ma=null,jp=!1;function xx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jp||Fi==null||Fi!==Su(r)||(r=Fi,"selectionStart"in r&&Bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ma&&ol(Ma,r)||(Ma=r,r=Iu(Ap,"onSelect"),0<r.length&&(e=new zg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fi)))}function Tc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ui={animationend:Tc("Animation","AnimationEnd"),animationiteration:Tc("Animation","AnimationIteration"),animationstart:Tc("Animation","AnimationStart"),transitionend:Tc("Transition","TransitionEnd")},sf={},ES={};pr&&(ES=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function Bd(t){if(sf[t])return sf[t];if(!Ui[t])return t;var e=Ui[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ES)return sf[t]=e[n];return t}var TS=Bd("animationend"),kS=Bd("animationiteration"),NS=Bd("animationstart"),PS=Bd("transitionend"),RS=new Map,wx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){RS.set(t,e),yi(e,[t])}for(var of=0;of<wx.length;of++){var af=wx[of],yM=af.toLowerCase(),vM=af[0].toUpperCase()+af.slice(1);Ss(yM,"on"+vM)}Ss(TS,"onAnimationEnd");Ss(kS,"onAnimationIteration");Ss(NS,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(PS,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function _x(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yj(r,e,void 0,t),t.currentTarget=null}function IS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;_x(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;_x(s,a,c),i=l}}}if(Tu)throw t=Np,Tu=!1,Np=null,t}function Ie(t,e){var n=e[Fp];n===void 0&&(n=e[Fp]=new Set);var r=t+"__bubble";n.has(r)||(AS(e,t,2,!1),n.add(r))}function lf(t,e,n){var r=0;e&&(r|=4),AS(n,t,r,e)}var kc="_reactListening"+Math.random().toString(36).slice(2);function al(t){if(!t[kc]){t[kc]=!0,UC.forEach(function(n){n!=="selectionchange"&&(xM.has(n)||lf(n,!1,t),lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kc]||(e[kc]=!0,lf("selectionchange",!1,e))}}function AS(t,e,n,r){switch(mS(e)){case 1:var s=jj;break;case 4:s=Mj;break;default:s=Fg}n=s.bind(null,e,n,t),s=void 0,!kp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function cf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}tS(function(){var c=i,d=Mg(n),h=[];e:{var p=RS.get(t);if(p!==void 0){var m=zg,y=t;switch(t){case"keypress":if(tu(n)===0)break e;case"keydown":case"keyup":m=Qj;break;case"focusin":y="focus",m=tf;break;case"focusout":y="blur",m=tf;break;case"beforeblur":case"afterblur":m=tf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Lj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Jj;break;case TS:case kS:case NS:m=zj;break;case PS:m=eM;break;case"scroll":m=Oj;break;case"wheel":m=nM;break;case"copy":case"cut":case"paste":m=$j;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=dx}var g=(e&4)!==0,w=!g&&t==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var x=c,_;x!==null;){_=x;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,v!==null&&(b=tl(x,v),b!=null&&g.push(ll(x,b,_)))),w)break;x=x.return}0<g.length&&(p=new m(p,y,null,n,d),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Ep&&(y=n.relatedTarget||n.fromElement)&&(Fs(y)||y[mr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?Fs(y):null,y!==null&&(w=vi(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(g=cx,b="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=dx,b="onPointerLeave",v="onPointerEnter",x="pointer"),w=m==null?p:zi(m),_=y==null?p:zi(y),p=new g(b,x+"leave",m,n,d),p.target=w,p.relatedTarget=_,b=null,Fs(d)===c&&(g=new g(v,x+"enter",y,n,d),g.target=_,g.relatedTarget=w,b=g),w=b,m&&y)t:{for(g=m,v=y,x=0,_=g;_;_=Ni(_))x++;for(_=0,b=v;b;b=Ni(b))_++;for(;0<x-_;)g=Ni(g),x--;for(;0<_-x;)v=Ni(v),_--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=Ni(g),v=Ni(v)}g=null}else g=null;m!==null&&bx(h,p,m,g,!1),y!==null&&w!==null&&bx(h,w,y,g,!0)}}e:{if(p=c?zi(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=cM;else if(px(p))if(_S)C=fM;else{C=dM;var P=uM}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=hM);if(C&&(C=C(t,c))){wS(h,C,n,d);break e}P&&P(t,p,c),t==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&wp(p,"number",p.value)}switch(P=c?zi(c):window,t){case"focusin":(px(P)||P.contentEditable==="true")&&(Fi=P,Ap=c,Ma=null);break;case"focusout":Ma=Ap=Fi=null;break;case"mousedown":jp=!0;break;case"contextmenu":case"mouseup":case"dragend":jp=!1,xx(h,n,d);break;case"selectionchange":if(gM)break;case"keydown":case"keyup":xx(h,n,d)}var N;if($g)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Li?vS(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(yS&&n.locale!=="ko"&&(Li||E!=="onCompositionStart"?E==="onCompositionEnd"&&Li&&(N=gS()):(qr=d,Ug="value"in qr?qr.value:qr.textContent,Li=!0)),P=Iu(c,E),0<P.length&&(E=new ux(E,t,null,n,d),h.push({event:E,listeners:P}),N?E.data=N:(N=xS(n),N!==null&&(E.data=N)))),(N=sM?iM(t,n):oM(t,n))&&(c=Iu(c,"onBeforeInput"),0<c.length&&(d=new ux("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=N))}IS(h,e)})}function ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Iu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=tl(t,n),i!=null&&r.unshift(ll(t,i,s)),i=tl(t,e),i!=null&&r.push(ll(t,i,s))),t=t.return}return r}function Ni(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=tl(n,i),l!=null&&o.unshift(ll(n,l,a))):s||(l=tl(n,i),l!=null&&o.push(ll(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wM=/\r\n?/g,_M=/\u0000|\uFFFD/g;function Cx(t){return(typeof t=="string"?t:""+t).replace(wM,`
`).replace(_M,"")}function Nc(t,e,n){if(e=Cx(e),Cx(t)!==e&&n)throw Error(W(425))}function Au(){}var Mp=null,Op=null;function Dp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lp=typeof setTimeout=="function"?setTimeout:void 0,bM=typeof clearTimeout=="function"?clearTimeout:void 0,Sx=typeof Promise=="function"?Promise:void 0,CM=typeof queueMicrotask=="function"?queueMicrotask:typeof Sx<"u"?function(t){return Sx.resolve(null).then(t).catch(SM)}:Lp;function SM(t){setTimeout(function(){throw t})}function uf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);sl(e)}function es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ex(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Lo,cl="__reactProps$"+Lo,mr="__reactContainer$"+Lo,Fp="__reactEvents$"+Lo,EM="__reactListeners$"+Lo,TM="__reactHandles$"+Lo;function Fs(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mr]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ex(t);t!==null;){if(n=t[Fn])return n;t=Ex(t)}return e}t=n,n=t.parentNode}return null}function $l(t){return t=t[Fn]||t[mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Wd(t){return t[cl]||null}var Up=[],Vi=-1;function Es(t){return{current:t}}function Ae(t){0>Vi||(t.current=Up[Vi],Up[Vi]=null,Vi--)}function ke(t,e){Vi++,Up[Vi]=t.current,t.current=e}var hs={},xt=Es(hs),Dt=Es(!1),Js=hs;function xo(t,e){var n=t.type.contextTypes;if(!n)return hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Lt(t){return t=t.childContextTypes,t!=null}function ju(){Ae(Dt),Ae(xt)}function Tx(t,e,n){if(xt.current!==hs)throw Error(W(168));ke(xt,e),ke(Dt,n)}function jS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,uj(t)||"Unknown",s));return Ve({},n,r)}function Mu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hs,Js=xt.current,ke(xt,t),ke(Dt,Dt.current),!0}function kx(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=jS(t,e,Js),r.__reactInternalMemoizedMergedChildContext=t,Ae(Dt),Ae(xt),ke(xt,t)):Ae(Dt),ke(Dt,n)}var nr=null,Hd=!1,df=!1;function MS(t){nr===null?nr=[t]:nr.push(t)}function kM(t){Hd=!0,MS(t)}function Ts(){if(!df&&nr!==null){df=!0;var t=0,e=be;try{var n=nr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nr=null,Hd=!1}catch(s){throw nr!==null&&(nr=nr.slice(t+1)),iS(Og,Ts),s}finally{be=e,df=!1}}return null}var $i=[],Bi=0,Ou=null,Du=0,rn=[],sn=0,Zs=null,rr=1,sr="";function js(t,e){$i[Bi++]=Du,$i[Bi++]=Ou,Ou=t,Du=e}function OS(t,e,n){rn[sn++]=rr,rn[sn++]=sr,rn[sn++]=Zs,Zs=t;var r=rr;t=sr;var s=32-bn(r)-1;r&=~(1<<s),n+=1;var i=32-bn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,rr=1<<32-bn(e)+s|n<<s|r,sr=i+t}else rr=1<<i|n<<s|r,sr=t}function Wg(t){t.return!==null&&(js(t,1),OS(t,1,0))}function Hg(t){for(;t===Ou;)Ou=$i[--Bi],$i[Bi]=null,Du=$i[--Bi],$i[Bi]=null;for(;t===Zs;)Zs=rn[--sn],rn[sn]=null,sr=rn[--sn],rn[sn]=null,rr=rn[--sn],rn[sn]=null}var qt=null,Ht=null,Me=!1,yn=null;function DS(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Nx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qt=t,Ht=es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zs!==null?{id:rr,overflow:sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qt=t,Ht=null,!0):!1;default:return!1}}function zp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vp(t){if(Me){var e=Ht;if(e){var n=e;if(!Nx(t,e)){if(zp(t))throw Error(W(418));e=es(n.nextSibling);var r=qt;e&&Nx(t,e)?DS(r,n):(t.flags=t.flags&-4097|2,Me=!1,qt=t)}}else{if(zp(t))throw Error(W(418));t.flags=t.flags&-4097|2,Me=!1,qt=t}}}function Px(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qt=t}function Pc(t){if(t!==qt)return!1;if(!Me)return Px(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dp(t.type,t.memoizedProps)),e&&(e=Ht)){if(zp(t))throw LS(),Error(W(418));for(;e;)DS(t,e),e=es(e.nextSibling)}if(Px(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=qt?es(t.stateNode.nextSibling):null;return!0}function LS(){for(var t=Ht;t;)t=es(t.nextSibling)}function wo(){Ht=qt=null,Me=!1}function Gg(t){yn===null?yn=[t]:yn.push(t)}var NM=Er.ReactCurrentBatchConfig;function ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Rc(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Rx(t){var e=t._init;return e(t._payload)}function FS(t){function e(v,x){if(t){var _=v.deletions;_===null?(v.deletions=[x],v.flags|=16):_.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function s(v,x){return v=ss(v,x),v.index=0,v.sibling=null,v}function i(v,x,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<x?(v.flags|=2,x):_):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,x,_,b){return x===null||x.tag!==6?(x=vf(_,v.mode,b),x.return=v,x):(x=s(x,_),x.return=v,x)}function l(v,x,_,b){var C=_.type;return C===Di?d(v,x,_.props.children,b,_.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Dr&&Rx(C)===x.type)?(b=s(x,_.props),b.ref=ca(v,x,_),b.return=v,b):(b=lu(_.type,_.key,_.props,null,v.mode,b),b.ref=ca(v,x,_),b.return=v,b)}function c(v,x,_,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=xf(_,v.mode,b),x.return=v,x):(x=s(x,_.children||[]),x.return=v,x)}function d(v,x,_,b,C){return x===null||x.tag!==7?(x=Gs(_,v.mode,b,C),x.return=v,x):(x=s(x,_),x.return=v,x)}function h(v,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=vf(""+x,v.mode,_),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xc:return _=lu(x.type,x.key,x.props,null,v.mode,_),_.ref=ca(v,null,x),_.return=v,_;case Oi:return x=xf(x,v.mode,_),x.return=v,x;case Dr:var b=x._init;return h(v,b(x._payload),_)}if(ba(x)||sa(x))return x=Gs(x,v.mode,_,null),x.return=v,x;Rc(v,x)}return null}function p(v,x,_,b){var C=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:a(v,x,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xc:return _.key===C?l(v,x,_,b):null;case Oi:return _.key===C?c(v,x,_,b):null;case Dr:return C=_._init,p(v,x,C(_._payload),b)}if(ba(_)||sa(_))return C!==null?null:d(v,x,_,b,null);Rc(v,_)}return null}function m(v,x,_,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(_)||null,a(x,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xc:return v=v.get(b.key===null?_:b.key)||null,l(x,v,b,C);case Oi:return v=v.get(b.key===null?_:b.key)||null,c(x,v,b,C);case Dr:var P=b._init;return m(v,x,_,P(b._payload),C)}if(ba(b)||sa(b))return v=v.get(_)||null,d(x,v,b,C,null);Rc(x,b)}return null}function y(v,x,_,b){for(var C=null,P=null,N=x,E=x=0,j=null;N!==null&&E<_.length;E++){N.index>E?(j=N,N=null):j=N.sibling;var R=p(v,N,_[E],b);if(R===null){N===null&&(N=j);break}t&&N&&R.alternate===null&&e(v,N),x=i(R,x,E),P===null?C=R:P.sibling=R,P=R,N=j}if(E===_.length)return n(v,N),Me&&js(v,E),C;if(N===null){for(;E<_.length;E++)N=h(v,_[E],b),N!==null&&(x=i(N,x,E),P===null?C=N:P.sibling=N,P=N);return Me&&js(v,E),C}for(N=r(v,N);E<_.length;E++)j=m(N,v,E,_[E],b),j!==null&&(t&&j.alternate!==null&&N.delete(j.key===null?E:j.key),x=i(j,x,E),P===null?C=j:P.sibling=j,P=j);return t&&N.forEach(function(z){return e(v,z)}),Me&&js(v,E),C}function g(v,x,_,b){var C=sa(_);if(typeof C!="function")throw Error(W(150));if(_=C.call(_),_==null)throw Error(W(151));for(var P=C=null,N=x,E=x=0,j=null,R=_.next();N!==null&&!R.done;E++,R=_.next()){N.index>E?(j=N,N=null):j=N.sibling;var z=p(v,N,R.value,b);if(z===null){N===null&&(N=j);break}t&&N&&z.alternate===null&&e(v,N),x=i(z,x,E),P===null?C=z:P.sibling=z,P=z,N=j}if(R.done)return n(v,N),Me&&js(v,E),C;if(N===null){for(;!R.done;E++,R=_.next())R=h(v,R.value,b),R!==null&&(x=i(R,x,E),P===null?C=R:P.sibling=R,P=R);return Me&&js(v,E),C}for(N=r(v,N);!R.done;E++,R=_.next())R=m(N,v,E,R.value,b),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?E:R.key),x=i(R,x,E),P===null?C=R:P.sibling=R,P=R);return t&&N.forEach(function(T){return e(v,T)}),Me&&js(v,E),C}function w(v,x,_,b){if(typeof _=="object"&&_!==null&&_.type===Di&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case xc:e:{for(var C=_.key,P=x;P!==null;){if(P.key===C){if(C=_.type,C===Di){if(P.tag===7){n(v,P.sibling),x=s(P,_.props.children),x.return=v,v=x;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Dr&&Rx(C)===P.type){n(v,P.sibling),x=s(P,_.props),x.ref=ca(v,P,_),x.return=v,v=x;break e}n(v,P);break}else e(v,P);P=P.sibling}_.type===Di?(x=Gs(_.props.children,v.mode,b,_.key),x.return=v,v=x):(b=lu(_.type,_.key,_.props,null,v.mode,b),b.ref=ca(v,x,_),b.return=v,v=b)}return o(v);case Oi:e:{for(P=_.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(v,x.sibling),x=s(x,_.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=xf(_,v.mode,b),x.return=v,v=x}return o(v);case Dr:return P=_._init,w(v,x,P(_._payload),b)}if(ba(_))return y(v,x,_,b);if(sa(_))return g(v,x,_,b);Rc(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(v,x.sibling),x=s(x,_),x.return=v,v=x):(n(v,x),x=vf(_,v.mode,b),x.return=v,v=x),o(v)):n(v,x)}return w}var _o=FS(!0),US=FS(!1),Lu=Es(null),Fu=null,Wi=null,qg=null;function Kg(){qg=Wi=Fu=null}function Qg(t){var e=Lu.current;Ae(Lu),t._currentValue=e}function $p(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function so(t,e){Fu=t,qg=Wi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(qg!==t)if(t={context:t,memoizedValue:e,next:null},Wi===null){if(Fu===null)throw Error(W(308));Wi=t,Fu.dependencies={lanes:0,firstContext:t}}else Wi=Wi.next=t;return e}var Us=null;function Yg(t){Us===null?Us=[t]:Us.push(t)}function zS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Yg(e)):(n.next=s.next,s.next=n),e.interleaved=n,gr(t,r)}function gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lr=!1;function Xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ts(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gr(t,n)}return s=r.interleaved,s===null?(e.next=e,Yg(r)):(e.next=s.next,s.next=e),r.interleaved=e,gr(t,n)}function nu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dg(t,n)}}function Ix(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uu(t,e,n,r){var s=t.updateQueue;Lr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(p=e,m=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=Ve({},h,p);break e;case 2:Lr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ti|=o,t.lanes=o,t.memoizedState=h}}function Ax(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Bl={},Bn=Es(Bl),ul=Es(Bl),dl=Es(Bl);function zs(t){if(t===Bl)throw Error(W(174));return t}function Jg(t,e){switch(ke(dl,e),ke(ul,t),ke(Bn,Bl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bp(e,t)}Ae(Bn),ke(Bn,e)}function bo(){Ae(Bn),Ae(ul),Ae(dl)}function $S(t){zs(dl.current);var e=zs(Bn.current),n=bp(e,t.type);e!==n&&(ke(ul,t),ke(Bn,n))}function Zg(t){ul.current===t&&(Ae(Bn),Ae(ul))}var Le=Es(0);function zu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hf=[];function ey(){for(var t=0;t<hf.length;t++)hf[t]._workInProgressVersionPrimary=null;hf.length=0}var ru=Er.ReactCurrentDispatcher,ff=Er.ReactCurrentBatchConfig,ei=0,Ue=null,Je=null,nt=null,Vu=!1,Oa=!1,hl=0,PM=0;function pt(){throw Error(W(321))}function ty(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function ny(t,e,n,r,s,i){if(ei=i,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ru.current=t===null||t.memoizedState===null?jM:MM,t=n(r,s),Oa){i=0;do{if(Oa=!1,hl=0,25<=i)throw Error(W(301));i+=1,nt=Je=null,e.updateQueue=null,ru.current=OM,t=n(r,s)}while(Oa)}if(ru.current=$u,e=Je!==null&&Je.next!==null,ei=0,nt=Je=Ue=null,Vu=!1,e)throw Error(W(300));return t}function ry(){var t=hl!==0;return hl=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ue.memoizedState=nt=t:nt=nt.next=t,nt}function dn(){if(Je===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=nt===null?Ue.memoizedState:nt.next;if(e!==null)nt=e,Je=t;else{if(t===null)throw Error(W(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},nt===null?Ue.memoizedState=nt=t:nt=nt.next=t}return nt}function fl(t,e){return typeof e=="function"?e(t):e}function pf(t){var e=dn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ei&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ue.lanes|=d,ti|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Tn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ue.lanes|=i,ti|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mf(t){var e=dn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Tn(i,e.memoizedState)||(jt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function BS(){}function WS(t,e){var n=Ue,r=dn(),s=e(),i=!Tn(r.memoizedState,s);if(i&&(r.memoizedState=s,jt=!0),r=r.queue,sy(qS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,pl(9,GS.bind(null,n,r,s,e),void 0,null),st===null)throw Error(W(349));ei&30||HS(n,e,s)}return s}function HS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GS(t,e,n,r){e.value=n,e.getSnapshot=r,KS(e)&&QS(t)}function qS(t,e,n){return n(function(){KS(e)&&QS(t)})}function KS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function QS(t){var e=gr(t,1);e!==null&&Cn(e,t,1,-1)}function jx(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:t},e.queue=t,t=t.dispatch=AM.bind(null,Ue,t),[e.memoizedState,t]}function pl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YS(){return dn().memoizedState}function su(t,e,n,r){var s=Ln();Ue.flags|=t,s.memoizedState=pl(1|e,n,void 0,r===void 0?null:r)}function Gd(t,e,n,r){var s=dn();r=r===void 0?null:r;var i=void 0;if(Je!==null){var o=Je.memoizedState;if(i=o.destroy,r!==null&&ty(r,o.deps)){s.memoizedState=pl(e,n,i,r);return}}Ue.flags|=t,s.memoizedState=pl(1|e,n,i,r)}function Mx(t,e){return su(8390656,8,t,e)}function sy(t,e){return Gd(2048,8,t,e)}function XS(t,e){return Gd(4,2,t,e)}function JS(t,e){return Gd(4,4,t,e)}function ZS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eE(t,e,n){return n=n!=null?n.concat([t]):null,Gd(4,4,ZS.bind(null,e,t),n)}function iy(){}function tE(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ty(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nE(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ty(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rE(t,e,n){return ei&21?(Tn(n,e)||(n=lS(),Ue.lanes|=n,ti|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function RM(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=ff.transition;ff.transition={};try{t(!1),e()}finally{be=n,ff.transition=r}}function sE(){return dn().memoizedState}function IM(t,e,n){var r=rs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iE(t))oE(e,n);else if(n=zS(t,e,n,r),n!==null){var s=Et();Cn(n,t,r,s),aE(n,e,r)}}function AM(t,e,n){var r=rs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iE(t))oE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Tn(a,o)){var l=e.interleaved;l===null?(s.next=s,Yg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=zS(t,e,s,r),n!==null&&(s=Et(),Cn(n,t,r,s),aE(n,e,r))}}function iE(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function oE(t,e){Oa=Vu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dg(t,n)}}var $u={readContext:un,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},jM={readContext:un,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:Mx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,su(4194308,4,ZS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return su(4194308,4,t,e)},useInsertionEffect:function(t,e){return su(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IM.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:jx,useDebugValue:iy,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=jx(!1),e=t[0];return t=RM.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,s=Ln();if(Me){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),st===null)throw Error(W(349));ei&30||HS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Mx(qS.bind(null,r,i,t),[t]),r.flags|=2048,pl(9,GS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ln(),e=st.identifierPrefix;if(Me){var n=sr,r=rr;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=hl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MM={readContext:un,useCallback:tE,useContext:un,useEffect:sy,useImperativeHandle:eE,useInsertionEffect:XS,useLayoutEffect:JS,useMemo:nE,useReducer:pf,useRef:YS,useState:function(){return pf(fl)},useDebugValue:iy,useDeferredValue:function(t){var e=dn();return rE(e,Je.memoizedState,t)},useTransition:function(){var t=pf(fl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:BS,useSyncExternalStore:WS,useId:sE,unstable_isNewReconciler:!1},OM={readContext:un,useCallback:tE,useContext:un,useEffect:sy,useImperativeHandle:eE,useInsertionEffect:XS,useLayoutEffect:JS,useMemo:nE,useReducer:mf,useRef:YS,useState:function(){return mf(fl)},useDebugValue:iy,useDeferredValue:function(t){var e=dn();return Je===null?e.memoizedState=t:rE(e,Je.memoizedState,t)},useTransition:function(){var t=mf(fl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:BS,useSyncExternalStore:WS,useId:sE,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qd={isMounted:function(t){return(t=t._reactInternals)?vi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Et(),s=rs(t),i=lr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ts(t,i,s),e!==null&&(Cn(e,t,s,r),nu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Et(),s=rs(t),i=lr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ts(t,i,s),e!==null&&(Cn(e,t,s,r),nu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Et(),r=rs(t),s=lr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ts(t,s,r),e!==null&&(Cn(e,t,r,n),nu(e,t,r))}};function Ox(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ol(n,r)||!ol(s,i):!0}function lE(t,e,n){var r=!1,s=hs,i=e.contextType;return typeof i=="object"&&i!==null?i=un(i):(s=Lt(e)?Js:xt.current,r=e.contextTypes,i=(r=r!=null)?xo(t,s):hs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Dx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qd.enqueueReplaceState(e,e.state,null)}function Wp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Xg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=un(i):(i=Lt(e)?Js:xt.current,s.context=xo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qd.enqueueReplaceState(s,s.state,null),Uu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Co(t,e){try{var n="",r=e;do n+=cj(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DM=typeof WeakMap=="function"?WeakMap:Map;function cE(t,e,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wu||(Wu=!0,tm=r),Hp(t,e)},n}function uE(t,e,n){n=lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Hp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hp(t,e),typeof r!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Lx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=YM.bind(null,t,e,n),e.then(t,t))}function Fx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ux(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lr(-1,1),e.tag=2,ts(n,e,1))),n.lanes|=1),t)}var LM=Er.ReactCurrentOwner,jt=!1;function bt(t,e,n,r){e.child=t===null?US(e,null,n,r):_o(e,t.child,n,r)}function zx(t,e,n,r,s){n=n.render;var i=e.ref;return so(e,s),r=ny(t,e,n,r,i,s),n=ry(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yr(t,e,s)):(Me&&n&&Wg(e),e.flags|=1,bt(t,e,r,s),e.child)}function Vx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!fy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,dE(t,e,i,r,s)):(t=lu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ol,n(o,r)&&t.ref===e.ref)return yr(t,e,s)}return e.flags|=1,t=ss(i,r),t.ref=e.ref,t.return=e,e.child=t}function dE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ol(i,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,yr(t,e,s)}return Gp(t,e,n,r,s)}function hE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Gi,zt),zt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Gi,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(Gi,zt),zt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ke(Gi,zt),zt|=r;return bt(t,e,s,n),e.child}function fE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gp(t,e,n,r,s){var i=Lt(n)?Js:xt.current;return i=xo(e,i),so(e,s),n=ny(t,e,n,r,i,s),r=ry(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yr(t,e,s)):(Me&&r&&Wg(e),e.flags|=1,bt(t,e,n,s),e.child)}function $x(t,e,n,r,s){if(Lt(n)){var i=!0;Mu(e)}else i=!1;if(so(e,s),e.stateNode===null)iu(t,e),lE(e,n,r),Wp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=un(c):(c=Lt(n)?Js:xt.current,c=xo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Dx(e,o,r,c),Lr=!1;var p=e.memoizedState;o.state=p,Uu(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Dt.current||Lr?(typeof d=="function"&&(Bp(e,n,d,r),l=e.memoizedState),(a=Lr||Ox(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,VS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:mn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=un(l):(l=Lt(n)?Js:xt.current,l=xo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Dx(e,o,r,l),Lr=!1,p=e.memoizedState,o.state=p,Uu(e,r,o,s);var y=e.memoizedState;a!==h||p!==y||Dt.current||Lr?(typeof m=="function"&&(Bp(e,n,m,r),y=e.memoizedState),(c=Lr||Ox(e,n,c,r,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return qp(t,e,n,r,i,s)}function qp(t,e,n,r,s,i){fE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&kx(e,n,!1),yr(t,e,i);r=e.stateNode,LM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_o(e,t.child,null,i),e.child=_o(e,null,a,i)):bt(t,e,a,i),e.memoizedState=r.state,s&&kx(e,n,!0),e.child}function pE(t){var e=t.stateNode;e.pendingContext?Tx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tx(t,e.context,!1),Jg(t,e.containerInfo)}function Bx(t,e,n,r,s){return wo(),Gg(s),e.flags|=256,bt(t,e,n,r),e.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function Qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function mE(t,e,n){var r=e.pendingProps,s=Le.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ke(Le,s&1),t===null)return Vp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yd(o,r,0,null),t=Gs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Qp(n),e.memoizedState=Kp,t):oy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return FM(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ss(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ss(a,i):(i=Gs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Qp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Kp,r}return i=t.child,t=i.sibling,r=ss(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function oy(t,e){return e=Yd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ic(t,e,n,r){return r!==null&&Gg(r),_o(e,t.child,null,n),t=oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=gf(Error(W(422))),Ic(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Yd({mode:"visible",children:r.children},s,0,null),i=Gs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&_o(e,t.child,null,o),e.child.memoizedState=Qp(o),e.memoizedState=Kp,i);if(!(e.mode&1))return Ic(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=gf(i,r,void 0),Ic(t,e,o,r)}if(a=(o&t.childLanes)!==0,jt||a){if(r=st,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gr(t,s),Cn(r,t,s,-1))}return hy(),r=gf(Error(W(421))),Ic(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=XM.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ht=es(s.nextSibling),qt=e,Me=!0,yn=null,t!==null&&(rn[sn++]=rr,rn[sn++]=sr,rn[sn++]=Zs,rr=t.id,sr=t.overflow,Zs=e),e=oy(e,r.children),e.flags|=4096,e)}function Wx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$p(t.return,e,n)}function yf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function gE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(bt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wx(t,n,e);else if(t.tag===19)Wx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),yf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}yf(e,!0,n,null,i);break;case"together":yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function iu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ti|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=ss(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ss(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UM(t,e,n){switch(e.tag){case 3:pE(e),wo();break;case 5:$S(e);break;case 1:Lt(e.type)&&Mu(e);break;case 4:Jg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ke(Lu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?mE(t,e,n):(ke(Le,Le.current&1),t=yr(t,e,n),t!==null?t.sibling:null);ke(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,hE(t,e,n)}return yr(t,e,n)}var yE,Yp,vE,xE;yE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yp=function(){};vE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,zs(Bn.current);var i=null;switch(n){case"input":s=vp(t,s),r=vp(t,r),i=[];break;case"select":s=Ve({},s,{value:void 0}),r=Ve({},r,{value:void 0}),i=[];break;case"textarea":s=_p(t,s),r=_p(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Au)}Cp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Za.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Za.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ie("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};xE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ua(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zM(t,e,n){var r=e.pendingProps;switch(Hg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Lt(e.type)&&ju(),mt(e),null;case 3:return r=e.stateNode,bo(),Ae(Dt),Ae(xt),ey(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(sm(yn),yn=null))),Yp(t,e),mt(e),null;case 5:Zg(e);var s=zs(dl.current);if(n=e.type,t!==null&&e.stateNode!=null)vE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return mt(e),null}if(t=zs(Bn.current),Pc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Fn]=e,r[cl]=i,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<Sa.length;s++)Ie(Sa[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Z0(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":tx(r,i),Ie("invalid",r)}Cp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Nc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Nc(r.textContent,a,t),s=["children",""+a]):Za.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":wc(r),ex(r,i,!0);break;case"textarea":wc(r),nx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Au)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fn]=e,t[cl]=r,yE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sp(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),s=r;break;case"iframe":case"object":case"embed":Ie("load",t),s=r;break;case"video":case"audio":for(s=0;s<Sa.length;s++)Ie(Sa[s],t);s=r;break;case"source":Ie("error",t),s=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),s=r;break;case"details":Ie("toggle",t),s=r;break;case"input":Z0(t,r),s=vp(t,r),Ie("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ve({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":tx(t,r),s=_p(t,r),Ie("invalid",t);break;default:s=r}Cp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?YC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&KC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&el(t,l):typeof l=="number"&&el(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Za.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ie("scroll",t):l!=null&&Rg(t,i,l,o))}switch(n){case"input":wc(t),ex(t,r,!1);break;case"textarea":wc(t),nx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ds(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?eo(t,!!r.multiple,i,!1):r.defaultValue!=null&&eo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)xE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=zs(dl.current),zs(Bn.current),Pc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fn]=e,(i=r.nodeValue!==n)&&(t=qt,t!==null))switch(t.tag){case 3:Nc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return mt(e),null;case 13:if(Ae(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Ht!==null&&e.mode&1&&!(e.flags&128))LS(),wo(),e.flags|=98560,i=!1;else if(i=Pc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Fn]=e}else wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),i=!1}else yn!==null&&(sm(yn),yn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?et===0&&(et=3):hy())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return bo(),Yp(t,e),t===null&&al(e.stateNode.containerInfo),mt(e),null;case 10:return Qg(e.type._context),mt(e),null;case 17:return Lt(e.type)&&ju(),mt(e),null;case 19:if(Ae(Le),i=e.memoizedState,i===null)return mt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ua(i,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zu(t),o!==null){for(e.flags|=128,ua(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&qe()>So&&(e.flags|=128,r=!0,ua(i,!1),e.lanes=4194304)}else{if(!r)if(t=zu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ua(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Me)return mt(e),null}else 2*qe()-i.renderingStartTime>So&&n!==1073741824&&(e.flags|=128,r=!0,ua(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qe(),e.sibling=null,n=Le.current,ke(Le,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return dy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function VM(t,e){switch(Hg(e),e.tag){case 1:return Lt(e.type)&&ju(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),Ae(Dt),Ae(xt),ey(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zg(e),null;case 13:if(Ae(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(Le),null;case 4:return bo(),null;case 10:return Qg(e.type._context),null;case 22:case 23:return dy(),null;case 24:return null;default:return null}}var Ac=!1,yt=!1,$M=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Hi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Xp(t,e,n){try{n()}catch(r){We(t,e,r)}}var Hx=!1;function BM(t,e){if(Mp=Pu,t=SS(),Bg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Op={focusedElem:t,selectionRange:n},Pu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:mn(e.type,g),w);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(b){We(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return y=Hx,Hx=!1,y}function Da(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xp(e,n,i)}s=s.next}while(s!==r)}}function Kd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wE(t){var e=t.alternate;e!==null&&(t.alternate=null,wE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[cl],delete e[Fp],delete e[EM],delete e[TM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _E(t){return t.tag===5||t.tag===3||t.tag===4}function Gx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_E(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Au));else if(r!==4&&(t=t.child,t!==null))for(Zp(t,e,n),t=t.sibling;t!==null;)Zp(t,e,n),t=t.sibling}function em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(em(t,e,n),t=t.sibling;t!==null;)em(t,e,n),t=t.sibling}var at=null,gn=!1;function Rr(t,e,n){for(n=n.child;n!==null;)bE(t,e,n),n=n.sibling}function bE(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(zd,n)}catch{}switch(n.tag){case 5:yt||Hi(n,e);case 6:var r=at,s=gn;at=null,Rr(t,e,n),at=r,gn=s,at!==null&&(gn?(t=at,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(gn?(t=at,n=n.stateNode,t.nodeType===8?uf(t.parentNode,n):t.nodeType===1&&uf(t,n),sl(t)):uf(at,n.stateNode));break;case 4:r=at,s=gn,at=n.stateNode.containerInfo,gn=!0,Rr(t,e,n),at=r,gn=s;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xp(n,e,o),s=s.next}while(s!==r)}Rr(t,e,n);break;case 1:if(!yt&&(Hi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}Rr(t,e,n);break;case 21:Rr(t,e,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,Rr(t,e,n),yt=r):Rr(t,e,n);break;default:Rr(t,e,n)}}function qx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $M),e.forEach(function(r){var s=JM.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:at=a.stateNode,gn=!1;break e;case 3:at=a.stateNode.containerInfo,gn=!0;break e;case 4:at=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(at===null)throw Error(W(160));bE(i,o,s),at=null,gn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){We(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CE(e,t),e=e.sibling}function CE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),On(t),r&4){try{Da(3,t,t.return),Kd(3,t)}catch(g){We(t,t.return,g)}try{Da(5,t,t.return)}catch(g){We(t,t.return,g)}}break;case 1:hn(e,t),On(t),r&512&&n!==null&&Hi(n,n.return);break;case 5:if(hn(e,t),On(t),r&512&&n!==null&&Hi(n,n.return),t.flags&32){var s=t.stateNode;try{el(s,"")}catch(g){We(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&HC(s,i),Sp(a,o);var c=Sp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?YC(s,h):d==="dangerouslySetInnerHTML"?KC(s,h):d==="children"?el(s,h):Rg(s,d,h,c)}switch(a){case"input":xp(s,i);break;case"textarea":GC(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?eo(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?eo(s,!!i.multiple,i.defaultValue,!0):eo(s,!!i.multiple,i.multiple?[]:"",!1))}s[cl]=i}catch(g){We(t,t.return,g)}}break;case 6:if(hn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){We(t,t.return,g)}}break;case 3:if(hn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sl(e.containerInfo)}catch(g){We(t,t.return,g)}break;case 4:hn(e,t),On(t);break;case 13:hn(e,t),On(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(cy=qe())),r&4&&qx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(c=yt)||d,hn(e,t),yt=c):hn(e,t),On(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(h=Q=d;Q!==null;){switch(p=Q,m=p.child,p.tag){case 0:case 11:case 14:case 15:Da(4,p,p.return);break;case 1:Hi(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){We(r,n,g)}}break;case 5:Hi(p,p.return);break;case 22:if(p.memoizedState!==null){Qx(h);continue}}m!==null?(m.return=p,Q=m):Qx(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QC("display",o))}catch(g){We(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){We(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hn(e,t),On(t),r&4&&qx(t);break;case 21:break;default:hn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_E(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(el(s,""),r.flags&=-33);var i=Gx(t);em(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Gx(t);Zp(t,a,o);break;default:throw Error(W(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WM(t,e,n){Q=t,SE(t)}function SE(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ac;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||yt;a=Ac;var c=yt;if(Ac=o,(yt=l)&&!c)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?Yx(s):l!==null?(l.return=o,Q=l):Yx(s);for(;i!==null;)Q=i,SE(i),i=i.sibling;Q=s,Ac=a,yt=c}Kx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):Kx(t)}}function Kx(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||Kd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ax(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ax(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&sl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}yt||e.flags&512&&Jp(e)}catch(p){We(e,e.return,p)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Qx(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Yx(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kd(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){We(e,s,l)}}var i=e.return;try{Jp(e)}catch(l){We(e,i,l)}break;case 5:var o=e.return;try{Jp(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var HM=Math.ceil,Bu=Er.ReactCurrentDispatcher,ay=Er.ReactCurrentOwner,ln=Er.ReactCurrentBatchConfig,xe=0,st=null,Xe=null,ut=0,zt=0,Gi=Es(0),et=0,ml=null,ti=0,Qd=0,ly=0,La=null,At=null,cy=0,So=1/0,tr=null,Wu=!1,tm=null,ns=null,jc=!1,Kr=null,Hu=0,Fa=0,nm=null,ou=-1,au=0;function Et(){return xe&6?qe():ou!==-1?ou:ou=qe()}function rs(t){return t.mode&1?xe&2&&ut!==0?ut&-ut:NM.transition!==null?(au===0&&(au=lS()),au):(t=be,t!==0||(t=window.event,t=t===void 0?16:mS(t.type)),t):1}function Cn(t,e,n,r){if(50<Fa)throw Fa=0,nm=null,Error(W(185));zl(t,n,r),(!(xe&2)||t!==st)&&(t===st&&(!(xe&2)&&(Qd|=n),et===4&&Ur(t,ut)),Ft(t,r),n===1&&xe===0&&!(e.mode&1)&&(So=qe()+500,Hd&&Ts()))}function Ft(t,e){var n=t.callbackNode;Nj(t,e);var r=Nu(t,t===st?ut:0);if(r===0)n!==null&&ix(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ix(n),e===1)t.tag===0?kM(Xx.bind(null,t)):MS(Xx.bind(null,t)),CM(function(){!(xe&6)&&Ts()}),n=null;else{switch(cS(r)){case 1:n=Og;break;case 4:n=oS;break;case 16:n=ku;break;case 536870912:n=aS;break;default:n=ku}n=AE(n,EE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function EE(t,e){if(ou=-1,au=0,xe&6)throw Error(W(327));var n=t.callbackNode;if(io()&&t.callbackNode!==n)return null;var r=Nu(t,t===st?ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gu(t,r);else{e=r;var s=xe;xe|=2;var i=kE();(st!==t||ut!==e)&&(tr=null,So=qe()+500,Hs(t,e));do try{KM();break}catch(a){TE(t,a)}while(!0);Kg(),Bu.current=i,xe=s,Xe!==null?e=0:(st=null,ut=0,e=et)}if(e!==0){if(e===2&&(s=Pp(t),s!==0&&(r=s,e=rm(t,s))),e===1)throw n=ml,Hs(t,0),Ur(t,r),Ft(t,qe()),n;if(e===6)Ur(t,r);else{if(s=t.current.alternate,!(r&30)&&!GM(s)&&(e=Gu(t,r),e===2&&(i=Pp(t),i!==0&&(r=i,e=rm(t,i))),e===1))throw n=ml,Hs(t,0),Ur(t,r),Ft(t,qe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Ms(t,At,tr);break;case 3:if(Ur(t,r),(r&130023424)===r&&(e=cy+500-qe(),10<e)){if(Nu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Et(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Lp(Ms.bind(null,t,At,tr),e);break}Ms(t,At,tr);break;case 4:if(Ur(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-bn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HM(r/1960))-r,10<r){t.timeoutHandle=Lp(Ms.bind(null,t,At,tr),r);break}Ms(t,At,tr);break;case 5:Ms(t,At,tr);break;default:throw Error(W(329))}}}return Ft(t,qe()),t.callbackNode===n?EE.bind(null,t):null}function rm(t,e){var n=La;return t.current.memoizedState.isDehydrated&&(Hs(t,e).flags|=256),t=Gu(t,e),t!==2&&(e=At,At=n,e!==null&&sm(e)),t}function sm(t){At===null?At=t:At.push.apply(At,t)}function GM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Tn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ur(t,e){for(e&=~ly,e&=~Qd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function Xx(t){if(xe&6)throw Error(W(327));io();var e=Nu(t,0);if(!(e&1))return Ft(t,qe()),null;var n=Gu(t,e);if(t.tag!==0&&n===2){var r=Pp(t);r!==0&&(e=r,n=rm(t,r))}if(n===1)throw n=ml,Hs(t,0),Ur(t,e),Ft(t,qe()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ms(t,At,tr),Ft(t,qe()),null}function uy(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(So=qe()+500,Hd&&Ts())}}function ni(t){Kr!==null&&Kr.tag===0&&!(xe&6)&&io();var e=xe;xe|=1;var n=ln.transition,r=be;try{if(ln.transition=null,be=1,t)return t()}finally{be=r,ln.transition=n,xe=e,!(xe&6)&&Ts()}}function dy(){zt=Gi.current,Ae(Gi)}function Hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bM(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Hg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ju();break;case 3:bo(),Ae(Dt),Ae(xt),ey();break;case 5:Zg(r);break;case 4:bo();break;case 13:Ae(Le);break;case 19:Ae(Le);break;case 10:Qg(r.type._context);break;case 22:case 23:dy()}n=n.return}if(st=t,Xe=t=ss(t.current,null),ut=zt=e,et=0,ml=null,ly=Qd=ti=0,At=La=null,Us!==null){for(e=0;e<Us.length;e++)if(n=Us[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Us=null}return t}function TE(t,e){do{var n=Xe;try{if(Kg(),ru.current=$u,Vu){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vu=!1}if(ei=0,nt=Je=Ue=null,Oa=!1,hl=0,ay.current=null,n===null||n.return===null){et=1,ml=e,Xe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Fx(o);if(m!==null){m.flags&=-257,Ux(m,o,a,i,e),m.mode&1&&Lx(i,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){Lx(i,c,e),hy();break e}l=Error(W(426))}}else if(Me&&a.mode&1){var w=Fx(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ux(w,o,a,i,e),Gg(Co(l,a));break e}}i=l=Co(l,a),et!==4&&(et=2),La===null?La=[i]:La.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=cE(i,l,e);Ix(i,v);break e;case 1:a=l;var x=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ns===null||!ns.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=uE(i,a,e);Ix(i,b);break e}}i=i.return}while(i!==null)}PE(n)}catch(C){e=C,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function kE(){var t=Bu.current;return Bu.current=$u,t===null?$u:t}function hy(){(et===0||et===3||et===2)&&(et=4),st===null||!(ti&268435455)&&!(Qd&268435455)||Ur(st,ut)}function Gu(t,e){var n=xe;xe|=2;var r=kE();(st!==t||ut!==e)&&(tr=null,Hs(t,e));do try{qM();break}catch(s){TE(t,s)}while(!0);if(Kg(),xe=n,Bu.current=r,Xe!==null)throw Error(W(261));return st=null,ut=0,et}function qM(){for(;Xe!==null;)NE(Xe)}function KM(){for(;Xe!==null&&!xj();)NE(Xe)}function NE(t){var e=IE(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?PE(t):Xe=e,ay.current=null}function PE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VM(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Xe=null;return}}else if(n=zM(n,e,zt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);et===0&&(et=5)}function Ms(t,e,n){var r=be,s=ln.transition;try{ln.transition=null,be=1,QM(t,e,n,r)}finally{ln.transition=s,be=r}return null}function QM(t,e,n,r){do io();while(Kr!==null);if(xe&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Pj(t,i),t===st&&(Xe=st=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jc||(jc=!0,AE(ku,function(){return io(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ln.transition,ln.transition=null;var o=be;be=1;var a=xe;xe|=4,ay.current=null,BM(t,n),CE(n,t),mM(Op),Pu=!!Mp,Op=Mp=null,t.current=n,WM(n),wj(),xe=a,be=o,ln.transition=i}else t.current=n;if(jc&&(jc=!1,Kr=t,Hu=s),i=t.pendingLanes,i===0&&(ns=null),Cj(n.stateNode),Ft(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wu)throw Wu=!1,t=tm,tm=null,t;return Hu&1&&t.tag!==0&&io(),i=t.pendingLanes,i&1?t===nm?Fa++:(Fa=0,nm=t):Fa=0,Ts(),null}function io(){if(Kr!==null){var t=cS(Hu),e=ln.transition,n=be;try{if(ln.transition=null,be=16>t?16:t,Kr===null)var r=!1;else{if(t=Kr,Kr=null,Hu=0,xe&6)throw Error(W(331));var s=xe;for(xe|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Da(8,d,i)}var h=d.child;if(h!==null)h.return=d,Q=h;else for(;Q!==null;){d=Q;var p=d.sibling,m=d.return;if(wE(d),d===c){Q=null;break}if(p!==null){p.return=m,Q=p;break}Q=m}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Da(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Q=v;break e}Q=i.return}}var x=t.current;for(Q=x;Q!==null;){o=Q;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Q=_;else e:for(o=x;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kd(9,a)}}catch(C){We(a,a.return,C)}if(a===o){Q=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Q=b;break e}Q=a.return}}if(xe=s,Ts(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(zd,t)}catch{}r=!0}return r}finally{be=n,ln.transition=e}}return!1}function Jx(t,e,n){e=Co(n,e),e=cE(t,e,1),t=ts(t,e,1),e=Et(),t!==null&&(zl(t,1,e),Ft(t,e))}function We(t,e,n){if(t.tag===3)Jx(t,t,n);else for(;e!==null;){if(e.tag===3){Jx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ns===null||!ns.has(r))){t=Co(n,t),t=uE(e,t,1),e=ts(e,t,1),t=Et(),e!==null&&(zl(e,1,t),Ft(e,t));break}}e=e.return}}function YM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Et(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(ut&n)===n&&(et===4||et===3&&(ut&130023424)===ut&&500>qe()-cy?Hs(t,0):ly|=n),Ft(t,e)}function RE(t,e){e===0&&(t.mode&1?(e=Cc,Cc<<=1,!(Cc&130023424)&&(Cc=4194304)):e=1);var n=Et();t=gr(t,e),t!==null&&(zl(t,e,n),Ft(t,n))}function XM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RE(t,n)}function JM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),RE(t,n)}var IE;IE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,UM(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Me&&e.flags&1048576&&OS(e,Du,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;iu(t,e),t=e.pendingProps;var s=xo(e,xt.current);so(e,n),s=ny(null,e,r,t,s,n);var i=ry();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(r)?(i=!0,Mu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xg(e),s.updater=qd,e.stateNode=s,s._reactInternals=e,Wp(e,r,t,n),e=qp(null,e,r,!0,i,n)):(e.tag=0,Me&&i&&Wg(e),bt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(iu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=eO(r),t=mn(r,t),s){case 0:e=Gp(null,e,r,t,n);break e;case 1:e=$x(null,e,r,t,n);break e;case 11:e=zx(null,e,r,t,n);break e;case 14:e=Vx(null,e,r,mn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),Gp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),$x(t,e,r,s,n);case 3:e:{if(pE(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,VS(t,e),Uu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Co(Error(W(423)),e),e=Bx(t,e,r,n,s);break e}else if(r!==s){s=Co(Error(W(424)),e),e=Bx(t,e,r,n,s);break e}else for(Ht=es(e.stateNode.containerInfo.firstChild),qt=e,Me=!0,yn=null,n=US(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wo(),r===s){e=yr(t,e,n);break e}bt(t,e,r,n)}e=e.child}return e;case 5:return $S(e),t===null&&Vp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Dp(r,s)?o=null:i!==null&&Dp(r,i)&&(e.flags|=32),fE(t,e),bt(t,e,o,n),e.child;case 6:return t===null&&Vp(e),null;case 13:return mE(t,e,n);case 4:return Jg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_o(e,null,r,n):bt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),zx(t,e,r,s,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ke(Lu,r._currentValue),r._currentValue=o,i!==null)if(Tn(i.value,o)){if(i.children===s.children&&!Dt.current){e=yr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=lr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),$p(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$p(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}bt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,so(e,n),s=un(s),r=r(s),e.flags|=1,bt(t,e,r,n),e.child;case 14:return r=e.type,s=mn(r,e.pendingProps),s=mn(r.type,s),Vx(t,e,r,s,n);case 15:return dE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),iu(t,e),e.tag=1,Lt(r)?(t=!0,Mu(e)):t=!1,so(e,n),lE(e,r,s),Wp(e,r,s,n),qp(null,e,r,!0,t,n);case 19:return gE(t,e,n);case 22:return hE(t,e,n)}throw Error(W(156,e.tag))};function AE(t,e){return iS(t,e)}function ZM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new ZM(t,e,n,r)}function fy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eO(t){if(typeof t=="function")return fy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ag)return 11;if(t===jg)return 14}return 2}function ss(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")fy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Di:return Gs(n.children,s,i,e);case Ig:o=8,s|=8;break;case pp:return t=on(12,n,e,s|2),t.elementType=pp,t.lanes=i,t;case mp:return t=on(13,n,e,s),t.elementType=mp,t.lanes=i,t;case gp:return t=on(19,n,e,s),t.elementType=gp,t.lanes=i,t;case $C:return Yd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zC:o=10;break e;case VC:o=9;break e;case Ag:o=11;break e;case jg:o=14;break e;case Dr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=on(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Gs(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function Yd(t,e,n,r){return t=on(22,t,r,e),t.elementType=$C,t.lanes=n,t.stateNode={isHidden:!1},t}function vf(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function xf(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jh(0),this.expirationTimes=Jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function py(t,e,n,r,s,i,o,a,l){return t=new tO(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=on(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(i),t}function nO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jE(t){if(!t)return hs;t=t._reactInternals;e:{if(vi(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Lt(n))return jS(t,n,e)}return e}function ME(t,e,n,r,s,i,o,a,l){return t=py(n,r,!0,t,s,i,o,a,l),t.context=jE(null),n=t.current,r=Et(),s=rs(n),i=lr(r,s),i.callback=e??null,ts(n,i,s),t.current.lanes=s,zl(t,s,r),Ft(t,r),t}function Xd(t,e,n,r){var s=e.current,i=Et(),o=rs(s);return n=jE(n),e.context===null?e.context=n:e.pendingContext=n,e=lr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ts(s,e,o),t!==null&&(Cn(t,s,o,i),nu(t,s,o)),o}function qu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function my(t,e){Zx(t,e),(t=t.alternate)&&Zx(t,e)}function rO(){return null}var OE=typeof reportError=="function"?reportError:function(t){console.error(t)};function gy(t){this._internalRoot=t}Jd.prototype.render=gy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Xd(t,e,null,null)};Jd.prototype.unmount=gy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ni(function(){Xd(null,t,null,null)}),e[mr]=null}};function Jd(t){this._internalRoot=t}Jd.prototype.unstable_scheduleHydration=function(t){if(t){var e=hS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fr.length&&e!==0&&e<Fr[n].priority;n++);Fr.splice(n,0,t),n===0&&pS(t)}};function yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ew(){}function sO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=qu(o);i.call(c)}}var o=ME(e,r,t,0,null,!1,!1,"",ew);return t._reactRootContainer=o,t[mr]=o.current,al(t.nodeType===8?t.parentNode:t),ni(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=qu(l);a.call(c)}}var l=py(t,0,!1,null,null,!1,!1,"",ew);return t._reactRootContainer=l,t[mr]=l.current,al(t.nodeType===8?t.parentNode:t),ni(function(){Xd(e,l,n,r)}),l}function eh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=qu(o);a.call(l)}}Xd(e,o,t,s)}else o=sO(n,e,t,s,r);return qu(o)}uS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ca(e.pendingLanes);n!==0&&(Dg(e,n|1),Ft(e,qe()),!(xe&6)&&(So=qe()+500,Ts()))}break;case 13:ni(function(){var r=gr(t,1);if(r!==null){var s=Et();Cn(r,t,1,s)}}),my(t,1)}};Lg=function(t){if(t.tag===13){var e=gr(t,134217728);if(e!==null){var n=Et();Cn(e,t,134217728,n)}my(t,134217728)}};dS=function(t){if(t.tag===13){var e=rs(t),n=gr(t,e);if(n!==null){var r=Et();Cn(n,t,e,r)}my(t,e)}};hS=function(){return be};fS=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};Tp=function(t,e,n){switch(e){case"input":if(xp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Wd(r);if(!s)throw Error(W(90));WC(r),xp(r,s)}}}break;case"textarea":GC(t,n);break;case"select":e=n.value,e!=null&&eo(t,!!n.multiple,e,!1)}};ZC=uy;eS=ni;var iO={usingClientEntryPoint:!1,Events:[$l,zi,Wd,XC,JC,uy]},da={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oO={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rS(t),t===null?null:t.stateNode},findFiberByHostInstance:da.findFiberByHostInstance||rO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{zd=Mc.inject(oO),$n=Mc}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iO;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yy(e))throw Error(W(200));return nO(t,e,null,n)};Jt.createRoot=function(t,e){if(!yy(t))throw Error(W(299));var n=!1,r="",s=OE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=py(t,1,!1,null,null,n,!1,r,s),t[mr]=e.current,al(t.nodeType===8?t.parentNode:t),new gy(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=rS(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return ni(t)};Jt.hydrate=function(t,e,n){if(!Zd(e))throw Error(W(200));return eh(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!yy(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=OE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ME(e,null,t,1,n??null,s,!1,i,o),t[mr]=e.current,al(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Jd(e)};Jt.render=function(t,e,n){if(!Zd(e))throw Error(W(200));return eh(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!Zd(t))throw Error(W(40));return t._reactRootContainer?(ni(function(){eh(null,null,t,!1,function(){t._reactRootContainer=null,t[mr]=null})}),!0):!1};Jt.unstable_batchedUpdates=uy;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zd(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return eh(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function DE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DE)}catch(t){console.error(t)}}DE(),DC.exports=Jt;var xi=DC.exports;const aO=CC(xi);var LE,tw=xi;LE=tw.createRoot,tw.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(this,arguments)}var Qr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qr||(Qr={}));const nw="popstate";function lO(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return im("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ku(s)}return uO(e,n,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cO(){return Math.random().toString(36).substr(2,8)}function rw(t,e){return{usr:t.state,key:t.key,idx:e}}function im(t,e,n,r){return n===void 0&&(n=null),gl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fo(e):e,{state:n,key:e&&e.key||r||cO()})}function Ku(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uO(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Qr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(gl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Qr.Pop;let w=d(),v=w==null?null:w-c;c=w,l&&l({action:a,location:g.location,delta:v})}function p(w,v){a=Qr.Push;let x=im(g.location,w,v);c=d()+1;let _=rw(x,c),b=g.createHref(x);try{o.pushState(_,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(b)}i&&l&&l({action:a,location:g.location,delta:1})}function m(w,v){a=Qr.Replace;let x=im(g.location,w,v);c=d();let _=rw(x,c),b=g.createHref(x);o.replaceState(_,"",b),i&&l&&l({action:a,location:g.location,delta:0})}function y(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:Ku(w);return x=x.replace(/ $/,"%20"),Ke(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let g={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(nw,h),l=w,()=>{s.removeEventListener(nw,h),l=null}},createHref(w){return e(s,w)},createURL:y,encodeLocation(w){let v=y(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(w){return o.go(w)}};return g}var sw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sw||(sw={}));function dO(t,e,n){return n===void 0&&(n="/"),hO(t,e,n,!1)}function hO(t,e,n,r){let s=typeof e=="string"?Fo(e):e,i=vy(s.pathname||"/",n);if(i==null)return null;let o=UE(t);fO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=SO(i);a=bO(o[l],c,r)}return a}function UE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ke(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=is([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),UE(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:wO(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of zE(i.path))s(i,o,l)}),e}function zE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_O(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pO=/^:[\w-]+$/,mO=3,gO=2,yO=1,vO=10,xO=-2,iw=t=>t==="*";function wO(t,e){let n=t.split("/"),r=n.length;return n.some(iw)&&(r+=xO),e&&(r+=gO),n.filter(s=>!iw(s)).reduce((s,i)=>s+(pO.test(i)?mO:i===""?yO:vO),r)}function _O(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function bO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=ow({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=ow({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:is([i,h.pathname]),pathnameBase:NO(is([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=is([i,h.pathnameBase]))}return o}function ow(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=CO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function CO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),FE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function SO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return FE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Fo(t):t;return{pathname:n?n.startsWith("/")?n:TO(n,e):e,search:PO(r),hash:RO(s)}}function TO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xy(t,e){let n=kO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Fo(t):(s=gl({},t),Ke(!s.pathname||!s.pathname.includes("?"),wf("?","pathname","search",s)),Ke(!s.pathname||!s.pathname.includes("#"),wf("#","pathname","hash",s)),Ke(!s.search||!s.search.includes("#"),wf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=EO(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const is=t=>t.join("/").replace(/\/\/+/g,"/"),NO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VE=["post","put","patch","delete"];new Set(VE);const AO=["get",...VE];new Set(AO);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}const _y=f.createContext(null),jO=f.createContext(null),ks=f.createContext(null),th=f.createContext(null),Ns=f.createContext({outlet:null,matches:[],isDataRoute:!1}),$E=f.createContext(null);function MO(t,e){let{relative:n}=e===void 0?{}:e;Uo()||Ke(!1);let{basename:r,navigator:s}=f.useContext(ks),{hash:i,pathname:o,search:a}=WE(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:is([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Uo(){return f.useContext(th)!=null}function wi(){return Uo()||Ke(!1),f.useContext(th).location}function BE(t){f.useContext(ks).static||f.useLayoutEffect(t)}function en(){let{isDataRoute:t}=f.useContext(Ns);return t?qO():OO()}function OO(){Uo()||Ke(!1);let t=f.useContext(_y),{basename:e,future:n,navigator:r}=f.useContext(ks),{matches:s}=f.useContext(Ns),{pathname:i}=wi(),o=JSON.stringify(xy(s,n.v7_relativeSplatPath)),a=f.useRef(!1);return BE(()=>{a.current=!0}),f.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=wy(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:is([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function WE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=f.useContext(ks),{matches:s}=f.useContext(Ns),{pathname:i}=wi(),o=JSON.stringify(xy(s,r.v7_relativeSplatPath));return f.useMemo(()=>wy(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function DO(t,e){return LO(t,e)}function LO(t,e,n,r){Uo()||Ke(!1);let{navigator:s}=f.useContext(ks),{matches:i}=f.useContext(Ns),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=wi(),d;if(e){var h;let w=typeof e=="string"?Fo(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||Ke(!1),d=w}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=dO(t,{pathname:m}),g=$O(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:is([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:is([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&g?f.createElement(th.Provider,{value:{location:yl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qr.Pop}},g):g}function FO(){let t=GO(),e=IO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:s},n):null,null)}const UO=f.createElement(FO,null);class zO extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?f.createElement(Ns.Provider,{value:this.props.routeContext},f.createElement($E.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VO(t){let{routeContext:e,match:n,children:r}=t,s=f.useContext(_y);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(Ns.Provider,{value:e},r)}function $O(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Ke(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,y=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,y=!1,g=null,w=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||UO,l&&(c<0&&p===0?(y=!0,w=null):c===p&&(y=!0,w=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),x=()=>{let _;return m?_=g:y?_=w:h.route.Component?_=f.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,f.createElement(VO,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?f.createElement(zO,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var HE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(HE||{}),Qu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qu||{});function BO(t){let e=f.useContext(_y);return e||Ke(!1),e}function WO(t){let e=f.useContext(jO);return e||Ke(!1),e}function HO(t){let e=f.useContext(Ns);return e||Ke(!1),e}function GE(t){let e=HO(),n=e.matches[e.matches.length-1];return n.route.id||Ke(!1),n.route.id}function GO(){var t;let e=f.useContext($E),n=WO(Qu.UseRouteError),r=GE(Qu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qO(){let{router:t}=BO(HE.UseNavigateStable),e=GE(Qu.UseNavigateStable),n=f.useRef(!1);return BE(()=>{n.current=!0}),f.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,yl({fromRouteId:e},i)))},[t,e])}function KO(t){let{to:e,replace:n,state:r,relative:s}=t;Uo()||Ke(!1);let{future:i,static:o}=f.useContext(ks),{matches:a}=f.useContext(Ns),{pathname:l}=wi(),c=en(),d=wy(e,xy(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return f.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Dn(t){Ke(!1)}function QO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Qr.Pop,navigator:i,static:o=!1,future:a}=t;Uo()&&Ke(!1);let l=e.replace(/^\/*/,"/"),c=f.useMemo(()=>({basename:l,navigator:i,static:o,future:yl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Fo(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:y="default"}=r,g=f.useMemo(()=>{let w=vy(d,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:m,key:y},navigationType:s}},[l,d,h,p,m,y,s]);return g==null?null:f.createElement(ks.Provider,{value:c},f.createElement(th.Provider,{children:n,value:g}))}function YO(t){let{children:e,location:n}=t;return DO(om(e),n)}new Promise(()=>{});function om(t,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(t,(r,s)=>{if(!f.isValidElement(r))return;let i=[...e,s];if(r.type===f.Fragment){n.push.apply(n,om(r.props.children,i));return}r.type!==Dn&&Ke(!1),!r.props.index||!r.props.children||Ke(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=om(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}function XO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function JO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZO(t,e){return t.button===0&&(!e||e==="_self")&&!JO(t)}function lm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function eD(t,e){let n=lm(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const tD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nD="6";try{window.__reactRouterVersion=nD}catch{}const rD="startTransition",aw=MC[rD];function sD(t){let{basename:e,children:n,future:r,window:s}=t,i=f.useRef();i.current==null&&(i.current=lO({window:s,v5Compat:!0}));let o=i.current,[a,l]=f.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=f.useCallback(h=>{c&&aw?aw(()=>l(h)):l(h)},[l,c]);return f.useLayoutEffect(()=>o.listen(d),[o,d]),f.createElement(QO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const iD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wl=f.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=XO(e,tD),{basename:m}=f.useContext(ks),y,g=!1;if(typeof c=="string"&&oD.test(c)&&(y=c,iD))try{let _=new URL(window.location.href),b=c.startsWith("//")?new URL(_.protocol+c):new URL(c),C=vy(b.pathname,m);b.origin===_.origin&&C!=null?c=C+b.search+b.hash:g=!0}catch{}let w=MO(c,{relative:s}),v=aD(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function x(_){r&&r(_),_.defaultPrevented||v(_)}return f.createElement("a",am({},p,{href:y||w,onClick:g||i?r:x,ref:n,target:l}))});var lw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lw||(lw={}));var cw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cw||(cw={}));function aD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=en(),c=wi(),d=WE(t,{relative:o});return f.useCallback(h=>{if(ZO(h,n)){h.preventDefault();let p=r!==void 0?r:Ku(c)===Ku(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}function lD(t){let e=f.useRef(lm(t)),n=f.useRef(!1),r=wi(),s=f.useMemo(()=>eD(r.search,n.current?null:e.current),[r.search]),i=en(),o=f.useCallback((a,l)=>{const c=lm(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}function uw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cD(...t){return e=>{let n=!1;const r=t.map(s=>{const i=uw(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():uw(t[s],null)}}}}function uD(t){const e=hD(t),n=f.forwardRef((r,s)=>{const{children:i,...o}=r,a=f.Children.toArray(i),l=a.find(pD);if(l){const c=l.props.children,d=a.map(h=>h===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:h);return u.jsx(e,{...o,ref:s,children:f.isValidElement(c)?f.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var dD=uD("Slot");function hD(t){const e=f.forwardRef((n,r)=>{const{children:s,...i}=n;if(f.isValidElement(s)){const o=gD(s),a=mD(i,s.props);return s.type!==f.Fragment&&(a.ref=r?cD(r,o):o),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fD=Symbol("radix.slottable");function pD(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fD}function mD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function gD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function qE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=qE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function KE(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=qE(t))&&(r&&(r+=" "),r+=e);return r}const dw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hw=KE,QE=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return hw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const p=dw(d)||dw(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(y=>{let[g,w]=y;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...c,h,p]:c},[]);return hw(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},by="-",yD=t=>{const e=xD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(by);return a[0]===""&&a.length!==1&&a.shift(),YE(a,e)||vD(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},YE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?YE(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(by);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},fw=/^\[(.+)\]$/,vD=t=>{if(fw.test(t)){const e=fw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return _D(Object.entries(t.classGroups),n).forEach(([i,o])=>{cm(o,r,i,e)}),r},cm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:pw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(wD(s)){cm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{cm(o,pw(e,i),n,r)})})},pw=(t,e)=>{let n=t;return e.split(by).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wD=t=>t.isThemeGetter,_D=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,bD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},XE="!",CD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let w=0;w<a.length;w++){let v=a[w];if(c===0){if(v===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(d,w)),d=w+i;continue}if(v==="/"){h=w;continue}}v==="["?c++:v==="]"&&c--}const p=l.length===0?a:a.substring(d),m=p.startsWith(XE),y=m?p.substring(1):p,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},SD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},ED=t=>({cache:bD(t.cacheSize),parseClassName:CD(t),...yD(t)}),TD=/\s+/,kD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(TD);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let y=!!m,g=r(y?p.substring(0,m):p);if(!g){if(!y){a=c+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=c+(a.length>0?" "+a:a);continue}y=!1}const w=SD(d).join(":"),v=h?w+XE:w,x=v+g;if(i.includes(x))continue;i.push(x);const _=s(g,y);for(let b=0;b<_.length;++b){const C=_[b];i.push(v+C)}a=c+(a.length>0?" "+a:a)}return a};function ND(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=JE(e))&&(r&&(r+=" "),r+=n);return r}const JE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=JE(t[r]))&&(n&&(n+=" "),n+=e);return n};function PD(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=ED(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=kD(l,n);return s(l,d),d}return function(){return i(ND.apply(null,arguments))}}const Re=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ZE=/^\[(?:([a-z-]+):)?(.+)\]$/i,RD=/^\d+\/\d+$/,ID=new Set(["px","full","screen"]),AD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,OD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,er=t=>oo(t)||ID.has(t)||RD.test(t),Ir=t=>zo(t,"length",WD),oo=t=>!!t&&!Number.isNaN(Number(t)),_f=t=>zo(t,"number",oo),ha=t=>!!t&&Number.isInteger(Number(t)),LD=t=>t.endsWith("%")&&oo(t.slice(0,-1)),ae=t=>ZE.test(t),Ar=t=>AD.test(t),FD=new Set(["length","size","percentage"]),UD=t=>zo(t,FD,e1),zD=t=>zo(t,"position",e1),VD=new Set(["image","url"]),$D=t=>zo(t,VD,GD),BD=t=>zo(t,"",HD),fa=()=>!0,zo=(t,e,n)=>{const r=ZE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},WD=t=>jD.test(t)&&!MD.test(t),e1=()=>!1,HD=t=>OD.test(t),GD=t=>DD.test(t),qD=()=>{const t=Re("colors"),e=Re("spacing"),n=Re("blur"),r=Re("brightness"),s=Re("borderColor"),i=Re("borderRadius"),o=Re("borderSpacing"),a=Re("borderWidth"),l=Re("contrast"),c=Re("grayscale"),d=Re("hueRotate"),h=Re("invert"),p=Re("gap"),m=Re("gradientColorStops"),y=Re("gradientColorStopPositions"),g=Re("inset"),w=Re("margin"),v=Re("opacity"),x=Re("padding"),_=Re("saturate"),b=Re("scale"),C=Re("sepia"),P=Re("skew"),N=Re("space"),E=Re("translate"),j=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ae,e],T=()=>[ae,e],M=()=>["",er,Ir],A=()=>["auto",oo,ae],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ae],k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>[oo,ae];return{cacheSize:500,separator:":",theme:{colors:[fa],spacing:[er,Ir],blur:["none","",Ar,ae],brightness:S(),borderColor:[t],borderRadius:["none","","full",Ar,ae],borderSpacing:T(),borderWidth:M(),contrast:S(),grayscale:U(),hueRotate:S(),invert:U(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[LD,Ir],inset:z(),margin:z(),opacity:S(),padding:T(),saturate:S(),scale:S(),sepia:U(),skew:S(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[Ar]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),ae]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ha,ae]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",ha,ae]}],"grid-cols":[{"grid-cols":[fa]}],"col-start-end":[{col:["auto",{span:["full",ha,ae]},ae]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[fa]}],"row-start-end":[{row:["auto",{span:[ha,ae]},ae]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,e]}],"min-w":[{"min-w":[ae,e,"min","max","fit"]}],"max-w":[{"max-w":[ae,e,"none","full","min","max","fit","prose",{screen:[Ar]},Ar]}],h:[{h:[ae,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ar,Ir]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_f]}],"font-family":[{font:[fa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",oo,_f]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",er,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",er,Ir]}],"underline-offset":[{"underline-offset":["auto",er,ae]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),zD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$D]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[er,ae]}],"outline-w":[{outline:[er,Ir]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[er,Ir]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ar,BD]}],"shadow-color":[{shadow:[fa]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ar,ae]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:S()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:S()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ha,ae]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[er,Ir,_f]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KD=PD(qD);function le(...t){return KD(KE(t))}const QD=QE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=f.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?dD:"button";return u.jsx(o,{className:le(QD({variant:e,size:n,className:t})),ref:i,...s})});ie.displayName="Button";const _i=({size:t="md"})=>{const e={sm:"h-8",md:"h-12",lg:"h-16"};return u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"text-sm font-bold text-white mb-1",children:"MSP COLLAGE"}),u.jsx("div",{className:"flex items-center",children:u.jsx("img",{src:"/msplogo.jpg",alt:"MSP Collage Logo",className:`${e[t]} object-contain`})})]})},Sn=({children:t,className:e=""})=>u.jsx("div",{className:`min-h-screen bg-gradient-to-br from-indigo-950 via-purple-900 to-blue-800 dark:bg-gradient-to-br dark:from-[#0f0a29] dark:via-[#2a1978] dark:to-[#4287f5] ${e}`,children:t}),YD=()=>{};var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(t,e){if(!t)throw Vo(e)},Vo=function(t){return new Error("Firebase Database ("+t1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},XD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Cy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new JD;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r1=function(t){const e=n1(t);return Cy.encodeByteArray(e,!0)},Yu=function(t){return r1(t).replace(/\./g,"")},Xu=function(t){try{return Cy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){return s1(void 0,t)}function s1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!e2(n)||(t[n]=s1(t[n],e[n]));return t}function e2(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=()=>t2().__FIREBASE_DEFAULTS__,r2=()=>{if(typeof process>"u"||typeof mw>"u")return;const t=mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xu(t[1]);return e&&JSON.parse(e)},Sy=()=>{try{return YD()||n2()||r2()||s2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i1=t=>{var e,n;return(n=(e=Sy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},o1=t=>{const e=i1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},a1=()=>{var t;return(t=Sy())===null||t===void 0?void 0:t.config},l1=t=>{var e;return(e=Sy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yu(JSON.stringify(n)),Yu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ey(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function i2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function u1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a2(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d1(){return t1.NODE_ADMIN===!0}function l2(){try{return typeof indexedDB=="object"}catch{return!1}}function c2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="FirebaseError";class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=u2,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?d2(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Tr(s,a,r)}}function d2(t,e){return t.replace(h2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const h2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){return JSON.parse(t)}function Ze(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=vl(Xu(i[0])||""),n=vl(Xu(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},f2=function(t){const e=h1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},p2=function(t){const e=h1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ri(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function um(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ju(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function si(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(gw(i)&&gw(o)){if(!si(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function gw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ea(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ta(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const p=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(p<<1|p>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),d=1518500249):(c=i^o^a,d=1859775393):h<60?(c=i&o|a&(i|o),d=2400959708):(c=i^o^a,d=3395469782);const p=(s<<5|s>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=p}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function g2(t,e){const n=new y2(t,e);return n.subscribe.bind(n)}class y2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v2(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=bf),s.error===void 0&&(s.error=bf),s.complete===void 0&&(s.complete=bf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bf(){}function nh(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,H(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rh=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t){return t&&t._delegate?t._delegate:t}class fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w2=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $o;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b2(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _2(t){return t===Os?void 0:t}function b2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new w2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const S2={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},E2=Se.INFO,T2={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},k2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=T2[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ty{constructor(e){this.name=e,this._logLevel=E2,this._logHandler=k2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const N2=(t,e)=>e.some(n=>t instanceof n);let yw,vw;function P2(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R2(){return vw||(vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f1=new WeakMap,dm=new WeakMap,p1=new WeakMap,Cf=new WeakMap,ky=new WeakMap;function I2(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(os(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&f1.set(n,t)}).catch(()=>{}),ky.set(e,t),e}function A2(t){if(dm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});dm.set(t,e)}let hm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j2(t){hm=t(hm)}function M2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sf(this),e,...n);return p1.set(r,e.sort?e.sort():[e]),os(r)}:R2().includes(t)?function(...e){return t.apply(Sf(this),e),os(f1.get(this))}:function(...e){return os(t.apply(Sf(this),e))}}function O2(t){return typeof t=="function"?M2(t):(t instanceof IDBTransaction&&A2(t),N2(t,P2())?new Proxy(t,hm):t)}function os(t){if(t instanceof IDBRequest)return I2(t);if(Cf.has(t))return Cf.get(t);const e=O2(t);return e!==t&&(Cf.set(t,e),ky.set(e,t)),e}const Sf=t=>ky.get(t);function D2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=os(o);return r&&o.addEventListener("upgradeneeded",l=>{r(os(o.result),l.oldVersion,l.newVersion,os(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const L2=["get","getKey","getAll","getAllKeys","count"],F2=["put","add","delete","clear"],Ef=new Map;function xw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ef.get(e))return Ef.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=F2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||L2.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Ef.set(e,i),i}j2(t=>({...t,get:(e,n,r)=>xw(e,n)||t.get(e,n,r),has:(e,n)=>!!xw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function z2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fm="@firebase/app",ww="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new Ty("@firebase/app"),V2="@firebase/app-compat",$2="@firebase/analytics-compat",B2="@firebase/analytics",W2="@firebase/app-check-compat",H2="@firebase/app-check",G2="@firebase/auth",q2="@firebase/auth-compat",K2="@firebase/database",Q2="@firebase/data-connect",Y2="@firebase/database-compat",X2="@firebase/functions",J2="@firebase/functions-compat",Z2="@firebase/installations",eL="@firebase/installations-compat",tL="@firebase/messaging",nL="@firebase/messaging-compat",rL="@firebase/performance",sL="@firebase/performance-compat",iL="@firebase/remote-config",oL="@firebase/remote-config-compat",aL="@firebase/storage",lL="@firebase/storage-compat",cL="@firebase/firestore",uL="@firebase/vertexai",dL="@firebase/firestore-compat",hL="firebase",fL="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]",pL={[fm]:"fire-core",[V2]:"fire-core-compat",[B2]:"fire-analytics",[$2]:"fire-analytics-compat",[H2]:"fire-app-check",[W2]:"fire-app-check-compat",[G2]:"fire-auth",[q2]:"fire-auth-compat",[K2]:"fire-rtdb",[Q2]:"fire-data-connect",[Y2]:"fire-rtdb-compat",[X2]:"fire-fn",[J2]:"fire-fn-compat",[Z2]:"fire-iid",[eL]:"fire-iid-compat",[tL]:"fire-fcm",[nL]:"fire-fcm-compat",[rL]:"fire-perf",[sL]:"fire-perf-compat",[iL]:"fire-rc",[oL]:"fire-rc-compat",[aL]:"fire-gcs",[lL]:"fire-gcs-compat",[cL]:"fire-fst",[dL]:"fire-fst-compat",[uL]:"fire-vertex","fire-js":"fire-js",[hL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Map,mL=new Map,mm=new Map;function _w(t,e){try{t.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ii(t){const e=t.name;if(mm.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,t);for(const n of Zu.values())_w(n,t);for(const n of mL.values())_w(n,t);return!0}function sh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Hl("app","Firebase",gL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=fL;function m1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw as.create("bad-app-name",{appName:String(s)});if(n||(n=a1()),!n)throw as.create("no-options");const i=Zu.get(s);if(i){if(si(n,i.options)&&si(r,i.config))return i;throw as.create("duplicate-app",{appName:s})}const o=new C2(s);for(const l of mm.values())o.addComponent(l);const a=new yL(n,r,o);return Zu.set(s,a),a}function Ny(t=pm){const e=Zu.get(t);if(!e&&t===pm&&a1())return m1();if(!e)throw as.create("no-app",{appName:t});return e}function Wn(t,e,n){var r;let s=(r=pL[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(a.join(" "));return}ii(new fs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="firebase-heartbeat-database",xL=1,xl="firebase-heartbeat-store";let Tf=null;function g1(){return Tf||(Tf=D2(vL,xL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xl)}catch(n){console.warn(n)}}}}).catch(t=>{throw as.create("idb-open",{originalErrorMessage:t.message})})),Tf}async function wL(t){try{const n=(await g1()).transaction(xl),r=await n.objectStore(xl).get(y1(t));return await n.done,r}catch(e){if(e instanceof Tr)vr.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(n.message)}}}async function bw(t,e){try{const r=(await g1()).transaction(xl,"readwrite");await r.objectStore(xl).put(e,y1(t)),await r.done}catch(n){if(n instanceof Tr)vr.warn(n.message);else{const r=as.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vr.warn(r.message)}}}function y1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=1024,bL=30;class CL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>bL){const o=TL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cw(),{heartbeatsToSend:r,unsentEntries:s}=SL(this._heartbeatsCache.heartbeats),i=Yu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return vr.warn(n),""}}}function Cw(){return new Date().toISOString().substring(0,10)}function SL(t,e=_L){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Sw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l2()?c2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Sw(t){return Yu(JSON.stringify({version:2,heartbeats:t})).length}function TL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){ii(new fs("platform-logger",e=>new U2(e),"PRIVATE")),ii(new fs("heartbeat",e=>new CL(e),"PRIVATE")),Wn(fm,ww,t),Wn(fm,ww,"esm2017"),Wn("fire-js","")}kL("");var NL="firebase",PL="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(NL,PL,"app");var Un=function(){return Un=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Un.apply(this,arguments)};function Gl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function RL(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IL=v1,x1=new Hl("auth","Firebase",v1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Ty("@firebase/auth");function AL(t,...e){ed.logLevel<=Se.WARN&&ed.warn(`Auth (${bi}): ${t}`,...e)}function cu(t,...e){ed.logLevel<=Se.ERROR&&ed.error(`Auth (${bi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,...e){throw Py(t,...e)}function Hn(t,...e){return Py(t,...e)}function w1(t,e,n){const r=Object.assign(Object.assign({},IL()),{[e]:n});return new Hl("auth","Firebase",r).create(e,{appName:t.name})}function cr(t){return w1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Py(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return x1.create(t,...e)}function re(t,e,...n){if(!t)throw Py(e,...n)}function ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cu(e),new Error(e)}function xr(t,e){t||ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _1(){return Ew()==="http:"||Ew()==="https:"}function Ew(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_1()||o2()||"connection"in navigator)?navigator.onLine:!0}function ML(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,xr(n>e,"Short delay should be less than long delay!"),this.isMobile=Ey()||u1()}get(){return jL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e){xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LL=new ql(3e4,6e4);function kr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Nr(t,e,n,r,s={}){return C1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Bo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return i2()||(c.referrerPolicy="no-referrer"),b1.fetch()(await S1(t,t.config.apiHost,n,a),c)})}async function C1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OL),e);try{const s=new UL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Oc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Oc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Oc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw w1(t,d,c);kn(t,d)}}catch(s){if(s instanceof Tr)throw s;kn(t,"network-request-failed",{message:String(s)})}}async function Kl(t,e,n,r,s={}){const i=await Nr(t,e,n,r,s);return"mfaPendingCredential"in i&&kn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function S1(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Ry(t.config,s):`${t.config.apiScheme}://${s}`;return DL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function FL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),LL.get())})}}function Oc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Hn(t,e,r);return s.customData._tokenResponse=n,s}function Tw(t){return t!==void 0&&t.enterprise!==void 0}class zL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VL(t,e){return Nr(t,"GET","/v2/recaptchaConfig",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(t,e){return Nr(t,"POST","/v1/accounts:delete",e)}async function nd(t,e){return Nr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BL(t,e=!1){const n=De(t),r=await n.getIdToken(e),s=Iy(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ua(kf(s.auth_time)),issuedAtTime:Ua(kf(s.iat)),expirationTime:Ua(kf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function kf(t){return Number(t)*1e3}function Iy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cu("JWT malformed, contained fewer than 3 sections"),null;try{const s=Xu(n);return s?JSON.parse(s):(cu("Failed to decode base64 JWT payload"),null)}catch(s){return cu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function kw(t){const e=Iy(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tr&&WL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await wl(t,nd(n,{idToken:r}));re(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?E1(i.providerUserInfo):[],a=qL(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new gm(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function GL(t){const e=De(t);await rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function E1(t){return t.map(e=>{var{providerId:n}=e,r=Gl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t,e){const n=await C1(t,{},async()=>{const r=Bo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await S1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",b1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QL(t,e){return Nr(t,"POST","/v2/accounts:revokeToken",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=kw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await KL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ao;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Gl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new gm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wl(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BL(this,e)}reload(){return GL(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wt(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await wl(this,$L(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:b,isAnonymous:C,providerData:P,stsTokenManager:N}=n;re(_&&N,e,"internal-error");const E=ao.fromJSON(this.name,N);re(typeof _=="string",e,"internal-error"),jr(h,e.name),jr(p,e.name),re(typeof b=="boolean",e,"internal-error"),re(typeof C=="boolean",e,"internal-error"),jr(m,e.name),jr(y,e.name),jr(g,e.name),jr(w,e.name),jr(v,e.name),jr(x,e.name);const j=new wn({uid:_,auth:e,email:p,emailVerified:b,displayName:h,isAnonymous:C,photoURL:y,phoneNumber:m,tenantId:g,stsTokenManager:E,createdAt:v,lastLoginAt:x});return P&&Array.isArray(P)&&(j.providerData=P.map(R=>Object.assign({},R))),w&&(j._redirectEventId=w),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new ao;s.updateFromServerResponse(n);const i=new wn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await rd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?E1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ao;a.updateFromIdToken(r);const l=new wn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new gm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Map;function or(t){xr(t instanceof Function,"Expected a class definition");let e=Nw.get(t);return e?(xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Nw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}T1.type="NONE";const Pw=T1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t,e,n){return`firebase:${t}:${e}:${n}`}class lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=uu(this.userKey,s.apiKey,i),this.fullPersistenceKey=uu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nd(this.auth,{idToken:e}).catch(()=>{});return n?wn._fromGetAccountInfoResponse(this.auth,n,e):null}return wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lo(or(Pw),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||or(Pw);const o=uu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const p=await nd(e,{idToken:d}).catch(()=>{});if(!p)break;h=await wn._fromGetAccountInfoResponse(e,p,d)}else h=wn._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new lo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new lo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A1(e))return"Blackberry";if(j1(e))return"Webos";if(N1(e))return"Safari";if((e.includes("chrome/")||P1(e))&&!e.includes("edge/"))return"Chrome";if(I1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function k1(t=kt()){return/firefox\//i.test(t)}function N1(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P1(t=kt()){return/crios\//i.test(t)}function R1(t=kt()){return/iemobile/i.test(t)}function I1(t=kt()){return/android/i.test(t)}function A1(t=kt()){return/blackberry/i.test(t)}function j1(t=kt()){return/webos/i.test(t)}function Ay(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YL(t=kt()){var e;return Ay(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XL(){return a2()&&document.documentMode===10}function M1(t=kt()){return Ay(t)||I1(t)||j1(t)||A1(t)||/windows phone/i.test(t)||R1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e=[]){let n;switch(t){case"Browser":n=Rw(kt());break;case"Worker":n=`${Rw(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e={}){return Nr(t,"GET","/v2/passwordPolicy",kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=6;class tF{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:eF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iw(this),this.idTokenSubscription=new Iw(this),this.beforeStateQueue=new JL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nd(this,{idToken:e}),r=await wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ML()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wt(this.app))return Promise.reject(cr(this));const n=e?De(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wt(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wt(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZL(this),n=new tF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&or(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ci(t){return De(t)}class Iw{constructor(e){this.auth=e,this.observer=null,this.addObserver=g2(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rF(t){ih=t}function D1(t){return ih.loadJS(t)}function sF(){return ih.recaptchaEnterpriseScript}function iF(){return ih.gapiScript}function oF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class aF{constructor(){this.enterprise=new lF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cF="recaptcha-enterprise",L1="NO_RECAPTCHA";class uF{constructor(e){this.type=cF,this.auth=Ci(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{VL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new zL(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Tw(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(L1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aF().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Tw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sF();l.length!==0&&(l+=a),D1(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Aw(t,e,n,r=!1,s=!1){const i=new uF(t);let o;if(s)o=L1;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ym(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Aw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Aw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e){const n=sh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(si(i,e??{}))return s;kn(s,"already-initialized")}return n.initialize({options:e})}function hF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fF(t,e,n){const r=Ci(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=F1(e),{host:o,port:a}=pF(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(si(c,r.config.emulator)&&si(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,mF()}function F1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pF(t){const e=F1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:jw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:jw(o)}}}function jw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function gF(t,e){return Nr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(t,e){return Kl(t,"POST","/v1/accounts:signInWithPassword",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(t,e){return Kl(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))}async function xF(t,e){return Kl(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends jy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new _l(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _l(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(e,n,"signInWithPassword",yF);case"emailLink":return vF(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(e,r,"signUpPassword",gF);case"emailLink":return xF(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(t,e){return Kl(t,"POST","/v1/accounts:signInWithIdp",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="http://localhost";class oi extends jy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Gl(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new oi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:wF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bF(t){const e=Ea(Ta(t)).link,n=e?Ea(Ta(e)).deep_link_id:null,r=Ea(Ta(t)).deep_link_id;return(r?Ea(Ta(r)).link:null)||r||n||e||t}class My{constructor(e){var n,r,s,i,o,a;const l=Ea(Ta(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=_F((s=l.mode)!==null&&s!==void 0?s:null);re(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=bF(e);try{return new My(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,n){return _l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=My.parseLink(n);return re(r,"argument-error"),_l._fromEmailAndCode(e,r.code,r.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends U1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Ql{constructor(){super("facebook.com")}static credential(e){return oi._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oi._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Ql{constructor(){super("github.com")}static credential(e){return oi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Ql{constructor(){super("twitter.com")}static credential(e,n){return oi._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(t,e){return Kl(t,"POST","/v1/accounts:signUp",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await wn._fromIdTokenResponse(e,r,s),o=Mw(r);return new ai({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Mw(r);return new ai({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends Tr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new sd(e,n,r,s)}}function z1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(t,i,e,r):i})}async function SF(t,e,n=!1){const r=await wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ai._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF(t,e,n=!1){const{auth:r}=t;if(Wt(r.app))return Promise.reject(cr(r));const s="reauthenticate";try{const i=await wl(t,z1(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=Iy(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),ai._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&kn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(t,e,n=!1){if(Wt(t.app))return Promise.reject(cr(t));const r="signIn",s=await z1(t,r,e),i=await ai._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function TF(t,e){return V1(Ci(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(t){const e=Ci(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kF(t,e,n){if(Wt(t.app))return Promise.reject(cr(t));const r=Ci(t),o=await ym(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&$1(t),l}),a=await ai._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function NF(t,e,n){return Wt(t.app)?Promise.reject(cr(t)):TF(De(t),Wo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(t,e){return Nr(t,"POST","/v1/accounts:createAuthUri",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RF(t,e){const n=_1()?td():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:s}=await PF(De(t),r);return s||[]}function IF(t,e,n,r){return De(t).onIdTokenChanged(e,n,r)}function AF(t,e,n){return De(t).beforeAuthStateChanged(e,n)}function jF(t){return De(t).signOut()}const id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=1e3,OF=10;class W1 extends B1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);XL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,OF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}W1.type="LOCAL";const DF=W1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends B1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}H1.type="SESSION";const G1=H1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await LF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Oy("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return window}function UF(t){Gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function zF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $F(){return q1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebaseLocalStorageDb",BF=1,od="firebaseLocalStorage",Q1="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ah(t,e){return t.transaction([od],e?"readwrite":"readonly").objectStore(od)}function WF(){const t=indexedDB.deleteDatabase(K1);return new Yl(t).toPromise()}function vm(){const t=indexedDB.open(K1,BF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(od,{keyPath:Q1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(od)?e(r):(r.close(),await WF(),e(await vm()))})})}async function Ow(t,e,n){const r=ah(t,!0).put({[Q1]:e,value:n});return new Yl(r).toPromise()}async function HF(t,e){const n=ah(t,!1).get(e),r=await new Yl(n).toPromise();return r===void 0?null:r.value}function Dw(t,e){const n=ah(t,!0).delete(e);return new Yl(n).toPromise()}const GF=800,qF=3;class Y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance($F()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zF(),!this.activeServiceWorker)return;this.sender=new FF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vm();return await Ow(e,id,"1"),await Dw(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ow(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ah(s,!1).getAll();return new Yl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y1.type="LOCAL";const KF=Y1;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t,e){return e?or(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends jy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YF(t){return V1(t.auth,new Dy(t),t.bypassAuthState)}function XF(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),EF(n,new Dy(t),t.bypassAuthState)}async function JF(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),SF(n,new Dy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YF;case"linkViaPopup":case"linkViaRedirect":return JF;case"reauthViaPopup":case"reauthViaRedirect":return XF;default:kn(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=new ql(2e3,1e4);class qi extends X1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,qi.currentPopupAction&&qi.currentPopupAction.cancel(),qi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZF.get())};e()}}qi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="pendingRedirect",du=new Map;class t4 extends X1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=du.get(this.auth._key());if(!e){try{const r=await n4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}du.set(this.auth._key(),e)}return this.bypassAuthState||du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n4(t,e){const n=i4(e),r=s4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function r4(t,e){du.set(t._key(),e)}function s4(t){return or(t._redirectPersistence)}function i4(t){return uu(e4,t.config.apiKey,t.name)}async function o4(t,e,n=!1){if(Wt(t.app))return Promise.reject(cr(t));const r=Ci(t),s=QF(r,e),o=await new t4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=10*60*1e3;class l4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!J1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a4&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lw(e))}saveEventToCache(e){this.cachedEventUids.add(Lw(e)),this.lastProcessedEventTime=Date.now()}}function Lw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function J1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(t,e={}){return Nr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h4=/^https?/;async function f4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u4(t);for(const n of e)try{if(p4(n))return}catch{}kn(t,"unauthorized-domain")}function p4(t){const e=td(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!h4.test(n))return!1;if(d4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new ql(3e4,6e4);function Fw(){const t=Gn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g4(t){return new Promise((e,n)=>{var r,s,i;function o(){Fw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fw(),n(Hn(t,"network-request-failed"))},timeout:m4.get()})}if(!((s=(r=Gn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Gn().gapi)===null||i===void 0)&&i.load)o();else{const a=oF("iframefcb");return Gn()[a]=()=>{gapi.load?o():n(Hn(t,"network-request-failed"))},D1(`${iF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw hu=null,e})}let hu=null;function y4(t){return hu=hu||g4(t),hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new ql(5e3,15e3),x4="__/auth/iframe",w4="emulator/auth/iframe",_4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C4(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ry(e,w4):`https://${t.config.authDomain}/${x4}`,r={apiKey:e.apiKey,appName:t.name,v:bi},s=b4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Bo(r).slice(1)}`}async function S4(t){const e=await y4(t),n=Gn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:C4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Hn(t,"network-request-failed"),a=Gn().setTimeout(()=>{i(o)},v4.get());function l(){Gn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T4=500,k4=600,N4="_blank",P4="http://localhost";class Uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R4(t,e,n,r=T4,s=k4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},E4),{width:r.toString(),height:s.toString(),top:i,left:o}),c=kt().toLowerCase();n&&(a=P1(c)?N4:n),k1(c)&&(e=e||P4,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(YL(c)&&a!=="_self")return I4(e||"",a),new Uw(null);const h=window.open(e||"",a,d);re(h,t,"popup-blocked");try{h.focus()}catch{}return new Uw(h)}function I4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="__/auth/handler",j4="emulator/auth/handler",M4=encodeURIComponent("fac");async function zw(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bi,eventId:s};if(e instanceof U1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",um(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Ql){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${M4}=${encodeURIComponent(l)}`:"";return`${O4(t)}?${Bo(a).slice(1)}${c}`}function O4({config:t}){return t.emulator?Ry(t,j4):`https://${t.authDomain}/${A4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="webStorageSupport";class D4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G1,this._completeRedirectFn=o4,this._overrideRedirectResult=r4}async _openPopup(e,n,r,s){var i;xr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await zw(e,n,r,td(),s);return R4(e,o,Oy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await zw(e,n,r,td(),s);return UF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(xr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S4(e),r=new l4(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nf,{type:Nf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Nf];o!==void 0&&n(!!o),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M1()||N1()||Ay()}}const L4=D4;var Vw="@firebase/auth",$w="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z4(t){ii(new fs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O1(t)},c=new nF(r,s,i,l);return hF(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ii(new fs("auth-internal",e=>{const n=Ci(e.getProvider("auth").getImmediate());return(r=>new F4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(Vw,$w,U4(t)),Wn(Vw,$w,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=5*60,$4=l1("authIdTokenMaxAge")||V4;let Bw=null;const B4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$4)return;const s=n==null?void 0:n.token;Bw!==s&&(Bw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function W4(t=Ny()){const e=sh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dF(t,{popupRedirectResolver:L4,persistence:[KF,DF,G1]}),r=l1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=B4(i.toString());AF(n,o,()=>o(n.currentUser)),IF(n,a=>o(a))}}const s=i1("auth");return s&&fF(n,`http://${s}`),n}function H4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Hn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",H4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z4("Browser");var Ww={};const Hw="@firebase/database",Gw="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z1="";function G4(t){Z1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:vl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new q4(e)}}catch{}return new K4},Vs=eT("localStorage"),tT=eT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new Ty("@firebase/database"),nT=function(){let t=1;return function(){return t++}}(),rT=function(t){const e=x2(t),n=new m2;n.update(e);const r=n.digest();return Cy.encodeByteArray(r)},Xl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Xl.apply(null,r):typeof r=="object"?e+=Ze(r):e+=r,e+=" "}return e};let qs=null,qw=!0;const sT=function(t,e){H(!e,"Can't turn on custom loggers persistently."),t===!0?(uo.logLevel=Se.VERBOSE,qs=uo.log.bind(uo)):typeof t=="function"?qs=t:(qs=null,tT.remove("logging_enabled"))},ct=function(...t){if(qw===!0&&(qw=!1,qs===null&&tT.get("logging_enabled")===!0&&sT(!0)),qs){const e=Xl.apply(null,t);qs(e)}},Jl=function(t){return function(...e){ct(t,...e)}},xm=function(...t){const e="FIREBASE INTERNAL ERROR: "+Xl(...t);uo.error(e)},wr=function(...t){const e=`FIREBASE FATAL ERROR: ${Xl(...t)}`;throw uo.error(e),new Error(e)},Tt=function(...t){const e="FIREBASE WARNING: "+Xl(...t);uo.warn(e)},Q4=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ly=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Y4=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},li="[MIN_NAME]",ps="[MAX_NAME]",Si=function(t,e){if(t===e)return 0;if(t===li||e===ps)return-1;if(e===li||t===ps)return 1;{const n=Kw(t),r=Kw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},X4=function(t,e){return t===e?0:t<e?-1:1},pa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ze(e))},Fy=function(t){if(typeof t!="object"||t===null)return Ze(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ze(e[r]),n+=":",n+=Fy(t[e[r]]);return n+="}",n},iT=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function ht(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const oT=function(t){H(!Ly(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let p=parseInt(d.substr(l,8),2).toString(16);p.length===1&&(p="0"+p),h=h+p}return h.toLowerCase()},J4=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Z4=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function e3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const t3=new RegExp("^-?(0*)\\d{1,10}$"),n3=-2147483648,r3=2147483647,Kw=function(t){if(t3.test(t)){const e=Number(t);if(e>=n3&&e<=r3)return e}return null},Ho=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Tt("Exception was thrown by user callback.",n),e},Math.floor(0))}},s3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},za=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Wt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(e)}}class fu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}fu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="5",aT="v",lT="s",cT="r",uT="f",dT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hT="ls",fT="p",wm="ac",pT="websocket",mT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function a3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function yT(t,e,n){H(typeof e=="string","typeof type must == string"),H(typeof n=="object","typeof params must == object");let r;if(e===pT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===mT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);a3(t)&&(n.ns=t.namespace);const s=[];return ht(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.counters_={}}incrementCounter(e,n=1){Rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ZD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf={},Rf={};function zy(t){const e=t.toString();return Pf[e]||(Pf[e]=new l3),Pf[e]}function c3(t,e){const n=t.toString();return Rf[n]||(Rf[n]=e()),Rf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Ho(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="start",d3="close",h3="pLPCommand",f3="pRTLPCB",vT="id",xT="pw",wT="ser",p3="cb",m3="seg",g3="ts",y3="d",v3="dframe",_T=1870,bT=30,x3=_T-bT,w3=25e3,_3=3e4;class Ki{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jl(e),this.stats_=zy(n),this.urlFn=l=>(this.appCheckToken&&(l[wm]=this.appCheckToken),yT(n,mT,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new u3(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_3)),Y4(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Vy((...i)=>{const[o,a,l,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Qw)this.id=a,this.password=l;else if(o===d3)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Qw]="t",r[wT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[p3]=this.scriptTagHolder.uniqueCallbackIdentifier),r[aT]=Uy,this.transportSessionId&&(r[lT]=this.transportSessionId),this.lastSessionId&&(r[hT]=this.lastSessionId),this.applicationId&&(r[fT]=this.applicationId),this.appCheckToken&&(r[wm]=this.appCheckToken),typeof location<"u"&&location.hostname&&dT.test(location.hostname)&&(r[cT]=uT);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ki.forceAllow_=!0}static forceDisallow(){Ki.forceDisallow_=!0}static isAvailable(){return Ki.forceAllow_?!0:!Ki.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!J4()&&!Z4()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=r1(n),s=iT(r,x3);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[v3]="t",r[vT]=e,r[xT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Vy{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nT(),window[h3+this.uniqueCallbackIdentifier]=e,window[f3+this.uniqueCallbackIdentifier]=n,this.myIFrame=Vy.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ct("frame writing exception"),a.stack&&ct(a.stack),ct(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ct("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[vT]=this.myID,e[xT]=this.myPW,e[wT]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+bT+r.length<=_T;){const o=this.pendingSegs.shift();r=r+"&"+m3+s+"="+o.seg+"&"+g3+s+"="+o.ts+"&"+y3+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(w3)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ct("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=16384,C3=45e3;let ad=null;typeof MozWebSocket<"u"?ad=MozWebSocket:typeof WebSocket<"u"&&(ad=WebSocket);class xn{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jl(this.connId),this.stats_=zy(n),this.connURL=xn.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[aT]=Uy,typeof location<"u"&&location.hostname&&dT.test(location.hostname)&&(o[cT]=uT),n&&(o[lT]=n),r&&(o[hT]=r),s&&(o[wm]=s),i&&(o[fT]=i),yT(e,pT,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vs.set("previous_websocket_failure",!0);try{let r;d1(),this.mySock=new ad(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){xn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ad!==null&&!xn.forceDisallow_}static previouslyFailed(){return Vs.isInMemoryStorage||Vs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=vl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(H(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=iT(n,b3);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(C3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}xn.responsesRequiredToBeHealthy=2;xn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static get ALL_TRANSPORTS(){return[Ki,xn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=xn&&xn.isAvailable();let r=n&&!xn.previouslyFailed();if(e.webSocketOnly&&(n||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[xn];else{const s=this.transports_=[];for(const i of bl.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);bl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=6e4,E3=5e3,T3=10*1024,k3=100*1024,If="t",Yw="d",N3="s",Xw="r",P3="e",Jw="o",Zw="a",e_="n",t_="p",R3="h";class I3{constructor(e,n,r,s,i,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jl("c:"+this.id+":"),this.transportManager_=new bl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=za(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>k3?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>T3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(If in e){const n=e[If];n===Zw?this.upgradeIfSecondaryHealthy_():n===Xw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Jw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=pa("t",e),r=pa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:t_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Zw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:e_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=pa("t",e),r=pa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=pa(If,e);if(Yw in e){const r=e[Yw];if(n===R3){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===e_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===N3?this.onConnectionShutdown_(r):n===Xw?this.onReset_(r):n===P3?xm("Server Error: "+r):n===Jw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Uy!==r&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),za(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(S3))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):za(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(E3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:t_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.allowedEvents_=e,this.listeners_={},H(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){H(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends ST{static getInstance(){return new ld}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ey()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return H(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=32,r_=768;class Ce{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function we(){return new Ce("")}function he(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ms(t){return t.pieces_.length-t.pieceNum_}function Te(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ce(t.pieces_,e)}function $y(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function A3(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Cl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ET(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ce(e,0)}function He(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ce(n,0)}function fe(t){return t.pieceNum_>=t.pieces_.length}function Ct(t,e){const n=he(t),r=he(e);if(n===null)return e;if(n===r)return Ct(Te(t),Te(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function j3(t,e){const n=Cl(t,0),r=Cl(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=Si(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function By(t,e){if(ms(t)!==ms(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function an(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ms(t)>ms(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class M3{constructor(e,n){this.errorPrefix_=n,this.parts_=Cl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=rh(this.parts_[r]);TT(this)}}function O3(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=rh(e),TT(t)}function D3(t){const e=t.parts_.pop();t.byteLength_-=rh(e),t.parts_.length>0&&(t.byteLength_-=1)}function TT(t){if(t.byteLength_>r_)throw new Error(t.errorPrefix_+"has a key path longer than "+r_+" bytes ("+t.byteLength_+").");if(t.parts_.length>n_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+n_+") or object contains a cycle "+Ds(t))}function Ds(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends ST{static getInstance(){return new Wy}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return H(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=1e3,L3=60*5*1e3,s_=30*1e3,F3=1.3,U3=3e4,z3="server_kill",i_=3;class ur extends CT{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ur.nextPersistentConnectionId_++,this.log_=Jl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ma,this.maxReconnectDelay_=L3,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!d1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wy.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ld.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Ze(i)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new $o,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;ur.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Rn(e,"w")){const r=ri(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||p2(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=s_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=f2(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ze(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):xm("Unrecognized action received from server: "+Ze(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ma,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ma,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>U3&&(this.reconnectDelay_=ma),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*F3)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+ur.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){H(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,p]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,a=new I3(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{Tt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(z3)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Tt(h),l())}}}interrupt(e){ct("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ct("Resuming connection for reason: "+e),delete this.interruptReasons_[e],um(this.interruptReasons_)&&(this.reconnectDelay_=ma,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Fy(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ce(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){ct("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=i_&&(this.reconnectDelay_=s_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ct("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=i_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Z1.replace(/\./g,"-")]=1,Ey()?e["framework.cordova"]=1:u1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ld.getInstance().currentlyOnline();return um(this.interruptReasons_)&&e}}ur.nextPersistentConnectionId_=0;ur.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new pe(li,e),s=new pe(li,n);return this.compare(r,s)!==0}minPost(){return pe.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;class kT extends lh{static get __EMPTY_NODE(){return Dc}static set __EMPTY_NODE(e){Dc=e}compare(e,n){return Si(e.name,n.name)}isDefinedOn(e){throw Vo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return pe.MIN}maxPost(){return new pe(ps,Dc)}makePost(e,n){return H(typeof e=="string","KeyIndex indexValue must always be a string."),new pe(e,Dc)}toString(){return".key"}}const Ks=new kT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??rt.RED,this.left=s??Mt.EMPTY_NODE,this.right=i??Mt.EMPTY_NODE}copy(e,n,r,s,i){return new rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Mt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rt.RED=!0;rt.BLACK=!1;class V3{copy(e,n,r,s,i){return this}insert(e,n,r){return new rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mt{constructor(e,n=Mt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Mt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(e){return new Mt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Lc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Lc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Lc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Lc(this.root_,null,this.comparator_,!0,e)}}Mt.EMPTY_NODE=new V3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e){return Si(t.name,e.name)}function Hy(t,e){return Si(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m;function B3(t){_m=t}const NT=function(t){return typeof t=="number"?"number:"+oT(t):"string:"+t},PT=function(t){if(t.isLeafNode()){const e=t.val();H(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rn(e,".sv"),"Priority must be a string or number.")}else H(t===_m||t.isEmpty(),"priority of unexpected type.");H(t===_m||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o_;class tt{static set __childrenNodeConstructor(e){o_=e}static get __childrenNodeConstructor(){return o_}constructor(e,n=tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),PT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return fe(e)?this:he(e)===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=he(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(H(r!==".priority"||ms(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+NT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=oT(this.value_):e+=this.value_,this.lazyHash_=rT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof tt.__childrenNodeConstructor?-1:(H(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=tt.VALUE_TYPE_ORDER.indexOf(n),i=tt.VALUE_TYPE_ORDER.indexOf(r);return H(s>=0,"Unknown leaf type: "+n),H(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RT,IT;function W3(t){RT=t}function H3(t){IT=t}class G3 extends lh{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Si(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe(ps,new tt("[PRIORITY-POST]",IT))}makePost(e,n){const r=RT(e);return new pe(n,new tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Oe=new G3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=Math.log(2);class K3{constructor(e){const n=i=>parseInt(Math.log(i)/q3,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const cd=function(t,e,n,r){t.sort(e);const s=function(l,c){const d=c-l;let h,p;if(d===0)return null;if(d===1)return h=t[l],p=n?n(h):h,new rt(p,h.node,rt.BLACK,null,null);{const m=parseInt(d/2,10)+l,y=s(l,m),g=s(m+1,c);return h=t[m],p=n?n(h):h,new rt(p,h.node,rt.BLACK,y,g)}},i=function(l){let c=null,d=null,h=t.length;const p=function(y,g){const w=h-y,v=h;h-=y;const x=s(w+1,v),_=t[w],b=n?n(_):_;m(new rt(b,_.node,g,null,x))},m=function(y){c?(c.left=y,c=y):(d=y,c=y)};for(let y=0;y<l.count;++y){const g=l.nextBitIsOne(),w=Math.pow(2,l.count-(y+1));g?p(w,rt.BLACK):(p(w,rt.BLACK),p(w,rt.RED))}return d},o=new K3(t.length),a=i(o);return new Mt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af;const Pi={};class ar{static get Default(){return H(Pi&&Oe,"ChildrenNode.ts has not been loaded"),Af=Af||new ar({".priority":Pi},{".priority":Oe}),Af}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ri(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Mt?n:null}hasIndex(e){return Rn(this.indexSet_,e.toString())}addIndex(e,n){H(e!==Ks,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(pe.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=cd(r,e.getCompare()):a=Pi;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new ar(d,c)}addToIndexes(e,n){const r=Ju(this.indexes_,(s,i)=>{const o=ri(this.indexSet_,i);if(H(o,"Missing index implementation for "+i),s===Pi)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(pe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),cd(a,o.getCompare())}else return Pi;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new pe(e.name,a))),l.insert(e,e.node)}});return new ar(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ju(this.indexes_,s=>{if(s===Pi)return s;{const i=n.get(e.name);return i?s.remove(new pe(e.name,i)):s}});return new ar(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga;class te{static get EMPTY_NODE(){return ga||(ga=new te(new Mt(Hy),null,ar.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&PT(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ga}updatePriority(e){return this.children_.isEmpty()?this:new te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ga:n}}getChild(e){const n=he(e);return n===null?this:this.getImmediateChild(n).getChild(Te(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(H(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new pe(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?ga:this.priorityNode_;return new te(s,o,i)}}updateChild(e,n){const r=he(e);if(r===null)return n;{H(he(e)!==".priority"||ms(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Te(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Oe,(o,a)=>{n[o]=a.val(e),r++,i&&te.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+NT(this.getPriority().val())+":"),this.forEachChild(Oe,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":rT(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new pe(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new pe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,pe.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,pe.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zl?-1:0}withIndex(e){if(e===Ks||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new te(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ks||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Oe),s=n.getIterator(Oe);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ks?null:this.indexMap_.get(e.toString())}}te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Q3 extends te{constructor(){super(new Mt(Hy),te.EMPTY_NODE,ar.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return te.EMPTY_NODE}isEmpty(){return!1}}const Zl=new Q3;Object.defineProperties(pe,{MIN:{value:new pe(li,te.EMPTY_NODE)},MAX:{value:new pe(ps,Zl)}});kT.__EMPTY_NODE=te.EMPTY_NODE;tt.__childrenNodeConstructor=te;B3(Zl);H3(Zl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=!0;function Ye(t,e=null){if(t===null)return te.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),H(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new tt(n,Ye(e))}if(!(t instanceof Array)&&Y3){const n=[];let r=!1;if(ht(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ye(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new pe(o,l)))}}),n.length===0)return te.EMPTY_NODE;const i=cd(n,$3,o=>o.name,Hy);if(r){const o=cd(n,Oe.getCompare());return new te(i,Ye(e),new ar({".priority":o},{".priority":Oe}))}else return new te(i,Ye(e),ar.Default)}else{let n=te.EMPTY_NODE;return ht(t,(r,s)=>{if(Rn(t,r)&&r.substring(0,1)!=="."){const i=Ye(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Ye(e))}}W3(Ye);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy extends lh{constructor(e){super(),this.indexPath_=e,H(!fe(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Si(e.name,n.name):i}makePost(e,n){const r=Ye(e),s=te.EMPTY_NODE.updateChild(this.indexPath_,r);return new pe(n,s)}maxPost(){const e=te.EMPTY_NODE.updateChild(this.indexPath_,Zl);return new pe(ps,e)}toString(){return Cl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3 extends lh{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Si(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(e,n){const r=Ye(e);return new pe(n,r)}toString(){return".value"}}const AT=new X3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t){return{type:"value",snapshotNode:t}}function Eo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Sl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function El(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function J3(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){H(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Sl(n,a)):H(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Eo(n,r)):o.trackChildChange(El(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Oe,(s,i)=>{n.hasChild(s)||r.trackChildChange(Sl(s,i))}),n.isLeafNode()||n.forEachChild(Oe,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(El(s,i,o))}else r.trackChildChange(Eo(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?te.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.indexedFilter_=new qy(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Tl.getStartPost_(e),this.endPost_=Tl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new pe(n,r))||(r=te.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=te.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(te.EMPTY_NODE);const i=this;return n.forEachChild(Oe,(o,a)=>{i.matches(new pe(o,a))||(s=s.updateImmediateChild(o,te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Tl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new pe(n,r))||(r=te.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=te.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(te.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const h=this.index_.getCompare();o=(p,m)=>h(m,p)}else o=this.index_.getCompare();const a=e;H(a.numChildren()===this.limit_,"");const l=new pe(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let p=s.getChildAfterChild(this.index_,c,this.reverse_);for(;p!=null&&(p.name===n||a.hasChild(p.name));)p=s.getChildAfterChild(this.index_,p,this.reverse_);const m=p==null?1:o(p,l);if(d&&!r.isEmpty()&&m>=0)return i!=null&&i.trackChildChange(El(n,r,h)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Sl(n,h));const g=a.updateImmediateChild(n,te.EMPTY_NODE);return p!=null&&this.rangedFilter_.matches(p)?(i!=null&&i.trackChildChange(Eo(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}}else return r.isEmpty()?e:d&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Sl(c.name,c.node)),i.trackChildChange(Eo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,te.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:li}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oe}copy(){const e=new Ky;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function eU(t){return t.loadsAllData()?new qy(t.getIndex()):t.hasLimit()?new Z3(t):new Tl(t)}function tU(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function nU(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function rU(t,e){const n=t.copy();return n.index_=e,n}function a_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Oe?n="$priority":t.index_===AT?n="$value":t.index_===Ks?n="$key":(H(t.index_ instanceof Gy,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ze(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ze(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ze(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ze(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function l_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Oe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends CT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(H(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Jl("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=ud.getListenId_(e,r),a={};this.listens_[o]=a;const l=a_(e._queryParams);this.restRequest_(i+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),ri(this.listens_,o)===a){let p;c?c===401?p="permission_denied":p="rest_error:"+c:p="ok",s(p,null)}})}unlisten(e,n){const r=ud.getListenId_(e,n);delete this.listens_[r]}get(e){const n=a_(e._queryParams),r=e._path.toString(),s=new $o;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Bo(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=vl(a.responseText)}catch{Tt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Tt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(){return{value:null,children:new Map}}function MT(t,e,n){if(fe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=he(e);t.children.has(r)||t.children.set(r,dd());const s=t.children.get(r);e=Te(e),MT(s,e,n)}}function bm(t,e,n){t.value!==null?n(e,t.value):iU(t,(r,s)=>{const i=new Ce(e.toString()+"/"+r);bm(s,i,n)})}function iU(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ht(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=10*1e3,aU=30*1e3,lU=5*60*1e3;class cU{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new oU(e);const r=c_+(aU-c_)*Math.random();za(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ht(e,(s,i)=>{i>0&&Rn(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),za(this.reportStats_.bind(this),Math.floor(Math.random()*2*lU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_n||(_n={}));function Qy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Xy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=_n.ACK_USER_WRITE,this.source=Qy()}operationForChild(e){if(fe(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ce(e));return new hd(we(),n,this.revert)}}else return H(he(this.path)===e,"operationForChild called for unrelated child."),new hd(Te(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.source=e,this.path=n,this.type=_n.LISTEN_COMPLETE}operationForChild(e){return fe(this.path)?new kl(this.source,we()):new kl(this.source,Te(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=_n.OVERWRITE}operationForChild(e){return fe(this.path)?new ci(this.source,we(),this.snap.getImmediateChild(e)):new ci(this.source,Te(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=_n.MERGE}operationForChild(e){if(fe(this.path)){const n=this.children.subtree(new Ce(e));return n.isEmpty()?null:n.value?new ci(this.source,we(),n.value):new To(this.source,we(),n)}else return H(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new To(this.source,Te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(fe(e))return this.isFullyInitialized()&&!this.filtered_;const n=he(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function dU(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(J3(o.childName,o.snapshotNode))}),ya(t,s,"child_removed",e,r,n),ya(t,s,"child_added",e,r,n),ya(t,s,"child_moved",i,r,n),ya(t,s,"child_changed",e,r,n),ya(t,s,"value",e,r,n),s}function ya(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>fU(t,a,l)),o.forEach(a=>{const l=hU(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function hU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function fU(t,e,n){if(e.childName==null||n.childName==null)throw Vo("Should only compare child_ events.");const r=new pe(e.childName,e.snapshotNode),s=new pe(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t,e){return{eventCache:t,serverCache:e}}function Va(t,e,n,r){return ch(new gs(e,n,r),t.serverCache)}function OT(t,e,n,r){return ch(t.eventCache,new gs(e,n,r))}function fd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ui(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf;const pU=()=>(jf||(jf=new Mt(X4)),jf);class Ee{static fromObject(e){let n=new Ee(null);return ht(e,(r,s)=>{n=n.set(new Ce(r),s)}),n}constructor(e,n=pU()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:we(),value:this.value};if(fe(e))return null;{const r=he(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Te(e),n);return i!=null?{path:He(new Ce(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(fe(e))return this;{const n=he(e),r=this.children.get(n);return r!==null?r.subtree(Te(e)):new Ee(null)}}set(e,n){if(fe(e))return new Ee(n,this.children);{const r=he(e),i=(this.children.get(r)||new Ee(null)).set(Te(e),n),o=this.children.insert(r,i);return new Ee(this.value,o)}}remove(e){if(fe(e))return this.children.isEmpty()?new Ee(null):new Ee(null,this.children);{const n=he(e),r=this.children.get(n);if(r){const s=r.remove(Te(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Ee(null):new Ee(this.value,i)}else return this}}get(e){if(fe(e))return this.value;{const n=he(e),r=this.children.get(n);return r?r.get(Te(e)):null}}setTree(e,n){if(fe(e))return n;{const r=he(e),i=(this.children.get(r)||new Ee(null)).setTree(Te(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Ee(this.value,o)}}fold(e){return this.fold_(we(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(He(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,we(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(fe(e))return null;{const i=he(e),o=this.children.get(i);return o?o.findOnPath_(Te(e),He(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,we(),n)}foreachOnPath_(e,n,r){if(fe(e))return this;{this.value&&r(n,this.value);const s=he(e),i=this.children.get(s);return i?i.foreachOnPath_(Te(e),He(n,s),r):new Ee(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(He(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.writeTree_=e}static empty(){return new En(new Ee(null))}}function $a(t,e,n){if(fe(e))return new En(new Ee(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Ct(s,e);return i=i.updateChild(o,n),new En(t.writeTree_.set(s,i))}else{const s=new Ee(n),i=t.writeTree_.setTree(e,s);return new En(i)}}}function Cm(t,e,n){let r=t;return ht(n,(s,i)=>{r=$a(r,He(e,s),i)}),r}function u_(t,e){if(fe(e))return En.empty();{const n=t.writeTree_.setTree(e,new Ee(null));return new En(n)}}function Sm(t,e){return Ei(t,e)!=null}function Ei(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function d_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Oe,(r,s)=>{e.push(new pe(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new pe(r,s.value))}),e}function ls(t,e){if(fe(e))return t;{const n=Ei(t,e);return n!=null?new En(new Ee(n)):new En(t.writeTree_.subtree(e))}}function Em(t){return t.writeTree_.isEmpty()}function ko(t,e){return DT(we(),t.writeTree_,e)}function DT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(H(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=DT(He(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(He(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t,e){return zT(e,t)}function mU(t,e,n,r,s){H(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=$a(t.visibleWrites,e,n)),t.lastWriteId=r}function gU(t,e,n,r){H(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Cm(t.visibleWrites,e,n),t.lastWriteId=r}function yU(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function vU(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);H(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&xU(a,r.path)?s=!1:an(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return wU(t),!0;if(r.snap)t.visibleWrites=u_(t.visibleWrites,r.path);else{const a=r.children;ht(a,l=>{t.visibleWrites=u_(t.visibleWrites,He(r.path,l))})}return!0}else return!1}function xU(t,e){if(t.snap)return an(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&an(He(t.path,n),e))return!0;return!1}function wU(t){t.visibleWrites=LT(t.allWrites,_U,we()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function _U(t){return t.visible}function LT(t,e,n){let r=En.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)an(n,o)?(a=Ct(n,o),r=$a(r,a,i.snap)):an(o,n)&&(a=Ct(o,n),r=$a(r,we(),i.snap.getChild(a)));else if(i.children){if(an(n,o))a=Ct(n,o),r=Cm(r,a,i.children);else if(an(o,n))if(a=Ct(o,n),fe(a))r=Cm(r,we(),i.children);else{const l=ri(i.children,he(a));if(l){const c=l.getChild(Te(a));r=$a(r,we(),c)}}}else throw Vo("WriteRecord should have .snap or .children")}}return r}function FT(t,e,n,r,s){if(!r&&!s){const i=Ei(t.visibleWrites,e);if(i!=null)return i;{const o=ls(t.visibleWrites,e);if(Em(o))return n;if(n==null&&!Sm(o,we()))return null;{const a=n||te.EMPTY_NODE;return ko(o,a)}}}else{const i=ls(t.visibleWrites,e);if(!s&&Em(i))return n;if(!s&&n==null&&!Sm(i,we()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(an(c.path,e)||an(e,c.path))},a=LT(t.allWrites,o,e),l=n||te.EMPTY_NODE;return ko(a,l)}}}function bU(t,e,n){let r=te.EMPTY_NODE;const s=Ei(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Oe,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=ls(t.visibleWrites,e);return n.forEachChild(Oe,(o,a)=>{const l=ko(ls(i,new Ce(o)),a);r=r.updateImmediateChild(o,l)}),d_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=ls(t.visibleWrites,e);return d_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function CU(t,e,n,r,s){H(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=He(e,n);if(Sm(t.visibleWrites,i))return null;{const o=ls(t.visibleWrites,i);return Em(o)?s.getChild(n):ko(o,s.getChild(n))}}function SU(t,e,n,r){const s=He(e,n),i=Ei(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=ls(t.visibleWrites,s);return ko(o,r.getNode().getImmediateChild(n))}else return null}function EU(t,e){return Ei(t.visibleWrites,e)}function TU(t,e,n,r,s,i,o){let a;const l=ls(t.visibleWrites,e),c=Ei(l,we());if(c!=null)a=c;else if(n!=null)a=ko(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),p=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=p.getNext();for(;m&&d.length<s;)h(m,r)!==0&&d.push(m),m=p.getNext();return d}else return[]}function kU(){return{visibleWrites:En.empty(),allWrites:[],lastWriteId:-1}}function pd(t,e,n,r){return FT(t.writeTree,t.treePath,e,n,r)}function Jy(t,e){return bU(t.writeTree,t.treePath,e)}function h_(t,e,n,r){return CU(t.writeTree,t.treePath,e,n,r)}function md(t,e){return EU(t.writeTree,He(t.treePath,e))}function NU(t,e,n,r,s,i){return TU(t.writeTree,t.treePath,e,n,r,s,i)}function Zy(t,e,n){return SU(t.writeTree,t.treePath,e,n)}function UT(t,e){return zT(He(t.treePath,e),t.writeTree)}function zT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;H(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),H(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,El(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Sl(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Eo(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,El(r,e.snapshotNode,s.oldSnap));else throw Vo("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const VT=new RU;class ev{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new gs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zy(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ui(this.viewCache_),i=NU(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t){return{filter:t}}function AU(t,e){H(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),H(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function jU(t,e,n,r,s){const i=new PU;let o,a;if(n.type===_n.OVERWRITE){const c=n;c.source.fromUser?o=Tm(t,e,c.path,c.snap,r,s,i):(H(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!fe(c.path),o=gd(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===_n.MERGE){const c=n;c.source.fromUser?o=OU(t,e,c.path,c.children,r,s,i):(H(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=km(t,e,c.path,c.children,r,s,a,i))}else if(n.type===_n.ACK_USER_WRITE){const c=n;c.revert?o=FU(t,e,c.path,r,s,i):o=DU(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===_n.LISTEN_COMPLETE)o=LU(t,e,n.path,r,i);else throw Vo("Unknown operation type: "+n.type);const l=i.getChanges();return MU(e,o,l),{viewCache:o,changes:l}}function MU(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=fd(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(jT(fd(e)))}}function $T(t,e,n,r,s,i){const o=e.eventCache;if(md(r,n)!=null)return e;{let a,l;if(fe(n))if(H(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ui(e),d=c instanceof te?c:te.EMPTY_NODE,h=Jy(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=pd(r,ui(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=he(n);if(c===".priority"){H(ms(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=h_(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=Te(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const p=h_(r,n,o.getNode(),l);p!=null?h=o.getNode().getImmediateChild(c).updateChild(d,p):h=o.getNode().getImmediateChild(c)}else h=Zy(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,s,i):a=o.getNode()}}return Va(e,a,o.isFullyInitialized()||fe(n),t.filter.filtersNodes())}}function gd(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(fe(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),m,null)}else{const m=he(n);if(!l.isCompleteForPath(n)&&ms(n)>1)return e;const y=Te(n),w=l.getNode().getImmediateChild(m).updateChild(y,r);m===".priority"?c=d.updatePriority(l.getNode(),w):c=d.updateChild(l.getNode(),m,w,y,VT,null)}const h=OT(e,c,l.isFullyInitialized()||fe(n),d.filtersNodes()),p=new ev(s,h,i);return $T(t,h,n,s,p,a)}function Tm(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const d=new ev(s,e,i);if(fe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Va(e,c,!0,t.filter.filtersNodes());else{const h=he(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Va(e,c,a.isFullyInitialized(),a.isFiltered());else{const p=Te(n),m=a.getNode().getImmediateChild(h);let y;if(fe(p))y=r;else{const g=d.getCompleteChild(h);g!=null?$y(p)===".priority"&&g.getChild(ET(p)).isEmpty()?y=g:y=g.updateChild(p,r):y=te.EMPTY_NODE}if(m.equals(y))l=e;else{const g=t.filter.updateChild(a.getNode(),h,y,p,d,o);l=Va(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function f_(t,e){return t.eventCache.isCompleteForChild(e)}function OU(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const d=He(n,l);f_(e,he(d))&&(a=Tm(t,a,d,c,s,i,o))}),r.foreach((l,c)=>{const d=He(n,l);f_(e,he(d))||(a=Tm(t,a,d,c,s,i,o))}),a}function p_(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function km(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;fe(n)?c=r:c=new Ee(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,p)=>{if(d.hasChild(h)){const m=e.serverCache.getNode().getImmediateChild(h),y=p_(t,m,p);l=gd(t,l,new Ce(h),y,s,i,o,a)}}),c.children.inorderTraversal((h,p)=>{const m=!e.serverCache.isCompleteForChild(h)&&p.value===null;if(!d.hasChild(h)&&!m){const y=e.serverCache.getNode().getImmediateChild(h),g=p_(t,y,p);l=gd(t,l,new Ce(h),g,s,i,o,a)}}),l}function DU(t,e,n,r,s,i,o){if(md(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(fe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return gd(t,e,n,l.getNode().getChild(n),s,i,a,o);if(fe(n)){let c=new Ee(null);return l.getNode().forEachChild(Ks,(d,h)=>{c=c.set(new Ce(d),h)}),km(t,e,n,c,s,i,a,o)}else return e}else{let c=new Ee(null);return r.foreach((d,h)=>{const p=He(n,d);l.isCompleteForPath(p)&&(c=c.set(d,l.getNode().getChild(p)))}),km(t,e,n,c,s,i,a,o)}}function LU(t,e,n,r,s){const i=e.serverCache,o=OT(e,i.getNode(),i.isFullyInitialized()||fe(n),i.isFiltered());return $T(t,o,n,r,VT,s)}function FU(t,e,n,r,s,i){let o;if(md(r,n)!=null)return e;{const a=new ev(r,e,s),l=e.eventCache.getNode();let c;if(fe(n)||he(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=pd(r,ui(e));else{const h=e.serverCache.getNode();H(h instanceof te,"serverChildren would be complete if leaf node"),d=Jy(r,h)}d=d,c=t.filter.updateFullNode(l,d,i)}else{const d=he(n);let h=Zy(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,Te(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,te.EMPTY_NODE,Te(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=pd(r,ui(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||md(r,we())!=null,Va(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new qy(r.getIndex()),i=eU(r);this.processor_=IU(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(te.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(te.EMPTY_NODE,a.getNode(),null),d=new gs(l,o.isFullyInitialized(),s.filtersNodes()),h=new gs(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=ch(h,d),this.eventGenerator_=new uU(this.query_)}get query(){return this.query_}}function zU(t){return t.viewCache_.serverCache.getNode()}function VU(t){return fd(t.viewCache_)}function $U(t,e){const n=ui(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!fe(e)&&!n.getImmediateChild(he(e)).isEmpty())?n.getChild(e):null}function m_(t){return t.eventRegistrations_.length===0}function BU(t,e){t.eventRegistrations_.push(e)}function g_(t,e,n){const r=[];if(n){H(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function y_(t,e,n,r){e.type===_n.MERGE&&e.source.queryId!==null&&(H(ui(t.viewCache_),"We should always have a full cache before handling merges"),H(fd(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=jU(t.processor_,s,e,n,r);return AU(t.processor_,i.viewCache),H(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,BT(t,i.changes,i.viewCache.eventCache.getNode(),null)}function WU(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Oe,(i,o)=>{r.push(Eo(i,o))}),n.isFullyInitialized()&&r.push(jT(n.getNode())),BT(t,r,n.getNode(),e)}function BT(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return dU(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd;class WT{constructor(){this.views=new Map}}function HU(t){H(!yd,"__referenceConstructor has already been defined"),yd=t}function GU(){return H(yd,"Reference.ts has not been loaded"),yd}function qU(t){return t.views.size===0}function tv(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return H(i!=null,"SyncTree gave us an op for an invalid query."),y_(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(y_(o,e,n,r));return i}}function HT(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=pd(n,s?r:null),l=!1;a?l=!0:r instanceof te?(a=Jy(n,r),l=!1):(a=te.EMPTY_NODE,l=!1);const c=ch(new gs(a,l,!1),new gs(r,s,!1));return new UU(e,c)}return o}function KU(t,e,n,r,s,i){const o=HT(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),BU(o,n),WU(o,n)}function QU(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=ys(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(g_(c,n,r)),m_(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(g_(l,n,r)),m_(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!ys(t)&&i.push(new(GU())(e._repo,e._path)),{removed:i,events:o}}function GT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function cs(t,e){let n=null;for(const r of t.views.values())n=n||$U(r,e);return n}function qT(t,e){if(e._queryParams.loadsAllData())return dh(t);{const r=e._queryIdentifier;return t.views.get(r)}}function KT(t,e){return qT(t,e)!=null}function ys(t){return dh(t)!=null}function dh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;function YU(t){H(!vd,"__referenceConstructor has already been defined"),vd=t}function XU(){return H(vd,"Reference.ts has not been loaded"),vd}let JU=1;class v_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ee(null),this.pendingWriteTree_=kU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nv(t,e,n,r,s){return mU(t.pendingWriteTree_,e,n,r,s),s?Go(t,new ci(Qy(),e,n)):[]}function ZU(t,e,n,r){gU(t.pendingWriteTree_,e,n,r);const s=Ee.fromObject(n);return Go(t,new To(Qy(),e,s))}function Yr(t,e,n=!1){const r=yU(t.pendingWriteTree_,e);if(vU(t.pendingWriteTree_,e)){let i=new Ee(null);return r.snap!=null?i=i.set(we(),!0):ht(r.children,o=>{i=i.set(new Ce(o),!0)}),Go(t,new hd(r.path,i,n))}else return[]}function ec(t,e,n){return Go(t,new ci(Yy(),e,n))}function ez(t,e,n){const r=Ee.fromObject(n);return Go(t,new To(Yy(),e,r))}function tz(t,e){return Go(t,new kl(Yy(),e))}function nz(t,e,n){const r=rv(t,n);if(r){const s=sv(r),i=s.path,o=s.queryId,a=Ct(i,e),l=new kl(Xy(o),a);return iv(t,i,l)}else return[]}function xd(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||KT(o,e))){const l=QU(o,e,n,r);qU(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const d=c.findIndex(p=>p._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(i,(p,m)=>ys(m));if(d&&!h){const p=t.syncPointTree_.subtree(i);if(!p.isEmpty()){const m=iz(p);for(let y=0;y<m.length;++y){const g=m[y],w=g.query,v=JT(t,g);t.listenProvider_.startListening(Ba(w),Nl(t,w),v.hashFn,v.onComplete)}}}!h&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(Ba(e),null):c.forEach(p=>{const m=t.queryToTagMap.get(fh(p));t.listenProvider_.stopListening(Ba(p),m)}))}oz(t,c)}return a}function QT(t,e,n,r){const s=rv(t,r);if(s!=null){const i=sv(s),o=i.path,a=i.queryId,l=Ct(o,e),c=new ci(Xy(a),l,n);return iv(t,o,c)}else return[]}function rz(t,e,n,r){const s=rv(t,r);if(s){const i=sv(s),o=i.path,a=i.queryId,l=Ct(o,e),c=Ee.fromObject(n),d=new To(Xy(a),l,c);return iv(t,o,d)}else return[]}function Nm(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(p,m)=>{const y=Ct(p,s);i=i||cs(m,y),o=o||ys(m)});let a=t.syncPointTree_.get(s);a?(o=o||ys(a),i=i||cs(a,we())):(a=new WT,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=te.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((m,y)=>{const g=cs(y,we());g&&(i=i.updateImmediateChild(m,g))}));const c=KT(a,e);if(!c&&!e._queryParams.loadsAllData()){const p=fh(e);H(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const m=az();t.queryToTagMap.set(p,m),t.tagToQueryMap.set(m,p)}const d=uh(t.pendingWriteTree_,s);let h=KU(a,e,n,d,i,l);if(!c&&!o&&!r){const p=qT(a,e);h=h.concat(lz(t,e,p))}return h}function hh(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ct(o,e),c=cs(a,l);if(c)return c});return FT(s,e,i,n,!0)}function sz(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const h=Ct(c,n);r=r||cs(d,h)});let s=t.syncPointTree_.get(n);s?r=r||cs(s,we()):(s=new WT,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new gs(r,!0,!1):null,a=uh(t.pendingWriteTree_,e._path),l=HT(s,e,a,i?o.getNode():te.EMPTY_NODE,i);return VU(l)}function Go(t,e){return YT(e,t.syncPointTree_,null,uh(t.pendingWriteTree_,we()))}function YT(t,e,n,r){if(fe(t.path))return XT(t,e,n,r);{const s=e.get(we());n==null&&s!=null&&(n=cs(s,we()));let i=[];const o=he(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=UT(r,o);i=i.concat(YT(a,l,c,d))}return s&&(i=i.concat(tv(s,t,r,n))),i}}function XT(t,e,n,r){const s=e.get(we());n==null&&s!=null&&(n=cs(s,we()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=UT(r,o),d=t.operationForChild(o);d&&(i=i.concat(XT(d,a,l,c)))}),s&&(i=i.concat(tv(s,t,r,n))),i}function JT(t,e){const n=e.query,r=Nl(t,n);return{hashFn:()=>(zU(e)||te.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?nz(t,n._path,r):tz(t,n._path);{const i=e3(s,n);return xd(t,n,null,i)}}}}function Nl(t,e){const n=fh(e);return t.queryToTagMap.get(n)}function fh(t){return t._path.toString()+"$"+t._queryIdentifier}function rv(t,e){return t.tagToQueryMap.get(e)}function sv(t){const e=t.indexOf("$");return H(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ce(t.substr(0,e))}}function iv(t,e,n){const r=t.syncPointTree_.get(e);H(r,"Missing sync point for query tag that we're tracking");const s=uh(t.pendingWriteTree_,e);return tv(r,n,s,null)}function iz(t){return t.fold((e,n,r)=>{if(n&&ys(n))return[dh(n)];{let s=[];return n&&(s=GT(n)),ht(r,(i,o)=>{s=s.concat(o)}),s}})}function Ba(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(XU())(t._repo,t._path):t}function oz(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=fh(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function az(){return JU++}function lz(t,e,n){const r=e._path,s=Nl(t,e),i=JT(t,n),o=t.listenProvider_.startListening(Ba(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)H(!ys(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!fe(c)&&d&&ys(d))return[dh(d).query];{let p=[];return d&&(p=p.concat(GT(d).map(m=>m.query))),ht(h,(m,y)=>{p=p.concat(y)}),p}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(Ba(d),Nl(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ov(n)}node(){return this.node_}}class av{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=He(this.path_,e);return new av(this.syncTree_,n)}node(){return hh(this.syncTree_,this.path_)}}const cz=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},x_=function(t,e,n){if(!t||typeof t!="object")return t;if(H(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return uz(t[".sv"],e,n);if(typeof t[".sv"]=="object")return dz(t[".sv"],e);H(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},uz=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:H(!1,"Unexpected server value: "+t)}},dz=function(t,e,n){t.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&H(!1,"Unexpected increment value: "+r);const s=e.node();if(H(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},ZT=function(t,e,n,r){return cv(e,new av(n,t),r)},lv=function(t,e,n){return cv(t,new ov(e),n)};function cv(t,e,n){const r=t.getPriority().val(),s=x_(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=x_(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new tt(a,Ye(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new tt(s))),o.forEachChild(Oe,(a,l)=>{const c=cv(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ph(t,e){let n=e instanceof Ce?e:new Ce(e),r=t,s=he(n);for(;s!==null;){const i=ri(r.node.children,s)||{children:{},childCount:0};r=new uv(s,r,i),n=Te(n),s=he(n)}return r}function Ti(t){return t.node.value}function dv(t,e){t.node.value=e,Pm(t)}function ek(t){return t.node.childCount>0}function hz(t){return Ti(t)===void 0&&!ek(t)}function mh(t,e){ht(t.node.children,(n,r)=>{e(new uv(n,t,r))})}function tk(t,e,n,r){n&&!r&&e(t),mh(t,s=>{tk(s,e,!0,r)}),n&&r&&e(t)}function fz(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function tc(t){return new Ce(t.parent===null?t.name:tc(t.parent)+"/"+t.name)}function Pm(t){t.parent!==null&&pz(t.parent,t.name,t)}function pz(t,e,n){const r=hz(n),s=Rn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Pm(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Pm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=/[\[\].#$\/\u0000-\u001F\u007F]/,gz=/[\[\].#$\u0000-\u001F\u007F]/,Mf=10*1024*1024,hv=function(t){return typeof t=="string"&&t.length!==0&&!mz.test(t)},nk=function(t){return typeof t=="string"&&t.length!==0&&!gz.test(t)},yz=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),nk(t)},wd=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ly(t)||t&&typeof t=="object"&&Rn(t,".sv")},nc=function(t,e,n,r){r&&e===void 0||rc(nh(t,"value"),e,n)},rc=function(t,e,n){const r=n instanceof Ce?new M3(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ds(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ds(r)+" with contents = "+e.toString());if(Ly(e))throw new Error(t+"contains "+e.toString()+" "+Ds(r));if(typeof e=="string"&&e.length>Mf/3&&rh(e)>Mf)throw new Error(t+"contains a string greater than "+Mf+" utf8 bytes "+Ds(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(ht(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!hv(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ds(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);O3(r,o),rc(t,a,r),D3(r)}),s&&i)throw new Error(t+' contains ".value" child '+Ds(r)+" in addition to actual children.")}},vz=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Cl(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!hv(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(j3);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&an(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},xz=function(t,e,n,r){const s=nh(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];ht(e,(o,a)=>{const l=new Ce(o);if(rc(s,a,He(n,l)),$y(l)===".priority"&&!wd(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),vz(s,i)},fv=function(t,e,n,r){if(!nk(n))throw new Error(nh(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wz=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fv(t,e,n)},gh=function(t,e){if(he(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},_z=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!hv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!yz(n))throw new Error(nh(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yh(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!By(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function rk(t,e,n){yh(t,n),sk(t,r=>By(r,e))}function Yt(t,e,n){yh(t,n),sk(t,r=>an(r,e)||an(e,r))}function sk(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(Cz(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Cz(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();qs&&ct("event: "+n.toString()),Ho(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="repo_interrupt",Sz=25;class Ez{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dd(),this.transactionQueueTree_=new uv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Tz(t,e,n){if(t.stats_=zy(t.repoInfo_),t.forceRestClient_||s3())t.server_=new ud(t.repoInfo_,(r,s,i,o)=>{w_(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>__(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ur(t.repoInfo_,e,(r,s,i,o)=>{w_(t,r,s,i,o)},r=>{__(t,r)},r=>{kz(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=c3(t.repoInfo_,()=>new cU(t.stats_,t.server_)),t.infoData_=new sU,t.infoSyncTree_=new v_({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ec(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),pv(t,"connected",!1),t.serverSyncTree_=new v_({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Yt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function ok(t){const n=t.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function sc(t){return cz({timestamp:ok(t)})}function w_(t,e,n,r,s){t.dataUpdateCount++;const i=new Ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Ju(n,c=>Ye(c));o=rz(t.serverSyncTree_,i,l,s)}else{const l=Ye(n);o=QT(t.serverSyncTree_,i,l,s)}else if(r){const l=Ju(n,c=>Ye(c));o=ez(t.serverSyncTree_,i,l)}else{const l=Ye(n);o=ec(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=No(t,i)),Yt(t.eventQueue_,a,o)}function __(t,e){pv(t,"connected",e),e===!1&&Iz(t)}function kz(t,e){ht(e,(n,r)=>{pv(t,n,r)})}function pv(t,e,n){const r=new Ce("/.info/"+e),s=Ye(n);t.infoData_.updateSnapshot(r,s);const i=ec(t.infoSyncTree_,r,s);Yt(t.eventQueue_,r,i)}function vh(t){return t.nextWriteId_++}function Nz(t,e,n){const r=sz(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=Ye(s).withIndex(e._queryParams.getIndex());Nm(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=ec(t.serverSyncTree_,e._path,i);else{const a=Nl(t.serverSyncTree_,e);o=QT(t.serverSyncTree_,e._path,i,a)}return Yt(t.eventQueue_,e._path,o),xd(t.serverSyncTree_,e,n,null,!0),i},s=>(qo(t,"get for query "+Ze(e)+" failed: "+s),Promise.reject(new Error(s))))}function Pz(t,e,n,r,s){qo(t,"set",{path:e.toString(),value:n,priority:r});const i=sc(t),o=Ye(n,r),a=hh(t.serverSyncTree_,e),l=lv(o,a,i),c=vh(t),d=nv(t.serverSyncTree_,e,l,c,!0);yh(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(p,m)=>{const y=p==="ok";y||Tt("set at "+e+" failed: "+p);const g=Yr(t.serverSyncTree_,c,!y);Yt(t.eventQueue_,e,g),Im(t,s,p,m)});const h=gv(t,e);No(t,h),Yt(t.eventQueue_,h,[])}function Rz(t,e,n,r){qo(t,"update",{path:e.toString(),value:n});let s=!0;const i=sc(t),o={};if(ht(n,(a,l)=>{s=!1,o[a]=ZT(He(e,a),Ye(l),t.serverSyncTree_,i)}),s)ct("update() called with empty data.  Don't do anything."),Im(t,r,"ok",void 0);else{const a=vh(t),l=ZU(t.serverSyncTree_,e,o,a);yh(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const h=c==="ok";h||Tt("update at "+e+" failed: "+c);const p=Yr(t.serverSyncTree_,a,!h),m=p.length>0?No(t,e):e;Yt(t.eventQueue_,m,p),Im(t,r,c,d)}),ht(n,c=>{const d=gv(t,He(e,c));No(t,d)}),Yt(t.eventQueue_,e,[])}}function Iz(t){qo(t,"onDisconnectEvents");const e=sc(t),n=dd();bm(t.onDisconnect_,we(),(s,i)=>{const o=ZT(s,i,t.serverSyncTree_,e);MT(n,s,o)});let r=[];bm(n,we(),(s,i)=>{r=r.concat(ec(t.serverSyncTree_,s,i));const o=gv(t,s);No(t,o)}),t.onDisconnect_=dd(),Yt(t.eventQueue_,we(),r)}function Az(t,e,n){let r;he(e._path)===".info"?r=Nm(t.infoSyncTree_,e,n):r=Nm(t.serverSyncTree_,e,n),rk(t.eventQueue_,e._path,r)}function Rm(t,e,n){let r;he(e._path)===".info"?r=xd(t.infoSyncTree_,e,n):r=xd(t.serverSyncTree_,e,n),rk(t.eventQueue_,e._path,r)}function ak(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ik)}function jz(t){t.persistentConnection_&&t.persistentConnection_.resume(ik)}function qo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ct(n,...e)}function Im(t,e,n,r){e&&Ho(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function Mz(t,e,n,r,s,i){qo(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:nT(),applyLocally:i,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=mv(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{rc("transaction failed: Data returned ",l,o.path),o.status=0;const c=ph(t.transactionQueueTree_,e),d=Ti(c)||[];d.push(o),dv(c,d);let h;typeof l=="object"&&l!==null&&Rn(l,".priority")?(h=ri(l,".priority"),H(wd(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(hh(t.serverSyncTree_,e)||te.EMPTY_NODE).getPriority().val();const p=sc(t),m=Ye(l,h),y=lv(m,a,p);o.currentOutputSnapshotRaw=m,o.currentOutputSnapshotResolved=y,o.currentWriteId=vh(t);const g=nv(t.serverSyncTree_,e,y,o.currentWriteId,o.applyLocally);Yt(t.eventQueue_,e,g),xh(t,t.transactionQueueTree_)}}function mv(t,e,n){return hh(t.serverSyncTree_,e,n)||te.EMPTY_NODE}function xh(t,e=t.transactionQueueTree_){if(e||wh(t,e),Ti(e)){const n=ck(t,e);H(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&Oz(t,tc(e),n)}else ek(e)&&mh(e,n=>{xh(t,n)})}function Oz(t,e,n){const r=n.map(c=>c.currentWriteId),s=mv(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const d=n[c];H(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Ct(e,d.path);i=i.updateChild(h,d.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{qo(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let p=0;p<n.length;p++)n[p].status=2,d=d.concat(Yr(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&h.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();wh(t,ph(t.transactionQueueTree_,e)),xh(t,t.transactionQueueTree_),Yt(t.eventQueue_,e,d);for(let p=0;p<h.length;p++)Ho(h[p])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Tt("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}No(t,e)}},o)}function No(t,e){const n=lk(t,e),r=tc(n),s=ck(t,n);return Dz(t,s,r),r}function Dz(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ct(n,l.path);let d=!1,h;if(H(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,s=s.concat(Yr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Sz)d=!0,h="maxretry",s=s.concat(Yr(t.serverSyncTree_,l.currentWriteId,!0));else{const p=mv(t,l.path,o);l.currentInputSnapshot=p;const m=e[a].update(p.val());if(m!==void 0){rc("transaction failed: Data returned ",m,l.path);let y=Ye(m);typeof m=="object"&&m!=null&&Rn(m,".priority")||(y=y.updatePriority(p.getPriority()));const w=l.currentWriteId,v=sc(t),x=lv(y,p,v);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=x,l.currentWriteId=vh(t),o.splice(o.indexOf(w),1),s=s.concat(nv(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),s=s.concat(Yr(t.serverSyncTree_,w,!0))}else d=!0,h="nodata",s=s.concat(Yr(t.serverSyncTree_,l.currentWriteId,!0))}Yt(t.eventQueue_,n,s),s=[],d&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}wh(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ho(r[a]);xh(t,t.transactionQueueTree_)}function lk(t,e){let n,r=t.transactionQueueTree_;for(n=he(e);n!==null&&Ti(r)===void 0;)r=ph(r,n),e=Te(e),n=he(e);return r}function ck(t,e){const n=[];return uk(t,e,n),n.sort((r,s)=>r.order-s.order),n}function uk(t,e,n){const r=Ti(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);mh(e,s=>{uk(t,s,n)})}function wh(t,e){const n=Ti(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,dv(e,n.length>0?n:void 0)}mh(e,r=>{wh(t,r)})}function gv(t,e){const n=tc(lk(t,e)),r=ph(t.transactionQueueTree_,e);return fz(r,s=>{Of(t,s)}),Of(t,r),tk(r,s=>{Of(t,s)}),n}function Of(t,e){const n=Ti(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(H(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(H(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Yr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?dv(e,void 0):n.length=i+1,Yt(t.eventQueue_,tc(e),s);for(let o=0;o<r.length;o++)Ho(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function Fz(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Tt(`Invalid query segment '${n}' in query '${t}'`)}return e}const b_=function(t,e){const n=Uz(t),r=n.namespace;n.domain==="firebase.com"&&wr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&wr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Q4();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gT(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ce(n.pathString)}},Uz=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(s=Lz(t.substring(d,h)));const p=Fz(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),i=r}"ns"in p&&(i=p.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zz=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=C_.charAt(n%64),n=Math.floor(n/64);H(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=C_.charAt(e[s]);return H(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class hk{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return fe(this._path)?null:$y(this._path)}get ref(){return new In(this._repo,this._path)}get _queryIdentifier(){const e=l_(this._queryParams),n=Fy(e);return n==="{}"?"default":n}get _queryObject(){return l_(this._queryParams)}isEqual(e){if(e=De(e),!(e instanceof Ko))return!1;const n=this._repo===e._repo,r=By(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+A3(this._path)}}function Vz(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function vv(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ks){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==li)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==ps)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===Oe){if(e!=null&&!wd(e)||n!=null&&!wd(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(H(t.getIndex()instanceof Gy||t.getIndex()===AT,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function fk(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class In extends Ko{constructor(e,n){super(e,n,new Ky,!1)}get parent(){const e=ET(this._path);return e===null?null:new In(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class di{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ce(e),r=Po(this.ref,e);return new di(this._node.getChild(n),r,Oe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new di(s,Po(this.ref,r),Oe)))}hasChild(e){const n=new Ce(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _e(t,e){return t=De(t),t._checkNotDeleted("ref"),e!==void 0?Po(t._root,e):t._root}function Po(t,e){return t=De(t),he(t._path)===null?wz("child","path",e):fv("child","path",e),new In(t._repo,He(t._path,e))}function pk(t,e){t=De(t),gh("push",t._path),nc("push",e,t._path,!0);const n=ok(t._repo),r=zz(n),s=Po(t,r),i=Po(t,r);let o;return o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function $z(t){return gh("remove",t._path),us(t,null)}function us(t,e){t=De(t),gh("set",t._path),nc("set",e,t._path,!1);const n=new $o;return Pz(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function $s(t,e){xz("update",e,t._path);const n=new $o;return Rz(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function vn(t){t=De(t);const e=new yv(()=>{}),n=new ic(e);return Nz(t._repo,t,n).then(r=>new di(r,new In(t._repo,t._path),t._queryParams.getIndex()))}class ic{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new dk("value",this,new di(e.snapshotNode,new In(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hk(this,e,n):null}matches(e){return e instanceof ic?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class xv{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hk(this,e,n):null}createEvent(e,n){H(e.childName!=null,"Child events should have a childName.");const r=Po(new In(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new dk(e.type,this,new di(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof xv?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Bz(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=n,c=(d,h)=>{Rm(t._repo,t,a),l(d,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new yv(n,i||void 0),a=new ic(o);return Az(t._repo,t,a),()=>Rm(t._repo,t,a)}function Ro(t,e,n,r){return Bz(t,"value",e,n,r)}function _d(t,e,n){let r=null;const s=n?new yv(n):null;e==="value"?r=new ic(s):e&&(r=new xv(e,s)),Rm(t._repo,t,r)}class _h{}class Wz extends _h{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){nc("endAt",this._value,e._path,!0);const n=nU(e._queryParams,this._value,this._key);if(fk(n),vv(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ko(e._repo,e._path,n,e._orderByCalled)}}class Hz extends _h{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){nc("startAt",this._value,e._path,!0);const n=tU(e._queryParams,this._value,this._key);if(fk(n),vv(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ko(e._repo,e._path,n,e._orderByCalled)}}class Gz extends _h{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Vz(e,"orderByChild");const n=new Ce(this._path);if(fe(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Gy(n),s=rU(e._queryParams,r);return vv(s),new Ko(e._repo,e._path,s,!0)}}function qz(t){return fv("orderByChild","path",t),new Gz(t)}class Kz extends _h{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(nc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Wz(this._value,this._key)._apply(new Hz(this._value,this._key)._apply(e))}}function Qz(t,e){return new Kz(t,e)}function Yz(t,...e){let n=De(t);for(const r of e)n=r._apply(n);return n}HU(In);YU(In);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz="FIREBASE_DATABASE_EMULATOR_HOST",Am={};let Jz=!1;function Zz(t,e,n,r){t.repoInfo_=new gT(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function eV(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||wr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=b_(i,s),a=o.repoInfo,l;typeof process<"u"&&Ww&&(l=Ww[Xz]),l?(i=`http://${l}?ns=${a.namespace}`,o=b_(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new o3(t.name,t.options,e);_z("Invalid Firebase Database URL",o),fe(o.path)||wr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=nV(a,t,c,new i3(t,n));return new rV(d,t)}function tV(t,e){const n=Am[e];(!n||n[t.key]!==t)&&wr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ak(t),delete n[t.key]}function nV(t,e,n,r){let s=Am[e.name];s||(s={},Am[e.name]=s);let i=s[t.toURLString()];return i&&wr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Ez(t,Jz,n,r),s[t.toURLString()]=i,i}class rV{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Tz(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new In(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wr("Cannot call "+e+" on a deleted database.")}}function sV(t=Ny(),e){const n=sh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=o1("database");r&&iV(n,...r)}return n}function iV(t,e,n,r={}){t=De(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&si(r,i.repoInfo_.emulatorOptions))return;wr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&wr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new fu(fu.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:c1(r.mockUserToken,t.app.options.projectId);o=new fu(a)}Zz(i,s,r,o)}function S_(t){t=De(t),t._checkNotDeleted("goOffline"),ak(t._repo)}function E_(t){t=De(t),t._checkNotDeleted("goOnline"),jz(t._repo)}function oV(t,e){sT(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){G4(bi),ii(new fs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return eV(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Wn(Hw,Gw,t),Wn(Hw,Gw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Df(t,e,n){var r;if(t=De(t),gh("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const s=(r=void 0)!==null&&r!==void 0?r:!0,i=new $o,o=(l,c,d)=>{let h=null;l?i.reject(l):(h=new di(d,new In(t._repo,t._path),Oe),i.resolve(new lV(c,h)))},a=Ro(t,()=>{});return Mz(t._repo,t._path,e,o,a,s),i.promise}ur.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ur.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};aV();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="firebasestorage.googleapis.com",gk="storageBucket",cV=2*60*1e3,uV=10*60*1e3,dV=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e extends Tr{constructor(e,n,r=0){super(Lf(e),`Firebase Storage: ${n} (${Lf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var je;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(je||(je={}));function Lf(t){return"storage/"+t}function wv(){const t="An unknown error occurred, please check the error payload for server response.";return new $e(je.UNKNOWN,t)}function hV(t){return new $e(je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function fV(t){return new $e(je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function pV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $e(je.UNAUTHENTICATED,t)}function mV(){return new $e(je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function gV(t){return new $e(je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function yk(){return new $e(je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vk(){return new $e(je.CANCELED,"User canceled the upload/download.")}function yV(t){return new $e(je.INVALID_URL,"Invalid URL '"+t+"'.")}function vV(t){return new $e(je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xV(){return new $e(je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gk+"' property when initializing the app?")}function xk(){return new $e(je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wV(){return new $e(je.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function _V(){return new $e(je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function bV(t){return new $e(je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jm(t){return new $e(je.INVALID_ARGUMENT,t)}function wk(){return new $e(je.APP_DELETED,"The Firebase app was deleted.")}function CV(t){return new $e(je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wa(t,e){return new $e(je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function va(t){throw new $e(je.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gt.makeFromUrl(e,n)}catch{return new Gt(e,"")}if(r.path==="")return r;throw vV(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(b){b.path_=decodeURIComponent(b.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),y={bucket:1,path:3},g=n===mk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${g}/${s}/${w}`,"i"),_=[{regex:a,indices:l,postModify:i},{regex:m,indices:y,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<_.length;b++){const C=_[b],P=C.regex.exec(e);if(P){const N=P[C.indices.bucket];let E=P[C.indices.path];E||(E=""),r=new Gt(N,E),C.postModify(r);break}}if(r==null)throw yV(e);return r}}class SV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...w){c||(c=!0,e.apply(null,w))}function h(w){s=setTimeout(()=>{s=null,t(m,l())},w)}function p(){i&&clearTimeout(i)}function m(w,...v){if(c){p();return}if(w){p(),d.call(null,w,...v);return}if(l()||o){p(),d.call(null,w,...v);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let y=!1;function g(w){y||(y=!0,p(),!c&&(s!==null?(w||(a=2),clearTimeout(s),h(0)):w||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function TV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){return t!==void 0}function NV(t){return typeof t=="function"}function PV(t){return typeof t=="object"&&!Array.isArray(t)}function bh(t){return typeof t=="string"||t instanceof String}function T_(t){return _v()&&t instanceof Blob}function _v(){return typeof Blob<"u"}function k_(t,e,n,r){if(r<e)throw jm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _k(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Qs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qs||(Qs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n,r,s,i,o,a,l,c,d,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Fc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Qs.NO_ERROR,l=i.getStatus();if(!a||bk(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Qs.ABORT;r(!1,new Fc(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Fc(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());kV(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=wv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?wk():vk();o(l)}else{const l=yk();o(l)}};this.canceled_?n(!1,new Fc(!1,null,!0)):this.backoffId_=EV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function IV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function MV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function OV(t,e,n,r,s,i,o=!0){const a=_k(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return jV(c,e),IV(c,n),AV(c,i),MV(c,r),new RV(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LV(...t){const e=DV();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(_v())return new Blob(t);throw new $e(je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function FV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){if(typeof atob>"u")throw bV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ff{constructor(e,n){this.data=e,this.contentType=n||null}}function zV(t,e){switch(t){case Vn.RAW:return new Ff(Ck(e));case Vn.BASE64:case Vn.BASE64URL:return new Ff(Sk(t,e));case Vn.DATA_URL:return new Ff($V(e),BV(e))}throw wv()}function Ck(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function VV(t){let e;try{e=decodeURIComponent(t)}catch{throw Wa(Vn.DATA_URL,"Malformed data URL.")}return Ck(e)}function Sk(t,e){switch(t){case Vn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Wa(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Vn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Wa(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=UV(e)}catch(s){throw s.message.includes("polyfill")?s:Wa(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Ek{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Wa(Vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=WV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $V(t){const e=new Ek(t);return e.base64?Sk(Vn.BASE64,e.rest):VV(e.rest)}function BV(t){return new Ek(t).contentType}function WV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){let r=0,s="";T_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(T_(this.data_)){const r=this.data_,s=FV(r,e,n);return s===null?null:new Wr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Wr(r,!0)}}static getBlob(...e){if(_v()){const n=e.map(r=>r instanceof Wr?r.data_:r);return new Wr(LV.apply(null,n))}else{const n=e.map(o=>bh(o)?zV(Vn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Wr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t){let e;try{e=JSON.parse(t)}catch{return null}return PV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function GV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function kk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t,e){return e}class _t{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||qV}}let Uc=null;function KV(t){return!bh(t)||t.length<2?t:kk(t)}function Nk(){if(Uc)return Uc;const t=[];t.push(new _t("bucket")),t.push(new _t("generation")),t.push(new _t("metageneration")),t.push(new _t("name","fullPath",!0));function e(i,o){return KV(o)}const n=new _t("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new _t("size");return s.xform=r,t.push(s),t.push(new _t("timeCreated")),t.push(new _t("updated")),t.push(new _t("md5Hash",null,!0)),t.push(new _t("cacheControl",null,!0)),t.push(new _t("contentDisposition",null,!0)),t.push(new _t("contentEncoding",null,!0)),t.push(new _t("contentLanguage",null,!0)),t.push(new _t("contentType",null,!0)),t.push(new _t("metadata","customMetadata",!0)),Uc=t,Uc}function QV(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Gt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function YV(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return QV(r,t),r}function Pk(t,e,n){const r=Tk(e);return r===null?null:YV(t,r,n)}function XV(t,e,n,r){const s=Tk(e);if(s===null||!bh(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),m=oc(p,n,r),y=_k({alt:"media",token:c});return m+y})[0]}function Rk(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Qo{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){if(!t)throw wv()}function bv(t,e){function n(r,s){const i=Pk(t,s,e);return dr(i!==null),i}return n}function JV(t,e){function n(r,s){const i=Pk(t,s,e);return dr(i!==null),XV(i,s,t.host,t._protocol)}return n}function ac(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=mV():s=pV():n.getStatus()===402?s=fV(t.bucket):n.getStatus()===403?s=gV(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Ik(t){const e=ac(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=hV(t.path)),i.serverResponse=s.serverResponse,i}return n}function ZV(t,e,n){const r=e.fullServerUrl(),s=oc(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Qo(s,i,bv(t,n),o);return a.errorHandler=Ik(e),a}function e5(t,e,n){const r=e.fullServerUrl(),s=oc(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Qo(s,i,JV(t,n),o);return a.errorHandler=Ik(e),a}function t5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Ak(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=t5(null,e)),r}function n5(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let b=0;b<2;b++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Ak(e,r,s),d=Rk(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=Wr.getBlob(h,r,p);if(m===null)throw xk();const y={name:c.fullPath},g=oc(i,t.host,t._protocol),w="POST",v=t.maxUploadRetryTime,x=new Qo(g,w,bv(t,n),v);return x.urlParams=y,x.headers=o,x.body=m.uploadData(),x.errorHandler=ac(e),x}class bd{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Cv(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{dr(!1)}return dr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function r5(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=Ak(e,r,s),a={name:o.fullPath},l=oc(i,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Rk(o,n),p=t.maxUploadRetryTime;function m(g){Cv(g);let w;try{w=g.getResponseHeader("X-Goog-Upload-URL")}catch{dr(!1)}return dr(bh(w)),w}const y=new Qo(l,c,m,p);return y.urlParams=a,y.headers=d,y.body=h,y.errorHandler=ac(e),y}function s5(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(c){const d=Cv(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{dr(!1)}h||dr(!1);const p=Number(h);return dr(!isNaN(p)),new bd(p,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Qo(n,o,i,a);return l.headers=s,l.errorHandler=ac(e),l}const N_=256*1024;function i5(t,e,n,r,s,i,o,a){const l=new bd(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw wV();const c=l.total-l.current;let d=c;s>0&&(d=Math.min(d,s));const h=l.current,p=h+d;let m="";d===0?m="finalize":c===d?m="upload, finalize":m="upload";const y={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(h,p);if(g===null)throw xk();function w(b,C){const P=Cv(b,["active","final"]),N=l.current+d,E=r.size();let j;return P==="final"?j=bv(e,i)(b,C):j=null,new bd(N,E,P==="final",j)}const v="POST",x=e.maxUploadRetryTime,_=new Qo(n,v,w,x);return _.headers=y,_.body=g.uploadData(),_.progressCallback=a||null,_.errorHandler=ac(t),_}const It={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Uf(t){switch(t){case"running":case"pausing":case"canceling":return It.RUNNING;case"paused":return It.PAUSED;case"success":return It.SUCCESS;case"canceled":return It.CANCELED;case"error":return It.ERROR;default:return It.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r){if(NV(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class a5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw va("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw va("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw va("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw va("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw va("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class l5 extends a5{initXhr(){this.xhr_.responseType="text"}}function Mi(){return new l5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Nk(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(je.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(bk(s.status,[]))if(i)s=yk();else{this.sleepTime=Math.max(this.sleepTime*2,dV),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(je.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=r5(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Mi,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=s5(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,Mi,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=N_*this._chunkMultiplier,n=new bd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=i5(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Mi,s,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){N_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=ZV(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Mi,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=n5(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Mi,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=vk(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Uf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new o5(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Uf(this._state)){case It.SUCCESS:Ri(this._resolve.bind(null,this.snapshot))();break;case It.CANCELED:case It.ERROR:const n=this._reject;Ri(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Uf(this._state)){case It.RUNNING:case It.PAUSED:e.next&&Ri(e.next.bind(e,this.snapshot))();break;case It.SUCCESS:e.complete&&Ri(e.complete.bind(e))();break;case It.CANCELED:case It.ERROR:e.error&&Ri(e.error.bind(e,this._error))();break;default:e.error&&Ri(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){this._service=e,n instanceof Gt?this._location=n:this._location=Gt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hi(e,n)}get root(){const e=new Gt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kk(this._location.path)}get storage(){return this._service}get parent(){const e=HV(this._location.path);if(e===null)return null;const n=new Gt(this._location.bucket,e);return new hi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CV(e)}}function u5(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new c5(t,new Wr(e),n)}function d5(t){t._throwIfRoot("getDownloadURL");const e=e5(t.storage,t._location,Nk());return t.storage.makeRequestWithTokens(e,Mi).then(n=>{if(n===null)throw _V();return n})}function h5(t,e){const n=GV(t._location.path,e),r=new Gt(t._location.bucket,n);return new hi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){return/^[A-Za-z]+:\/\//.test(t)}function p5(t,e){return new hi(t,e)}function jk(t,e){if(t instanceof Sv){const n=t;if(n._bucket==null)throw xV();const r=new hi(n,n._bucket);return e!=null?jk(r,e):r}else return e!==void 0?h5(t,e):t}function m5(t,e){if(e&&f5(e)){if(t instanceof Sv)return p5(t,e);throw jm("To use ref(service, url), the first argument must be a Storage instance.")}else return jk(t,e)}function P_(t,e){const n=e==null?void 0:e[gk];return n==null?null:Gt.makeFromBucketSpec(n,t)}function g5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:c1(s,t.app.options.projectId))}class Sv{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=mk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cV,this._maxUploadRetryTime=uV,this._requests=new Set,s!=null?this._bucket=Gt.makeFromBucketSpec(s,this._host):this._bucket=P_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gt.makeFromBucketSpec(this._url,e):this._bucket=P_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){k_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){k_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new SV(wk());{const o=OV(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const R_="@firebase/storage",I_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="storage";function y5(t,e,n){return t=De(t),u5(t,e,n)}function Ev(t){return t=De(t),d5(t)}function Tv(t,e){return t=De(t),m5(t,e)}function kv(t=Ny(),e){t=De(t);const r=sh(t,Mk).getImmediate({identifier:e}),s=o1("storage");return s&&v5(r,...s),r}function v5(t,e,n,r={}){g5(t,e,n,r)}function x5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Sv(n,r,s,e,bi)}function w5(){ii(new fs(Mk,x5,"PUBLIC").setMultipleInstances(!0)),Wn(R_,I_,""),Wn(R_,I_,"esm2017")}w5();const _5={apiKey:"AIzaSyCryP_cKRjgqeH19ekSep8Tawp9TL43r0U",authDomain:"msp-collage-2d1ec.firebaseapp.com",databaseURL:"https://msp-collage-2d1ec-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"msp-collage-2d1ec",storageBucket:"msp-collage-2d1ec.firebasestorage.app",messagingSenderId:"722404290400",appId:"1:722404290400:web:0b373be1a4f2fd0c9f7805",measurementId:"G-69J3BQ8WQ2"},Nv=m1(_5),xa=W4(Nv),ye=sV(Nv),b5=kv(Nv);oV(!1);const C5=1,S5=1e6;let zf=0;function E5(){return zf=(zf+1)%Number.MAX_SAFE_INTEGER,zf.toString()}const Vf=new Map,A_=t=>{if(Vf.has(t))return;const e=setTimeout(()=>{Vf.delete(t),Ha({type:"REMOVE_TOAST",toastId:t})},S5);Vf.set(t,e)},T5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,C5)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?A_(n):t.toasts.forEach(r=>{A_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},pu=[];let mu={toasts:[]};function Ha(t){mu=T5(mu,t),pu.forEach(e=>{e(mu)})}function k5({...t}){const e=E5(),n=s=>Ha({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ha({type:"DISMISS_TOAST",toastId:e});return Ha({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Rt(){const[t,e]=f.useState(mu);return f.useEffect(()=>(pu.push(e),()=>{const n=pu.indexOf(e);n>-1&&pu.splice(n,1)}),[t]),{...t,toast:k5,dismiss:n=>Ha({type:"DISMISS_TOAST",toastId:n})}}const Ok=f.createContext(void 0),Pr=()=>{const t=f.useContext(Ok);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},N5=({children:t})=>{const[e,n]=f.useState(null),[r,s]=f.useState(!1),{toast:i}=Rt(),o=f.useMemo(()=>new Map,[]),a=5*60*1e3,l=async y=>{try{const g=y.trim().toLowerCase(),w=await RF(xa,g);if(w.length===0)return{exists:!1};const v=_e(ye,"users"),x=Yz(v,qz("email"),Qz(g));return{exists:(await vn(x)).exists(),isPasswordValid:w.includes("password")}}catch(g){return console.error("Email check error:",g),{exists:!1}}},c=async(y,g)=>{try{s(!0);const w=y.trim().toLowerCase(),x=(await NF(xa,w,g)).user,_=_e(ye,`users/${x.uid}`),b=await vn(_);if(!b.exists())throw i({title:"Login Failed",description:"Account setup incomplete. Please contact support.",variant:"destructive"}),new Error("auth/user-data-not-found");const C=b.val(),P={id:x.uid,email:x.email,name:C.name,role:C.role||"host"};return o.set(x.uid,{data:P,timestamp:Date.now(),priority:2}),n(P),$s(_,{lastLogin:new Date().toISOString(),lastSeen:new Date().toISOString(),status:"online"}).catch(console.error),i({title:"Welcome back!",description:`Logged in as ${C.name}`,variant:"default"}),P}catch(w){console.error("Login error:",w);let v="Failed to login";throw w.code==="auth/user-not-found"?v="No account found with this email. Please sign up.":w.code==="auth/wrong-password"||w.code==="auth/invalid-credential"?v="Incorrect password. Please try again.":w.code==="auth/invalid-email"?v="Please enter a valid email address.":w.code==="auth/too-many-requests"?v="Too many attempts. Please try again later.":w.code==="auth/network-request-failed"?v="Network error. Please check your connection.":w.message==="auth/user-data-not-found"&&(v="Account setup incomplete. Please contact support."),i({title:"Login Failed",description:v,variant:"destructive"}),new Error(v)}finally{s(!1)}},d=async(y,g,w)=>{try{s(!0);const v=g.trim().toLowerCase(),{exists:x}=await l(v);if(x)throw new Error("email-exists");const b=(await kF(xa,v,w)).user,C={id:b.uid,email:b.email,name:y.trim(),role:"host",createdAt:new Date().toISOString(),lastLogin:new Date().toISOString(),lastSeen:new Date().toISOString(),status:"online"};return await Promise.all([us(_e(ye,`users/${b.uid}`),C),us(_e(ye,`userEmails/${v.replace(/[.#$/\[\]]/g,"_")}`),b.uid),new Promise(P=>{o.set(b.uid,{data:C,timestamp:Date.now(),priority:2}),n(C),P()})]),i({title:"Welcome!",description:"Account created successfully",variant:"default"}),C}catch(v){let x="Failed to create account";throw v.message==="email-exists"||v.code==="auth/email-already-in-use"?x="This email is already registered. Please login instead":v.code==="auth/invalid-email"?x="Please enter a valid email address":v.code==="auth/weak-password"&&(x="Please choose a stronger password"),i({title:"Signup Failed",description:x,variant:"destructive"}),new Error(x)}finally{s(!1)}},h=async()=>{try{e&&$s(_e(ye,`users/${e.id}`),{lastSeen:new Date().toISOString(),status:"offline"}).catch(console.error),await jF(xa),n(null),o.clear()}catch(y){throw console.error("Logout error:",y),y}};f.useEffect(()=>{let y=!0;const g=xa.onAuthStateChanged(async w=>{try{if(!y)return;if(w){const v=o.get(w.uid);if(v&&Date.now()-v.timestamp<a&&v.priority>0){n(v.data);return}const _=(await vn(_e(ye,`users/${w.uid}`))).val();if(_){const b={id:w.uid,email:w.email,name:_.name,role:_.role||"user"};o.set(w.uid,{data:b,timestamp:Date.now(),priority:1}),n(b)}}else n(null),o.clear()}catch(v){console.error("Auth state change error:",v),n(null)}});return()=>{y=!1,g()}},[]);const p=f.useCallback(()=>e!==null,[e]),m={currentUser:e,loading:r,login:c,signup:d,logout:h,isLoggedIn:p,checkEmail:l};return u.jsx(Ok.Provider,{value:m,children:t})};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>f.createElement("svg",{ref:l,...R5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Dk("lucide",s),...a},[...o.map(([c,d])=>f.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(t,e)=>{const n=f.forwardRef(({className:r,...s},i)=>f.createElement(I5,{ref:i,iconNode:e,className:Dk(`lucide-${P5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ce("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=ce("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=ce("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=ce("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=ce("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ce("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=ce("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=ce("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=ce("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ce("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=ce("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xn=()=>u.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:u.jsx("div",{className:"bg-gradient-to-r from-indigo-500/30 to-purple-500/30 backdrop-blur-sm px-4 py-2 rounded-full text-sm text-white shadow-lg animate-pulse",children:"Created by Mr Suraj Zalke"})}),X5=()=>{const{currentUser:t}=Pr(),e=en(),n=()=>{e(t?"/host-dashboard":"/host-login")},r=()=>{e("/join")};return u.jsxs(Sn,{className:"homepage-background",children:[u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx("header",{className:"bg-white/10 dark:bg-gray-900/60 shadow backdrop-blur-sm",children:u.jsxs("div",{className:"container mx-auto p-4 flex justify-between items-center",children:[u.jsx(_i,{}),t?u.jsx("div",{className:"space-x-2",children:u.jsx(ie,{variant:"ghost",className:"dark:text-white dark:hover:bg-white/10",onClick:()=>e("/host-dashboard"),children:"Dashboard"})}):u.jsxs("div",{className:"space-x-2",children:[u.jsxs(ie,{variant:"ghost",className:"dark:text-white dark:hover:bg-white/10",onClick:()=>e("/host-login"),children:[u.jsx(Pv,{className:"w-4 h-4 mr-2"}),"Sign In"]}),u.jsx(ie,{className:"bg-indigo-600 hover:bg-indigo-700 text-white",onClick:()=>e("/host-signup"),children:"Host Sign Up"})]})]})}),u.jsxs("main",{className:"container mx-auto flex-1 flex flex-col justify-center items-center p-4",children:[u.jsxs("div",{className:"text-center mb-12 animate-fade-in",children:[u.jsx("h1",{className:"text-5xl font-bold gradient-heading mb-4",children:"Interactive Science Quiz Platform"}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Create and participate in engaging science quizzes for high school students. Perfect for classroom activities or remote learning."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl w-full",children:[u.jsxs("div",{className:"quiz-card p-8 text-center transform hover:scale-105 transition-all duration-300 bg-white/90 dark:bg-gray-800/90 rounded-xl shadow-lg hover:shadow-xl border border-indigo-100 dark:border-indigo-900/50",children:[u.jsx("div",{className:"mb-4",children:u.jsx("div",{className:"mx-auto bg-indigo-100 dark:bg-indigo-900/50 w-16 h-16 rounded-full flex items-center justify-center",children:u.jsx(Av,{className:"h-8 w-8 text-indigo-600 dark:text-indigo-400"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Join as Player"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Enter a game code to join a quiz as a player. Compete with others and test your knowledge!"}),u.jsxs(ie,{onClick:r,className:"quiz-btn-primary w-full",children:[u.jsx(Rv,{className:"h-4 w-4 mr-2"}),"Join Game"]})]}),u.jsxs("div",{className:"quiz-card p-8 text-center transform hover:scale-105 transition-all duration-300 bg-white/90 dark:bg-gray-800/90 rounded-xl shadow-lg hover:shadow-xl border border-indigo-100 dark:border-indigo-900/50",children:[u.jsx("div",{className:"mb-4",children:u.jsx("div",{className:"mx-auto bg-purple-100 dark:bg-purple-900/50 w-16 h-16 rounded-full flex items-center justify-center",children:u.jsx(B5,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Host a Game"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Create your own quiz, invite players, and host an interactive learning session."}),u.jsx(ie,{onClick:n,className:"bg-purple-600 hover:bg-purple-700 text-white w-full",children:t?"Go to Dashboard":"Host Sign In"})]})]}),u.jsxs("div",{className:"mt-16 text-center max-w-3xl",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"How It Works"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-8",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 w-12 h-12 rounded-full flex items-center justify-center mb-4",children:u.jsx("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:"1"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Create Quiz"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center",children:"Teachers create custom quizzes with various question types"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 w-12 h-12 rounded-full flex items-center justify-center mb-4",children:u.jsx("span",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:"2"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Share Code"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center",children:"Students join using a unique game code"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 w-12 h-12 rounded-full flex items-center justify-center mb-4",children:u.jsx("span",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:"3"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Play & Learn"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center",children:"Compete in real-time and see instant results"})]})]})]})]}),u.jsx("footer",{className:"bg-white/10 dark:bg-gray-900/60 py-4 backdrop-blur-sm",children:u.jsx("div",{className:"container mx-auto text-center text-gray-600 dark:text-gray-400 text-sm",children:u.jsx("p",{children:" 2025 Science Quiz Platform  Interactive learning tool for science education"})})})]}),u.jsx(Xn,{})]})},J5=()=>{const[t,e]=f.useState(!0),[n,r]=f.useState(!1),[s,i]=f.useState(0),{toast:o}=Rt(),a=5,l=2e3,c=f.useCallback(h=>{e(h),h?(r(!1),i(0),o({title:"Connected",description:"You're back online!",variant:"default"})):o({title:"Offline",description:"You're currently offline. Some features may be limited.",variant:"destructive"})},[o]);f.useEffect(()=>{const h=_e(ye,".info/connected"),p=Ro(h,g=>{c(g.val()===!0)}),m=()=>{t||(S_(ye),setTimeout(()=>{E_(ye)},100))},y=()=>{c(!1)};return window.addEventListener("online",m),window.addEventListener("offline",y),()=>{p(),window.removeEventListener("online",m),window.removeEventListener("offline",y)}},[c,t]);const d=f.useCallback(async()=>{if(!(n||s>=a)){r(!0),i(h=>h+1);try{S_(ye),await new Promise(h=>setTimeout(h,100)),E_(ye),setTimeout(()=>{t||(r(!1),o({title:"Reconnection Failed",description:`Unable to reconnect. Attempt ${s+1}/${a}`,variant:"destructive"}))},l)}catch(h){console.error("Manual reconnect failed:",h),r(!1),o({title:"Reconnection Error",description:"Failed to reconnect. Please try again.",variant:"destructive"})}}},[n,s,o,t]);return t?null:u.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-600 text-white px-4 py-2 rounded-md shadow-lg z-50 flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"mr-2",children:n?"Reconnecting...":`Offline (${s}/${a})`}),!n&&s<a&&u.jsx("button",{onClick:d,className:"ml-2 bg-white text-red-600 px-2 py-1 text-xs rounded hover:bg-gray-100",disabled:n,children:"Retry Connection"})]})},Z5=()=>(f.useEffect(()=>{document.documentElement.classList.add("dark"),document.title="MSP COLLEGE - Quiz Game";const t=window.matchMedia("(prefers-color-scheme: dark)"),e=()=>{document.documentElement.classList.add("dark")};return t.addEventListener("change",e),()=>t.removeEventListener("change",e)},[]),u.jsxs(u.Fragment,{children:[u.jsx(X5,{}),u.jsx(J5,{})]})),zn=f.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));zn.displayName="Input";const Xt=f.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Xt.displayName="Card";const Wk=f.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("flex flex-col space-y-1.5 p-6",t),...e}));Wk.displayName="CardHeader";const Hk=f.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:le("text-2xl font-semibold leading-none tracking-tight",t),...e}));Hk.displayName="CardTitle";const e$=f.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:le("text-sm text-muted-foreground",t),...e}));e$.displayName="CardDescription";const An=f.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("p-6 pt-0",t),...e}));An.displayName="CardContent";const Gk=f.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("flex items-center p-6 pt-0",t),...e}));Gk.displayName="CardFooter";const t$=()=>{const[t,e]=f.useState({email:"",password:""}),[n,r]=f.useState(!1),[s,i]=f.useState(null),{login:o,isLoggedIn:a}=Pr(),l=en(),{toast:c}=Rt(),d=f.useCallback(()=>t.email.trim()?t.password?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email.trim())?null:"Please enter a valid email address":"Password is required":"Email is required",[t]),h=f.useCallback(y=>{const{name:g,value:w}=y.target;e(v=>({...v,[g]:w})),i(null)},[]),p=f.useCallback(async y=>{y.preventDefault();const g=d();if(g){i(g);return}r(!0),i(null);try{const w=t.email.trim().toLowerCase();await o(w,t.password),c({title:"Success!",description:"Login successful",variant:"default"}),l("/host-dashboard",{replace:!0})}catch(w){console.error("Login error:",w);let v="Login failed. Please try again.";switch(w.code){case"auth/invalid-credential":v="Invalid email or password. Please check your credentials.";break;case"auth/user-not-found":v="No account found with this email. Please sign up first.";break;case"auth/wrong-password":v="Incorrect password. Please try again.";break;case"auth/too-many-requests":v="Too many failed attempts. Please try again later.";break;case"auth/network-request-failed":v="Network error. Please check your connection.";break;default:v=w.message||"An error occurred during login."}i(v),c({title:"Login Failed",description:v,variant:"destructive"})}finally{r(!1)}},[t,o,l,c,d]);f.useEffect(()=>{let y=!0;return a()&&y&&l("/host-dashboard"),()=>{y=!1}},[a,l]);const m=f.useMemo(()=>s?u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-300 p-3 rounded-md flex items-center gap-2",children:[u.jsx(Ch,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm",children:s})]}):null,[s]);return u.jsx(Xt,{className:"quiz-card w-full max-w-md mx-auto",children:u.jsx(An,{className:"pt-6",children:u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-bold text-quiz-dark dark:text-white",children:"Host Login"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-300 text-sm",children:"Sign in to access your host dashboard"})]}),m,u.jsx("div",{className:"space-y-3",children:[{name:"email",type:"email",placeholder:"Email"},{name:"password",type:"password",placeholder:"Password"}].map(y=>u.jsx("div",{children:u.jsx(zn,{type:y.type,name:y.name,placeholder:y.placeholder,className:"quiz-input dark:bg-gray-800 dark:border-gray-700",value:t[y.name],onChange:h,disabled:n,autoComplete:y.type==="password"?"current-password":"email"})},y.name))}),u.jsx(ie,{type:"submit",className:"quiz-btn-primary w-full flex items-center justify-center gap-2",disabled:n,children:n?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Pv,{className:"h-4 w-4"}),"Sign In"]})}),u.jsxs("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:["Don't have an account?"," ",u.jsx(Wl,{to:"/host-signup",className:"text-quiz-primary hover:underline font-medium",children:"Sign up"})]})]})})})},n$=Vt.memo(t$),r$=()=>u.jsxs(Sn,{children:[u.jsx("header",{className:"container mx-auto p-4",children:u.jsx(Wl,{to:"/",className:"inline-block",children:u.jsx(_i,{})})}),u.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:u.jsx("div",{className:"w-full max-w-md transform hover:scale-[1.01] transition-all duration-500",children:u.jsx(n$,{})})}),u.jsx("footer",{className:"container mx-auto p-4 text-center text-white text-sm",children:u.jsxs("p",{children:[" ",new Date().getFullYear()," Science Stream Quiz Arena"]})}),u.jsx(Xn,{})]}),s$=()=>{const[t,e]=f.useState({name:"",email:"",password:"",confirmPassword:""}),[n,r]=f.useState(!1),[s,i]=f.useState(null),{signup:o,isLoggedIn:a}=Pr(),l=en(),{toast:c}=Rt(),d=f.useCallback(()=>t.name.trim()?t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email.trim())?t.password?t.password.length<6?"Password must be at least 6 characters long":t.password!==t.confirmPassword?"Passwords do not match":null:"Password is required":"Please enter a valid email address":"Email is required":"Name is required",[t]),h=f.useCallback(y=>{const{name:g,value:w}=y.target;e(v=>({...v,[g]:w})),i(null)},[]),p=f.useCallback(async y=>{y.preventDefault();const g=d();if(g){i(g);return}r(!0),i(null);try{const w=t.name.trim(),v=t.email.trim().toLowerCase(),x=t.password;await o(w,v,x),c({title:"Success!",description:"Account created successfully",variant:"default"}),l("/host-dashboard",{replace:!0})}catch(w){console.error("Signup error:",w),i(w.message),c({title:"Error",description:w.message,variant:"destructive"})}finally{r(!1)}},[t,o,l,c,d]);f.useEffect(()=>{let y=!0;return a()&&y&&l("/host-dashboard"),()=>{y=!1}},[a,l]);const m=f.useMemo(()=>s?u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-300 p-3 rounded-md flex items-center gap-2",children:[u.jsx(Ch,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm",children:s})]}):null,[s]);return u.jsx(Xt,{className:"quiz-card w-full max-w-md mx-auto",children:u.jsx(An,{className:"pt-6",children:u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-bold text-quiz-dark dark:text-white",children:"Host Signup"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-300 text-sm",children:"Create an account to host quiz games"})]}),m,u.jsx("div",{className:"space-y-3",children:[{name:"name",type:"text",placeholder:"Full Name"},{name:"email",type:"email",placeholder:"Email"},{name:"password",type:"password",placeholder:"Password"},{name:"confirmPassword",type:"password",placeholder:"Confirm Password"}].map(y=>u.jsx("div",{children:u.jsx(zn,{type:y.type,name:y.name,placeholder:y.placeholder,className:"quiz-input dark:bg-gray-800 dark:border-gray-700",value:t[y.name],onChange:h,disabled:n,autoComplete:y.type==="password"?"new-password":"off"})},y.name))}),u.jsx(ie,{type:"submit",className:"quiz-btn-primary w-full flex items-center justify-center gap-2",disabled:n,children:n?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Q5,{className:"h-4 w-4"}),"Sign Up"]})}),u.jsxs("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:["Already have an account?"," ",u.jsx(Wl,{to:"/host-login",className:"text-quiz-primary hover:underline font-medium",children:"Sign in"})]})]})})})},i$=Vt.memo(s$),o$=()=>u.jsxs(Sn,{children:[u.jsx("header",{className:"container mx-auto p-4",children:u.jsx(Wl,{to:"/",className:"inline-block",children:u.jsx(_i,{})})}),u.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:u.jsx("div",{className:"w-full max-w-md transform hover:scale-[1.01] transition-all duration-500",children:u.jsx(i$,{})})}),u.jsx("footer",{className:"container mx-auto p-4 text-center text-white text-sm",children:u.jsxs("p",{children:[" ",new Date().getFullYear()," Science Stream Quiz Arena"]})}),u.jsx(Xn,{})]});function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function a$(t,e){const n=f.createContext(e),r=i=>{const{children:o,...a}=i,l=f.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=f.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function lc(t,e=[]){let n=[];function r(i,o){const a=f.createContext(o),l=n.length;n=[...n,o];const c=h=>{var v;const{scope:p,children:m,...y}=h,g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=f.useMemo(()=>y,Object.values(y));return u.jsx(g.Provider,{value:w,children:m})};c.displayName=i+"Provider";function d(h,p){var g;const m=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,y=f.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,l$(s,...e)]}function l$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function c$(t,e=[]){let n=[];function r(i,o){const a=f.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...y}=h,g=(p==null?void 0:p[t][l])||a,w=f.useMemo(()=>y,Object.values(y));return u.jsx(g.Provider,{value:w,children:m})}function d(h,p){const m=(p==null?void 0:p[t][l])||a,y=f.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,u$(s,...e)]}function u$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function d$(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Yo(...t){return e=>t.forEach(n=>d$(n,e))}function Ne(...t){return f.useCallback(Yo(...t),t)}var Dm=f.forwardRef((t,e)=>{const{children:n,...r}=t,s=f.Children.toArray(n),i=s.find(f$);if(i){const o=i.props.children,a=s.map(l=>l===i?f.Children.count(o)>1?f.Children.only(null):f.isValidElement(o)?o.props.children:null:l);return u.jsx(Lm,{...r,ref:e,children:f.isValidElement(o)?f.cloneElement(o,void 0,a):null})}return u.jsx(Lm,{...r,ref:e,children:n})});Dm.displayName="Slot";var Lm=f.forwardRef((t,e)=>{const{children:n,...r}=t;if(f.isValidElement(n)){const s=m$(n);return f.cloneElement(n,{...p$(r,n.props),ref:e?Yo(e,s):s})}return f.Children.count(n)>1?f.Children.only(null):null});Lm.displayName="SlotClone";var h$=({children:t})=>u.jsx(u.Fragment,{children:t});function f$(t){return f.isValidElement(t)&&t.type===h$}function p$(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function m$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function jv(t){const e=t+"CollectionProvider",[n,r]=c$(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:g}=m,w=Vt.useRef(null),v=Vt.useRef(new Map).current;return u.jsx(s,{scope:y,itemMap:v,collectionRef:w,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=Vt.forwardRef((m,y)=>{const{scope:g,children:w}=m,v=i(a,g),x=Ne(y,v.collectionRef);return u.jsx(Dm,{ref:x,children:w})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",h=Vt.forwardRef((m,y)=>{const{scope:g,children:w,...v}=m,x=Vt.useRef(null),_=Ne(y,x),b=i(c,g);return Vt.useEffect(()=>(b.itemMap.set(x,{ref:x,...v}),()=>void b.itemMap.delete(x))),u.jsx(Dm,{[d]:"",ref:_,children:w})});h.displayName=c;function p(m){const y=i(t+"CollectionConsumer",m);return Vt.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((b,C)=>v.indexOf(b.ref.current)-v.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}function g$(t,e=[]){let n=[];function r(i,o){const a=f.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...y}=h,g=(p==null?void 0:p[t][l])||a,w=f.useMemo(()=>y,Object.values(y));return u.jsx(g.Provider,{value:w,children:m})}function d(h,p){const m=(p==null?void 0:p[t][l])||a,y=f.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,y$(s,...e)]}function y$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var wt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},v$=MC.useId||(()=>{}),x$=0;function fr(t){const[e,n]=f.useState(v$());return wt(()=>{t||n(r=>r??String(x$++))},[t]),t||(e?`radix-${e}`:"")}var qk=f.forwardRef((t,e)=>{const{children:n,...r}=t,s=f.Children.toArray(n),i=s.find(_$);if(i){const o=i.props.children,a=s.map(l=>l===i?f.Children.count(o)>1?f.Children.only(null):f.isValidElement(o)?o.props.children:null:l);return u.jsx(Fm,{...r,ref:e,children:f.isValidElement(o)?f.cloneElement(o,void 0,a):null})}return u.jsx(Fm,{...r,ref:e,children:n})});qk.displayName="Slot";var Fm=f.forwardRef((t,e)=>{const{children:n,...r}=t;if(f.isValidElement(n)){const s=C$(n);return f.cloneElement(n,{...b$(r,n.props),ref:e?Yo(e,s):s})}return f.Children.count(n)>1?f.Children.only(null):null});Fm.displayName="SlotClone";var w$=({children:t})=>u.jsx(u.Fragment,{children:t});function _$(t){return f.isValidElement(t)&&t.type===w$}function b$(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function C$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var S$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],de=S$.reduce((t,e)=>{const n=f.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?qk:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Kk(t,e){t&&xi.flushSync(()=>t.dispatchEvent(e))}function Ut(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function fi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=E$({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Ut(n),l=f.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function E$({defaultProp:t,onChange:e}){const n=f.useState(t),[r]=n,s=f.useRef(r),i=Ut(e);return f.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var T$=f.createContext(void 0);function Mv(t){const e=f.useContext(T$);return t||e||"ltr"}var $f="rovingFocusGroup.onEntryFocus",k$={bubbles:!1,cancelable:!0},Eh="RovingFocusGroup",[Um,Qk,N$]=jv(Eh),[P$,Yk]=g$(Eh,[N$]),[R$,I$]=P$(Eh),Xk=f.forwardRef((t,e)=>u.jsx(Um.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Um.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(A$,{...t,ref:e})})}));Xk.displayName=Eh;var A$=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,p=f.useRef(null),m=Ne(e,p),y=Mv(i),[g=null,w]=fi({prop:o,defaultProp:a,onChange:l}),[v,x]=f.useState(!1),_=Ut(c),b=Qk(n),C=f.useRef(!1),[P,N]=f.useState(0);return f.useEffect(()=>{const E=p.current;if(E)return E.addEventListener($f,_),()=>E.removeEventListener($f,_)},[_]),u.jsx(R$,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:g,onItemFocus:f.useCallback(E=>w(E),[w]),onItemShiftTab:f.useCallback(()=>x(!0),[]),onFocusableItemAdd:f.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:f.useCallback(()=>N(E=>E-1),[]),children:u.jsx(de.div,{tabIndex:v||P===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{C.current=!0}),onFocus:ee(t.onFocus,E=>{const j=!C.current;if(E.target===E.currentTarget&&j&&!v){const R=new CustomEvent($f,k$);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const z=b().filter(O=>O.focusable),T=z.find(O=>O.active),M=z.find(O=>O.id===g),D=[T,M,...z].filter(Boolean).map(O=>O.ref.current);eN(D,d)}}C.current=!1}),onBlur:ee(t.onBlur,()=>x(!1))})})}),Jk="RovingFocusGroupItem",Zk=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=fr(),l=i||a,c=I$(Jk,n),d=c.currentTabStopId===l,h=Qk(n),{onFocusableItemAdd:p,onFocusableItemRemove:m}=c;return f.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),u.jsx(Um.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:u.jsx(de.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ee(t.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:ee(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ee(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=O$(y,c.orientation,c.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=h().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const x=v.indexOf(y.currentTarget);v=c.loop?D$(v,x+1):v.slice(x+1)}setTimeout(()=>eN(v))}})})})});Zk.displayName=Jk;var j$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function O$(t,e,n){const r=M$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return j$[r]}function eN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function D$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var L$=Xk,F$=Zk;function U$(t,e){return f.useReducer((n,r)=>e[n][r]??n,t)}var ki=t=>{const{present:e,children:n}=t,r=z$(e),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),i=Ne(r.ref,V$(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:i}):null};ki.displayName="Presence";function z$(t){const[e,n]=f.useState(),r=f.useRef({}),s=f.useRef(t),i=f.useRef("none"),o=t?"mounted":"unmounted",[a,l]=U$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=zc(r.current);i.current=a==="mounted"?c:"none"},[a]),wt(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,m=zc(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),wt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const g=zc(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=m=>{m.target===e&&(i.current=zc(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function zc(t){return(t==null?void 0:t.animationName)||"none"}function V$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ov="Tabs",[$$,gK]=lc(Ov,[Yk]),tN=Yk(),[B$,Dv]=$$(Ov),nN=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=Mv(a),[h,p]=fi({prop:r,onChange:s,defaultProp:i});return u.jsx(B$,{scope:n,baseId:fr(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:l,children:u.jsx(de.div,{dir:d,"data-orientation":o,...c,ref:e})})});nN.displayName=Ov;var rN="TabsList",sN=f.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Dv(rN,n),o=tN(n);return u.jsx(L$,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(de.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});sN.displayName=rN;var iN="TabsTrigger",oN=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Dv(iN,n),a=tN(n),l=cN(o.baseId,r),c=uN(o.baseId,r),d=r===o.value;return u.jsx(F$,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(de.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ee(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ee(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});oN.displayName=iN;var aN="TabsContent",lN=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Dv(aN,n),l=cN(a.baseId,r),c=uN(a.baseId,r),d=r===a.value,h=f.useRef(d);return f.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(ki,{present:s||d,children:({present:p})=>u.jsx(de.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});lN.displayName=aN;function cN(t,e){return`${t}-trigger-${e}`}function uN(t,e){return`${t}-content-${e}`}var W$=nN,dN=sN,hN=oN,fN=lN;const H$=W$,pN=f.forwardRef(({className:t,...e},n)=>u.jsx(dN,{ref:n,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));pN.displayName=dN.displayName;const gu=f.forwardRef(({className:t,...e},n)=>u.jsx(hN,{ref:n,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));gu.displayName=hN.displayName;const yu=f.forwardRef(({className:t,...e},n)=>u.jsx(fN,{ref:n,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));yu.displayName=fN.displayName;function M_(t,[e,n]){return Math.min(n,Math.max(e,t))}function G$(t,e=globalThis==null?void 0:globalThis.document){const n=Ut(t);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var q$="DismissableLayer",zm="dismissableLayer.update",K$="dismissableLayer.pointerDownOutside",Q$="dismissableLayer.focusOutside",O_,mN=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cc=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=f.useContext(mN),[d,h]=f.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=f.useState({}),y=Ne(e,N=>h(N)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(w),x=d?g.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=x>=v,C=X$(N=>{const E=N.target,j=[...c.branches].some(R=>R.contains(E));!b||j||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},p),P=J$(N=>{const E=N.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(N),o==null||o(N),N.defaultPrevented||a==null||a())},p);return G$(N=>{x===c.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},p),f.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(O_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),D_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=O_)}},[d,p,n,c]),f.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),D_())},[d,c]),f.useEffect(()=>{const N=()=>m({});return document.addEventListener(zm,N),()=>document.removeEventListener(zm,N)},[]),u.jsx(de.div,{...l,ref:y,style:{pointerEvents:_?b?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,P.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,C.onPointerDownCapture)})});cc.displayName=q$;var Y$="DismissableLayerBranch",gN=f.forwardRef((t,e)=>{const n=f.useContext(mN),r=f.useRef(null),s=Ne(e,r);return f.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(de.div,{...t,ref:s})});gN.displayName=Y$;function X$(t,e=globalThis==null?void 0:globalThis.document){const n=Ut(t),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){yN(K$,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function J$(t,e=globalThis==null?void 0:globalThis.document){const n=Ut(t),r=f.useRef(!1);return f.useEffect(()=>{const s=i=>{i.target&&!r.current&&yN(Q$,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function D_(){const t=new CustomEvent(zm);document.dispatchEvent(t)}function yN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Kk(s,i):s.dispatchEvent(i)}var Z$=cc,eB=gN,Bf=0;function vN(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??L_()),document.body.insertAdjacentElement("beforeend",t[1]??L_()),Bf++,()=>{Bf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bf--}},[])}function L_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Wf="focusScope.autoFocusOnMount",Hf="focusScope.autoFocusOnUnmount",F_={bubbles:!1,cancelable:!0},tB="FocusScope",Lv=f.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=f.useState(null),c=Ut(s),d=Ut(i),h=f.useRef(null),p=Ne(e,g=>l(g)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let g=function(_){if(m.paused||!a)return;const b=_.target;a.contains(b)?h.current=b:Mr(h.current,{select:!0})},w=function(_){if(m.paused||!a)return;const b=_.relatedTarget;b!==null&&(a.contains(b)||Mr(h.current,{select:!0}))},v=function(_){if(document.activeElement===document.body)for(const C of _)C.removedNodes.length>0&&Mr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const x=new MutationObserver(v);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),x.disconnect()}}},[r,a,m.paused]),f.useEffect(()=>{if(a){z_.add(m);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Wf,F_);a.addEventListener(Wf,c),a.dispatchEvent(v),v.defaultPrevented||(nB(aB(xN(a)),{select:!0}),document.activeElement===g&&Mr(a))}return()=>{a.removeEventListener(Wf,c),setTimeout(()=>{const v=new CustomEvent(Hf,F_);a.addEventListener(Hf,d),a.dispatchEvent(v),v.defaultPrevented||Mr(g??document.body,{select:!0}),a.removeEventListener(Hf,d),z_.remove(m)},0)}}},[a,c,d,m]);const y=f.useCallback(g=>{if(!n&&!r||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(w&&v){const x=g.currentTarget,[_,b]=rB(x);_&&b?!g.shiftKey&&v===b?(g.preventDefault(),n&&Mr(_,{select:!0})):g.shiftKey&&v===_&&(g.preventDefault(),n&&Mr(b,{select:!0})):v===x&&g.preventDefault()}},[n,r,m.paused]);return u.jsx(de.div,{tabIndex:-1,...o,ref:p,onKeyDown:y})});Lv.displayName=tB;function nB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Mr(r,{select:e}),document.activeElement!==n)return}function rB(t){const e=xN(t),n=U_(e,t),r=U_(e.reverse(),t);return[n,r]}function xN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function U_(t,e){for(const n of t)if(!sB(n,{upTo:e}))return n}function sB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function iB(t){return t instanceof HTMLInputElement&&"select"in t}function Mr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&iB(t)&&e&&t.select()}}var z_=oB();function oB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=V_(t,e),t.unshift(e)},remove(e){var n;t=V_(t,e),(n=t[0])==null||n.resume()}}}function V_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function aB(t){return t.filter(e=>e.tagName!=="A")}const lB=["top","right","bottom","left"],vs=Math.min,Bt=Math.max,Ed=Math.round,Vc=Math.floor,xs=t=>({x:t,y:t}),cB={left:"right",right:"left",bottom:"top",top:"bottom"},uB={start:"end",end:"start"};function Vm(t,e,n){return Bt(t,vs(e,n))}function _r(t,e){return typeof t=="function"?t(e):t}function br(t){return t.split("-")[0]}function Xo(t){return t.split("-")[1]}function Fv(t){return t==="x"?"y":"x"}function Uv(t){return t==="y"?"height":"width"}function ws(t){return["top","bottom"].includes(br(t))?"y":"x"}function zv(t){return Fv(ws(t))}function dB(t,e,n){n===void 0&&(n=!1);const r=Xo(t),s=zv(t),i=Uv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Td(o)),[o,Td(o)]}function hB(t){const e=Td(t);return[$m(t),e,$m(e)]}function $m(t){return t.replace(/start|end/g,e=>uB[e])}function fB(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function pB(t,e,n,r){const s=Xo(t);let i=fB(br(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map($m)))),i}function Td(t){return t.replace(/left|right|bottom|top/g,e=>cB[e])}function mB(t){return{top:0,right:0,bottom:0,left:0,...t}}function wN(t){return typeof t!="number"?mB(t):{top:t,right:t,bottom:t,left:t}}function kd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function $_(t,e,n){let{reference:r,floating:s}=t;const i=ws(e),o=zv(e),a=Uv(o),l=br(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Xo(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const gB=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=$_(c,r,l),p=r,m={},y=0;for(let g=0;g<a.length;g++){const{name:w,fn:v}=a[g],{x,y:_,data:b,reset:C}=await v({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,h=_??h,m={...m,[w]:{...m[w],...b}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:d,y:h}=$_(c,p,l)),g=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}};async function Pl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=_r(e,t),y=wN(m),w=a[p?h==="floating"?"reference":"floating":h],v=kd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},C=kd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:_,strategy:l}):x);return{top:(v.top-C.top+y.top)/b.y,bottom:(C.bottom-v.bottom+y.bottom)/b.y,left:(v.left-C.left+y.left)/b.x,right:(C.right-v.right+y.right)/b.x}}const yB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=_r(t,e)||{};if(c==null)return{};const h=wN(d),p={x:n,y:r},m=zv(s),y=Uv(m),g=await o.getDimensions(c),w=m==="y",v=w?"top":"left",x=w?"bottom":"right",_=w?"clientHeight":"clientWidth",b=i.reference[y]+i.reference[m]-p[m]-i.floating[y],C=p[m]-i.reference[m],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let N=P?P[_]:0;(!N||!await(o.isElement==null?void 0:o.isElement(P)))&&(N=a.floating[_]||i.floating[y]);const E=b/2-C/2,j=N/2-g[y]/2-1,R=vs(h[v],j),z=vs(h[x],j),T=R,M=N-g[y]-z,A=N/2-g[y]/2+E,D=Vm(T,A,M),O=!l.arrow&&Xo(s)!=null&&A!==D&&i.reference[y]/2-(A<T?R:z)-g[y]/2<0,F=O?A<T?A-T:A-M:0;return{[m]:p[m]+F,data:{[m]:D,centerOffset:A-D-F,...O&&{alignmentOffset:F}},reset:O}}}),vB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...w}=_r(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=br(s),x=ws(a),_=br(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=p||(_||!g?[Td(a)]:hB(a)),P=y!=="none";!p&&P&&C.push(...pB(a,g,y,b));const N=[a,...C],E=await Pl(e,w),j=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&j.push(E[v]),h){const A=dB(s,o,b);j.push(E[A[0]],E[A[1]])}if(R=[...R,{placement:s,overflows:j}],!j.every(A=>A<=0)){var z,T;const A=(((z=i.flip)==null?void 0:z.index)||0)+1,D=N[A];if(D)return{data:{index:A,overflows:R},reset:{placement:D}};let O=(T=R.filter(F=>F.overflows[0]<=0).sort((F,I)=>F.overflows[1]-I.overflows[1])[0])==null?void 0:T.placement;if(!O)switch(m){case"bestFit":{var M;const F=(M=R.filter(I=>{if(P){const U=ws(I.placement);return U===x||U==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(U=>U>0).reduce((U,k)=>U+k,0)]).sort((I,U)=>I[1]-U[1])[0])==null?void 0:M[0];F&&(O=F);break}case"initialPlacement":O=a;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function B_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function W_(t){return lB.some(e=>t[e]>=0)}const xB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=_r(t,e);switch(r){case"referenceHidden":{const i=await Pl(e,{...s,elementContext:"reference"}),o=B_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:W_(o)}}}case"escaped":{const i=await Pl(e,{...s,altBoundary:!0}),o=B_(i,n.floating);return{data:{escapedOffsets:o,escaped:W_(o)}}}default:return{}}}}};async function wB(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=br(n),a=Xo(n),l=ws(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=_r(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const _B=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await wB(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},bB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:v,y:x}=w;return{x:v,y:x}}},...l}=_r(t,e),c={x:n,y:r},d=await Pl(e,l),h=ws(br(s)),p=Fv(h);let m=c[p],y=c[h];if(i){const w=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=m+d[w],_=m-d[v];m=Vm(x,m,_)}if(o){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=y+d[w],_=y-d[v];y=Vm(x,y,_)}const g=a.fn({...e,[p]:m,[h]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[h]:o}}}}}},CB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=_r(t,e),d={x:n,y:r},h=ws(s),p=Fv(h);let m=d[p],y=d[h];const g=_r(a,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const _=p==="y"?"height":"width",b=i.reference[p]-i.floating[_]+w.mainAxis,C=i.reference[p]+i.reference[_]-w.mainAxis;m<b?m=b:m>C&&(m=C)}if(c){var v,x;const _=p==="y"?"width":"height",b=["top","left"].includes(br(s)),C=i.reference[h]-i.floating[_]+(b&&((v=o.offset)==null?void 0:v[h])||0)+(b?0:w.crossAxis),P=i.reference[h]+i.reference[_]+(b?0:((x=o.offset)==null?void 0:x[h])||0)-(b?w.crossAxis:0);y<C?y=C:y>P&&(y=P)}return{[p]:m,[h]:y}}}},SB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=_r(t,e),d=await Pl(e,c),h=br(s),p=Xo(s),m=ws(s)==="y",{width:y,height:g}=i.floating;let w,v;h==="top"||h==="bottom"?(w=h,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,w=p==="end"?"top":"bottom");const x=g-d.top-d.bottom,_=y-d.left-d.right,b=vs(g-d[w],x),C=vs(y-d[v],_),P=!e.middlewareData.shift;let N=b,E=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=x),P&&!p){const R=Bt(d.left,0),z=Bt(d.right,0),T=Bt(d.top,0),M=Bt(d.bottom,0);m?E=y-2*(R!==0||z!==0?R+z:Bt(d.left,d.right)):N=g-2*(T!==0||M!==0?T+M:Bt(d.top,d.bottom))}await l({...e,availableWidth:E,availableHeight:N});const j=await o.getDimensions(a.floating);return y!==j.width||g!==j.height?{reset:{rects:!0}}:{}}}};function Th(){return typeof window<"u"}function Jo(t){return _N(t)?(t.nodeName||"").toLowerCase():"#document"}function Kt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zn(t){var e;return(e=(_N(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _N(t){return Th()?t instanceof Node||t instanceof Kt(t).Node:!1}function Nn(t){return Th()?t instanceof Element||t instanceof Kt(t).Element:!1}function Jn(t){return Th()?t instanceof HTMLElement||t instanceof Kt(t).HTMLElement:!1}function H_(t){return!Th()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kt(t).ShadowRoot}function uc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Pn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function EB(t){return["table","td","th"].includes(Jo(t))}function kh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Vv(t){const e=$v(),n=Nn(t)?Pn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function TB(t){let e=_s(t);for(;Jn(e)&&!Ao(e);){if(Vv(e))return e;if(kh(e))return null;e=_s(e)}return null}function $v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ao(t){return["html","body","#document"].includes(Jo(t))}function Pn(t){return Kt(t).getComputedStyle(t)}function Nh(t){return Nn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _s(t){if(Jo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||H_(t)&&t.host||Zn(t);return H_(e)?e.host:e}function bN(t){const e=_s(t);return Ao(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jn(e)&&uc(e)?e:bN(e)}function Rl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=bN(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Kt(s);if(i){const a=Bm(o);return e.concat(o,o.visualViewport||[],uc(s)?s:[],a&&n?Rl(a):[])}return e.concat(s,Rl(s,[],n))}function Bm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function CN(t){const e=Pn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Jn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ed(n)!==i||Ed(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Bv(t){return Nn(t)?t:t.contextElement}function po(t){const e=Bv(t);if(!Jn(e))return xs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=CN(e);let o=(i?Ed(n.width):n.width)/r,a=(i?Ed(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const kB=xs(0);function SN(t){const e=Kt(t);return!$v()||!e.visualViewport?kB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function NB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Kt(t)?!1:e}function pi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Bv(t);let o=xs(1);e&&(r?Nn(r)&&(o=po(r)):o=po(t));const a=NB(i,n,r)?SN(i):xs(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=Kt(i),m=r&&Nn(r)?Kt(r):r;let y=p,g=Bm(y);for(;g&&r&&m!==y;){const w=po(g),v=g.getBoundingClientRect(),x=Pn(g),_=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*w.x,b=v.top+(g.clientTop+parseFloat(x.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,h*=w.y,l+=_,c+=b,y=Kt(g),g=Bm(y)}}return kd({width:d,height:h,x:l,y:c})}function PB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Zn(r),a=e?kh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=xs(1);const d=xs(0),h=Jn(r);if((h||!h&&!i)&&((Jo(r)!=="body"||uc(o))&&(l=Nh(r)),Jn(r))){const p=pi(r);c=po(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function RB(t){return Array.from(t.getClientRects())}function Wm(t,e){const n=Nh(t).scrollLeft;return e?e.left+n:pi(Zn(t)).left+n}function IB(t){const e=Zn(t),n=Nh(t),r=t.ownerDocument.body,s=Bt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Bt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Wm(t);const a=-n.scrollTop;return Pn(r).direction==="rtl"&&(o+=Bt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function AB(t,e){const n=Kt(t),r=Zn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=$v();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function jB(t,e){const n=pi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Jn(t)?po(t):xs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function G_(t,e,n){let r;if(e==="viewport")r=AB(t,n);else if(e==="document")r=IB(Zn(t));else if(Nn(e))r=jB(e,n);else{const s=SN(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return kd(r)}function EN(t,e){const n=_s(t);return n===e||!Nn(n)||Ao(n)?!1:Pn(n).position==="fixed"||EN(n,e)}function MB(t,e){const n=e.get(t);if(n)return n;let r=Rl(t,[],!1).filter(a=>Nn(a)&&Jo(a)!=="body"),s=null;const i=Pn(t).position==="fixed";let o=i?_s(t):t;for(;Nn(o)&&!Ao(o);){const a=Pn(o),l=Vv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||uc(o)&&!l&&EN(t,o))?r=r.filter(d=>d!==o):s=a,o=_s(o)}return e.set(t,r),r}function OB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?kh(e)?[]:MB(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=G_(e,d,s);return c.top=Bt(h.top,c.top),c.right=vs(h.right,c.right),c.bottom=vs(h.bottom,c.bottom),c.left=Bt(h.left,c.left),c},G_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function DB(t){const{width:e,height:n}=CN(t);return{width:e,height:n}}function LB(t,e,n){const r=Jn(e),s=Zn(e),i=n==="fixed",o=pi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=xs(0);if(r||!r&&!i)if((Jo(e)!=="body"||uc(s))&&(a=Nh(e)),r){const m=pi(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=Wm(s));let c=0,d=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();d=m.top+a.scrollTop,c=m.left+a.scrollLeft-Wm(s,m)}const h=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-d;return{x:h,y:p,width:o.width,height:o.height}}function Gf(t){return Pn(t).position==="static"}function q_(t,e){if(!Jn(t)||Pn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zn(t)===n&&(n=n.ownerDocument.body),n}function TN(t,e){const n=Kt(t);if(kh(t))return n;if(!Jn(t)){let s=_s(t);for(;s&&!Ao(s);){if(Nn(s)&&!Gf(s))return s;s=_s(s)}return n}let r=q_(t,e);for(;r&&EB(r)&&Gf(r);)r=q_(r,e);return r&&Ao(r)&&Gf(r)&&!Vv(r)?n:r||TB(t)||n}const FB=async function(t){const e=this.getOffsetParent||TN,n=this.getDimensions,r=await n(t.floating);return{reference:LB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UB(t){return Pn(t).direction==="rtl"}const zB={convertOffsetParentRelativeRectToViewportRelativeRect:PB,getDocumentElement:Zn,getClippingRect:OB,getOffsetParent:TN,getElementRects:FB,getClientRects:RB,getDimensions:DB,getScale:po,isElement:Nn,isRTL:UB};function VB(t,e){let n=null,r;const s=Zn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const m=Vc(d),y=Vc(s.clientWidth-(c+h)),g=Vc(s.clientHeight-(d+p)),w=Vc(c),x={rootMargin:-m+"px "+-y+"px "+-g+"px "+-w+"px",threshold:Bt(0,vs(1,l))||1};let _=!0;function b(C){const P=C[0].intersectionRatio;if(P!==l){if(!_)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(b,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(b,x)}n.observe(t)}return o(!0),i}function $B(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Bv(t),d=s||i?[...c?Rl(c):[],...Rl(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=c&&a?VB(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let y,g=l?pi(t):null;l&&w();function w(){const v=pi(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,y=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const BB=_B,WB=bB,HB=vB,GB=SB,qB=xB,K_=yB,KB=CB,QB=(t,e,n)=>{const r=new Map,s={platform:zB,...n},i={...s.platform,_c:r};return gB(t,e,{...s,platform:i})};var vu=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Nd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Nd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Nd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function kN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Q_(t,e){const n=kN(t);return Math.round(e*n)/n}function qf(t){const e=f.useRef(t);return vu(()=>{e.current=t}),e}function YB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=f.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);Nd(p,r)||m(r);const[y,g]=f.useState(null),[w,v]=f.useState(null),x=f.useCallback(I=>{I!==P.current&&(P.current=I,g(I))},[]),_=f.useCallback(I=>{I!==N.current&&(N.current=I,v(I))},[]),b=i||y,C=o||w,P=f.useRef(null),N=f.useRef(null),E=f.useRef(d),j=l!=null,R=qf(l),z=qf(s),T=qf(c),M=f.useCallback(()=>{if(!P.current||!N.current)return;const I={placement:e,strategy:n,middleware:p};z.current&&(I.platform=z.current),QB(P.current,N.current,I).then(U=>{const k={...U,isPositioned:T.current!==!1};A.current&&!Nd(E.current,k)&&(E.current=k,xi.flushSync(()=>{h(k)}))})},[p,e,n,z,T]);vu(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[c]);const A=f.useRef(!1);vu(()=>(A.current=!0,()=>{A.current=!1}),[]),vu(()=>{if(b&&(P.current=b),C&&(N.current=C),b&&C){if(R.current)return R.current(b,C,M);M()}},[b,C,M,R,j]);const D=f.useMemo(()=>({reference:P,floating:N,setReference:x,setFloating:_}),[x,_]),O=f.useMemo(()=>({reference:b,floating:C}),[b,C]),F=f.useMemo(()=>{const I={position:n,left:0,top:0};if(!O.floating)return I;const U=Q_(O.floating,d.x),k=Q_(O.floating,d.y);return a?{...I,transform:"translate("+U+"px, "+k+"px)",...kN(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:k}},[n,a,O.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:M,refs:D,elements:O,floatingStyles:F}),[d,M,D,O,F])}const XB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?K_({element:r.current,padding:s}).fn(n):{}:r?K_({element:r,padding:s}).fn(n):{}}}},JB=(t,e)=>({...BB(t),options:[t,e]}),ZB=(t,e)=>({...WB(t),options:[t,e]}),e6=(t,e)=>({...KB(t),options:[t,e]}),t6=(t,e)=>({...HB(t),options:[t,e]}),n6=(t,e)=>({...GB(t),options:[t,e]}),r6=(t,e)=>({...qB(t),options:[t,e]}),s6=(t,e)=>({...XB(t),options:[t,e]});var i6="Arrow",NN=f.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(de.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});NN.displayName=i6;var o6=NN;function a6(t,e=[]){let n=[];function r(i,o){const a=f.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...y}=h,g=(p==null?void 0:p[t][l])||a,w=f.useMemo(()=>y,Object.values(y));return u.jsx(g.Provider,{value:w,children:m})}function d(h,p){const m=(p==null?void 0:p[t][l])||a,y=f.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,l6(s,...e)]}function l6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function c6(t){const[e,n]=f.useState(void 0);return wt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Wv="Popper",[PN,Ph]=a6(Wv),[u6,RN]=PN(Wv),IN=t=>{const{__scopePopper:e,children:n}=t,[r,s]=f.useState(null);return u.jsx(u6,{scope:e,anchor:r,onAnchorChange:s,children:n})};IN.displayName=Wv;var AN="PopperAnchor",jN=f.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=RN(AN,n),o=f.useRef(null),a=Ne(e,o);return f.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(de.div,{...s,ref:a})});jN.displayName=AN;var Hv="PopperContent",[d6,h6]=PN(Hv),MN=f.forwardRef((t,e)=>{var $,K,Z,X,Y,J;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=t,w=RN(Hv,n),[v,x]=f.useState(null),_=Ne(e,ue=>x(ue)),[b,C]=f.useState(null),P=c6(b),N=(P==null?void 0:P.width)??0,E=(P==null?void 0:P.height)??0,j=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},z=Array.isArray(c)?c:[c],T=z.length>0,M={padding:R,boundary:z.filter(p6),altBoundary:T},{refs:A,floatingStyles:D,placement:O,isPositioned:F,middlewareData:I}=YB({strategy:"fixed",placement:j,whileElementsMounted:(...ue)=>$B(...ue,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[JB({mainAxis:s+E,alignmentAxis:o}),l&&ZB({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?e6():void 0,...M}),l&&t6({...M}),n6({...M,apply:({elements:ue,rects:ne,availableWidth:ve,availableHeight:ge})=>{const{width:Pe,height:ft}=ne.reference,Qe=ue.floating.style;Qe.setProperty("--radix-popper-available-width",`${ve}px`),Qe.setProperty("--radix-popper-available-height",`${ge}px`),Qe.setProperty("--radix-popper-anchor-width",`${Pe}px`),Qe.setProperty("--radix-popper-anchor-height",`${ft}px`)}}),b&&s6({element:b,padding:a}),m6({arrowWidth:N,arrowHeight:E}),p&&r6({strategy:"referenceHidden",...M})]}),[U,k]=LN(O),S=Ut(y);wt(()=>{F&&(S==null||S())},[F,S]);const L=($=I.arrow)==null?void 0:$.x,V=(K=I.arrow)==null?void 0:K.y,B=((Z=I.arrow)==null?void 0:Z.centerOffset)!==0,[G,q]=f.useState();return wt(()=>{v&&q(window.getComputedStyle(v).zIndex)},[v]),u.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:F?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(X=I.transformOrigin)==null?void 0:X.x,(Y=I.transformOrigin)==null?void 0:Y.y].join(" "),...((J=I.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(d6,{scope:n,placedSide:U,onArrowChange:C,arrowX:L,arrowY:V,shouldHideArrow:B,children:u.jsx(de.div,{"data-side":U,"data-align":k,...g,ref:_,style:{...g.style,animation:F?void 0:"none"}})})})});MN.displayName=Hv;var ON="PopperArrow",f6={top:"bottom",right:"left",bottom:"top",left:"right"},DN=f.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=h6(ON,r),o=f6[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(o6,{...s,ref:n,style:{...s.style,display:"block"}})})});DN.displayName=ON;function p6(t){return t!==null}var m6=t=>({name:"transformOrigin",options:t,fn(e){var w,v,x;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=LN(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let y="",g="";return c==="bottom"?(y=o?h:`${p}px`,g=`${-l}px`):c==="top"?(y=o?h:`${p}px`,g=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,g=o?h:`${m}px`):c==="left"&&(y=`${r.floating.width+l}px`,g=o?h:`${m}px`),{data:{x:y,y:g}}}});function LN(t){const[e,n="center"]=t.split("-");return[e,n]}var FN=IN,UN=jN,zN=MN,VN=DN,g6="Portal",Rh=f.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=f.useState(!1);wt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?aO.createPortal(u.jsx(de.div,{...r,ref:e}),o):null});Rh.displayName=g6;var $N=f.forwardRef((t,e)=>{const{children:n,...r}=t,s=f.Children.toArray(n),i=s.find(v6);if(i){const o=i.props.children,a=s.map(l=>l===i?f.Children.count(o)>1?f.Children.only(null):f.isValidElement(o)?o.props.children:null:l);return u.jsx(Hm,{...r,ref:e,children:f.isValidElement(o)?f.cloneElement(o,void 0,a):null})}return u.jsx(Hm,{...r,ref:e,children:n})});$N.displayName="Slot";var Hm=f.forwardRef((t,e)=>{const{children:n,...r}=t;if(f.isValidElement(n)){const s=w6(n);return f.cloneElement(n,{...x6(r,n.props),ref:e?Yo(e,s):s})}return f.Children.count(n)>1?f.Children.only(null):null});Hm.displayName="SlotClone";var y6=({children:t})=>u.jsx(u.Fragment,{children:t});function v6(t){return f.isValidElement(t)&&t.type===y6}function x6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function w6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _6(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var b6="VisuallyHidden",dc=f.forwardRef((t,e)=>u.jsx(de.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));dc.displayName=b6;var C6=dc,S6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ii=new WeakMap,$c=new WeakMap,Bc={},Kf=0,BN=function(t){return t&&(t.host||BN(t.parentNode))},E6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=BN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},T6=function(t,e,n,r){var s=E6(e,Array.isArray(t)?t:[t]);Bc[n]||(Bc[n]=new WeakMap);var i=Bc[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),y=m!==null&&m!=="false",g=(Ii.get(p)||0)+1,w=(i.get(p)||0)+1;Ii.set(p,g),i.set(p,w),o.push(p),g===1&&y&&$c.set(p,!0),w===1&&p.setAttribute(n,"true"),y||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(e),a.clear(),Kf++,function(){o.forEach(function(h){var p=Ii.get(h)-1,m=i.get(h)-1;Ii.set(h,p),i.set(h,m),p||($c.has(h)||h.removeAttribute(r),$c.delete(h)),m||h.removeAttribute(n)}),Kf--,Kf||(Ii=new WeakMap,Ii=new WeakMap,$c=new WeakMap,Bc={})}},WN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=S6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),T6(r,s,n,"aria-hidden")):function(){return null}},xu="right-scroll-bar-position",wu="width-before-scroll-bar",k6="with-scroll-bars-hidden",N6="--removed-body-scroll-bar-size";function Qf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function P6(t,e){var n=f.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var R6=typeof window<"u"?f.useLayoutEffect:f.useEffect,Y_=new WeakMap;function I6(t,e){var n=P6(null,function(r){return t.forEach(function(s){return Qf(s,r)})});return R6(function(){var r=Y_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Qf(a,null)}),i.forEach(function(a){s.has(a)||Qf(a,o)})}Y_.set(n,t)},[t]),n}function A6(t){return t}function j6(t,e){e===void 0&&(e=A6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function M6(t){t===void 0&&(t={});var e=j6(null);return e.options=Un({async:!0,ssr:!1},t),e}var HN=function(t){var e=t.sideCar,n=Gl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Un({},n))};HN.isSideCarExport=!0;function O6(t,e){return t.useMedium(e),HN}var GN=M6(),Yf=function(){},Ih=f.forwardRef(function(t,e){var n=f.useRef(null),r=f.useState({onScrollCapture:Yf,onWheelCapture:Yf,onTouchMoveCapture:Yf}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,m=t.noIsolation,y=t.inert,g=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,x=t.gapMode,_=Gl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=p,C=I6([n,e]),P=Un(Un({},_),s);return f.createElement(f.Fragment,null,d&&f.createElement(b,{sideCar:GN,removeScrollBar:c,shards:h,noIsolation:m,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:x}),o?f.cloneElement(f.Children.only(a),Un(Un({},P),{ref:C})):f.createElement(v,Un({},P,{className:l,ref:C}),a))});Ih.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ih.classNames={fullWidth:wu,zeroRight:xu};var D6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=D6();return e&&t.setAttribute("nonce",e),t}function F6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function U6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var z6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=L6())&&(F6(e,n),U6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},V6=function(){var t=z6();return function(e,n){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},qN=function(){var t=V6(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},$6={left:0,top:0,right:0,gap:0},Xf=function(t){return parseInt(t||"",10)||0},B6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Xf(n),Xf(r),Xf(s)]},W6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $6;var e=B6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},H6=qN(),mo="data-scroll-locked",G6=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(k6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(mo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xu," .").concat(xu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wu," .").concat(wu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mo,`] {
    `).concat(N6,": ").concat(a,`px;
  }
`)},X_=function(){var t=parseInt(document.body.getAttribute(mo)||"0",10);return isFinite(t)?t:0},q6=function(){f.useEffect(function(){return document.body.setAttribute(mo,(X_()+1).toString()),function(){var t=X_()-1;t<=0?document.body.removeAttribute(mo):document.body.setAttribute(mo,t.toString())}},[])},K6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;q6();var i=f.useMemo(function(){return W6(s)},[s]);return f.createElement(H6,{styles:G6(i,!e,s,n?"":"!important")})},Gm=!1;if(typeof window<"u")try{var Wc=Object.defineProperty({},"passive",{get:function(){return Gm=!0,!0}});window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{Gm=!1}var Ai=Gm?{passive:!1}:!1,Q6=function(t){return t.tagName==="TEXTAREA"},KN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Q6(t)&&n[e]==="visible")},Y6=function(t){return KN(t,"overflowY")},X6=function(t){return KN(t,"overflowX")},J_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=QN(t,r);if(s){var i=YN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},J6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Z6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},QN=function(t,e){return t==="v"?Y6(e):X6(e)},YN=function(t,e){return t==="v"?J6(e):Z6(e)},eW=function(t,e){return t==="h"&&e==="rtl"?-1:1},tW=function(t,e,n,r,s){var i=eW(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,p=0;do{var m=YN(t,a),y=m[0],g=m[1],w=m[2],v=g-w-i*y;(y||v)&&QN(t,a)&&(h+=v,p+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},Hc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Z_=function(t){return[t.deltaX,t.deltaY]},eb=function(t){return t&&"current"in t?t.current:t},nW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sW=0,ji=[];function iW(t){var e=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(sW++)[0],i=f.useState(qN)[0],o=f.useRef(t);f.useEffect(function(){o.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=RL([t.lockRef.current],(t.shards||[]).map(eb),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=f.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Hc(g),x=n.current,_="deltaX"in g?g.deltaX:x[0]-v[0],b="deltaY"in g?g.deltaY:x[1]-v[1],C,P=g.target,N=Math.abs(_)>Math.abs(b)?"h":"v";if("touches"in g&&N==="h"&&P.type==="range")return!1;var E=J_(N,P);if(!E)return!0;if(E?C=N:(C=N==="v"?"h":"v",E=J_(N,P)),!E)return!1;if(!r.current&&"changedTouches"in g&&(_||b)&&(r.current=C),!C)return!0;var j=r.current||C;return tW(j,w,g,j==="h"?_:b,!0)},[]),l=f.useCallback(function(g){var w=g;if(!(!ji.length||ji[ji.length-1]!==i)){var v="deltaY"in w?Z_(w):Hc(w),x=e.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&nW(C.delta,v)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var _=(o.current.shards||[]).map(eb).filter(Boolean).filter(function(C){return C.contains(w.target)}),b=_.length>0?a(w,_[0]):!o.current.noIsolation;b&&w.cancelable&&w.preventDefault()}}},[]),c=f.useCallback(function(g,w,v,x){var _={name:g,delta:w,target:v,should:x,shadowParent:oW(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(b){return b!==_})},1)},[]),d=f.useCallback(function(g){n.current=Hc(g),r.current=void 0},[]),h=f.useCallback(function(g){c(g.type,Z_(g),g.target,a(g,t.lockRef.current))},[]),p=f.useCallback(function(g){c(g.type,Hc(g),g.target,a(g,t.lockRef.current))},[]);f.useEffect(function(){return ji.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ai),document.addEventListener("touchmove",l,Ai),document.addEventListener("touchstart",d,Ai),function(){ji=ji.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ai),document.removeEventListener("touchmove",l,Ai),document.removeEventListener("touchstart",d,Ai)}},[]);var m=t.removeScrollBar,y=t.inert;return f.createElement(f.Fragment,null,y?f.createElement(i,{styles:rW(s)}):null,m?f.createElement(K6,{gapMode:t.gapMode}):null)}function oW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const aW=O6(GN,iW);var Gv=f.forwardRef(function(t,e){return f.createElement(Ih,Un({},t,{ref:e,sideCar:aW}))});Gv.classNames=Ih.classNames;var lW=[" ","Enter","ArrowUp","ArrowDown"],cW=[" ","Enter"],hc="Select",[Ah,jh,uW]=jv(hc),[Zo,yK]=lc(hc,[uW,Ph]),Mh=Ph(),[dW,Ps]=Zo(hc),[hW,fW]=Zo(hc),XN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:p,required:m,form:y}=t,g=Mh(e),[w,v]=f.useState(null),[x,_]=f.useState(null),[b,C]=f.useState(!1),P=Mv(c),[N=!1,E]=fi({prop:r,defaultProp:s,onChange:i}),[j,R]=fi({prop:o,defaultProp:a,onChange:l}),z=f.useRef(null),T=w?y||!!w.closest("form"):!0,[M,A]=f.useState(new Set),D=Array.from(M).map(O=>O.props.value).join(";");return u.jsx(FN,{...g,children:u.jsxs(dW,{required:m,scope:e,trigger:w,onTriggerChange:v,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:b,onValueNodeHasChildrenChange:C,contentId:fr(),value:j,onValueChange:R,open:N,onOpenChange:E,dir:P,triggerPointerDownPosRef:z,disabled:p,children:[u.jsx(Ah.Provider,{scope:e,children:u.jsx(hW,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(O=>{A(F=>new Set(F).add(O))},[]),onNativeOptionRemove:f.useCallback(O=>{A(F=>{const I=new Set(F);return I.delete(O),I})},[]),children:n})}),T?u.jsxs(bP,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:j,onChange:O=>R(O.target.value),disabled:p,form:y,children:[j===void 0?u.jsx("option",{value:""}):null,Array.from(M)]},D):null]})})};XN.displayName=hc;var JN="SelectTrigger",ZN=f.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Mh(n),o=Ps(JN,n),a=o.disabled||r,l=Ne(e,o.onTriggerChange),c=jh(n),d=f.useRef("touch"),[h,p,m]=CP(g=>{const w=c().filter(_=>!_.disabled),v=w.find(_=>_.value===o.value),x=SP(w,g,v);x!==void 0&&o.onValueChange(x.value)}),y=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(UN,{asChild:!0,...i,children:u.jsx(de.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":_P(o.value)?"":void 0,...s,ref:l,onClick:ee(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:ee(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:ee(s.onKeyDown,g=>{const w=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(w&&g.key===" ")&&lW.includes(g.key)&&(y(),g.preventDefault())})})})});ZN.displayName=JN;var eP="SelectValue",tP=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Ps(eP,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,h=Ne(e,l.onValueNodeChange);return wt(()=>{c(d)},[c,d]),u.jsx(de.span,{...a,ref:h,style:{pointerEvents:"none"},children:_P(l.value)?u.jsx(u.Fragment,{children:o}):i})});tP.displayName=eP;var pW="SelectIcon",nP=f.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(de.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});nP.displayName=pW;var mW="SelectPortal",rP=t=>u.jsx(Rh,{asChild:!0,...t});rP.displayName=mW;var mi="SelectContent",sP=f.forwardRef((t,e)=>{const n=Ps(mi,t.__scopeSelect),[r,s]=f.useState();if(wt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?xi.createPortal(u.jsx(iP,{scope:t.__scopeSelect,children:u.jsx(Ah.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(oP,{...t,ref:e})});sP.displayName=mi;var fn=10,[iP,Rs]=Zo(mi),gW="SelectContentImpl",oP=f.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:w,...v}=t,x=Ps(mi,n),[_,b]=f.useState(null),[C,P]=f.useState(null),N=Ne(e,$=>b($)),[E,j]=f.useState(null),[R,z]=f.useState(null),T=jh(n),[M,A]=f.useState(!1),D=f.useRef(!1);f.useEffect(()=>{if(_)return WN(_)},[_]),vN();const O=f.useCallback($=>{const[K,...Z]=T().map(J=>J.ref.current),[X]=Z.slice(-1),Y=document.activeElement;for(const J of $)if(J===Y||(J==null||J.scrollIntoView({block:"nearest"}),J===K&&C&&(C.scrollTop=0),J===X&&C&&(C.scrollTop=C.scrollHeight),J==null||J.focus(),document.activeElement!==Y))return},[T,C]),F=f.useCallback(()=>O([E,_]),[O,E,_]);f.useEffect(()=>{M&&F()},[M,F]);const{onOpenChange:I,triggerPointerDownPosRef:U}=x;f.useEffect(()=>{if(_){let $={x:0,y:0};const K=X=>{var Y,J;$={x:Math.abs(Math.round(X.pageX)-(((Y=U.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(X.pageY)-(((J=U.current)==null?void 0:J.y)??0))}},Z=X=>{$.x<=10&&$.y<=10?X.preventDefault():_.contains(X.target)||I(!1),document.removeEventListener("pointermove",K),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",Z,{capture:!0})}}},[_,I,U]),f.useEffect(()=>{const $=()=>I(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[I]);const[k,S]=CP($=>{const K=T().filter(Y=>!Y.disabled),Z=K.find(Y=>Y.ref.current===document.activeElement),X=SP(K,$,Z);X&&setTimeout(()=>X.ref.current.focus())}),L=f.useCallback(($,K,Z)=>{const X=!D.current&&!Z;(x.value!==void 0&&x.value===K||X)&&(j($),X&&(D.current=!0))},[x.value]),V=f.useCallback(()=>_==null?void 0:_.focus(),[_]),B=f.useCallback(($,K,Z)=>{const X=!D.current&&!Z;(x.value!==void 0&&x.value===K||X)&&z($)},[x.value]),G=r==="popper"?qm:aP,q=G===qm?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:w}:{};return u.jsx(iP,{scope:n,content:_,viewport:C,onViewportChange:P,itemRefCallback:L,selectedItem:E,onItemLeave:V,itemTextRefCallback:B,focusSelectedItem:F,selectedItemText:R,position:r,isPositioned:M,searchRef:k,children:u.jsx(Gv,{as:$N,allowPinchZoom:!0,children:u.jsx(Lv,{asChild:!0,trapped:x.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:ee(s,$=>{var K;(K=x.trigger)==null||K.focus({preventScroll:!0}),$.preventDefault()}),children:u.jsx(cc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(G,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:$=>$.preventDefault(),...v,...q,onPlaced:()=>A(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,$=>{const K=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!K&&$.key.length===1&&S($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let X=T().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes($.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const Y=$.target,J=X.indexOf(Y);X=X.slice(J+1)}setTimeout(()=>O(X)),$.preventDefault()}})})})})})})});oP.displayName=gW;var yW="SelectItemAlignedPosition",aP=f.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ps(mi,n),o=Rs(mi,n),[a,l]=f.useState(null),[c,d]=f.useState(null),h=Ne(e,N=>d(N)),p=jh(n),m=f.useRef(!1),y=f.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:v,focusSelectedItem:x}=o,_=f.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&w&&v){const N=i.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),j=i.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(i.dir!=="rtl"){const Y=R.left-E.left,J=j.left-Y,ue=N.left-J,ne=N.width+ue,ve=Math.max(ne,E.width),ge=window.innerWidth-fn,Pe=M_(J,[fn,Math.max(fn,ge-ve)]);a.style.minWidth=ne+"px",a.style.left=Pe+"px"}else{const Y=E.right-R.right,J=window.innerWidth-j.right-Y,ue=window.innerWidth-N.right-J,ne=N.width+ue,ve=Math.max(ne,E.width),ge=window.innerWidth-fn,Pe=M_(J,[fn,Math.max(fn,ge-ve)]);a.style.minWidth=ne+"px",a.style.right=Pe+"px"}const z=p(),T=window.innerHeight-fn*2,M=g.scrollHeight,A=window.getComputedStyle(c),D=parseInt(A.borderTopWidth,10),O=parseInt(A.paddingTop,10),F=parseInt(A.borderBottomWidth,10),I=parseInt(A.paddingBottom,10),U=D+O+M+I+F,k=Math.min(w.offsetHeight*5,U),S=window.getComputedStyle(g),L=parseInt(S.paddingTop,10),V=parseInt(S.paddingBottom,10),B=N.top+N.height/2-fn,G=T-B,q=w.offsetHeight/2,$=w.offsetTop+q,K=D+O+$,Z=U-K;if(K<=B){const Y=z.length>0&&w===z[z.length-1].ref.current;a.style.bottom="0px";const J=c.clientHeight-g.offsetTop-g.offsetHeight,ue=Math.max(G,q+(Y?V:0)+J+F),ne=K+ue;a.style.height=ne+"px"}else{const Y=z.length>0&&w===z[0].ref.current;a.style.top="0px";const ue=Math.max(B,D+g.offsetTop+(Y?L:0)+q)+Z;a.style.height=ue+"px",g.scrollTop=K-B+g.offsetTop}a.style.margin=`${fn}px 0`,a.style.minHeight=k+"px",a.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,a,c,g,w,v,i.dir,r]);wt(()=>_(),[_]);const[b,C]=f.useState();wt(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const P=f.useCallback(N=>{N&&y.current===!0&&(_(),x==null||x(),y.current=!1)},[_,x]);return u.jsx(xW,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:u.jsx(de.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});aP.displayName=yW;var vW="SelectPopperPosition",qm=f.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=fn,...i}=t,o=Mh(n);return u.jsx(zN,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qm.displayName=vW;var[xW,qv]=Zo(mi,{}),Km="SelectViewport",lP=f.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Rs(Km,n),o=qv(Km,n),a=Ne(e,i.onViewportChange),l=f.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Ah.Slot,{scope:n,children:u.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const y=window.innerHeight-fn*2,g=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),v=Math.max(g,w);if(v<y){const x=v+m,_=Math.min(y,x),b=x-_;h.style.height=_+"px",h.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});lP.displayName=Km;var cP="SelectGroup",[wW,_W]=Zo(cP),bW=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=fr();return u.jsx(wW,{scope:n,id:s,children:u.jsx(de.div,{role:"group","aria-labelledby":s,...r,ref:e})})});bW.displayName=cP;var uP="SelectLabel",dP=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_W(uP,n);return u.jsx(de.div,{id:s.id,...r,ref:e})});dP.displayName=uP;var Pd="SelectItem",[CW,hP]=Zo(Pd),fP=f.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ps(Pd,n),l=Rs(Pd,n),c=a.value===r,[d,h]=f.useState(i??""),[p,m]=f.useState(!1),y=Ne(e,x=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,x,r,s)}),g=fr(),w=f.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(CW,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:f.useCallback(x=>{h(_=>_||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(Ah.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(de.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:ee(o.onFocus,()=>m(!0)),onBlur:ee(o.onBlur,()=>m(!1)),onClick:ee(o.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:ee(o.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:ee(o.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:ee(o.onPointerMove,x=>{var _;w.current=x.pointerType,s?(_=l.onItemLeave)==null||_.call(l):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,x=>{var _;x.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:ee(o.onKeyDown,x=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&x.key===" "||(cW.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});fP.displayName=Pd;var ka="SelectItemText",pP=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ps(ka,n),a=Rs(ka,n),l=hP(ka,n),c=fW(ka,n),[d,h]=f.useState(null),p=Ne(e,v=>h(v),l.onItemTextChange,v=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,v,l.value,l.disabled)}),m=d==null?void 0:d.textContent,y=f.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=c;return wt(()=>(g(y),()=>w(y)),[g,w,y]),u.jsxs(u.Fragment,{children:[u.jsx(de.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?xi.createPortal(i.children,o.valueNode):null]})});pP.displayName=ka;var mP="SelectItemIndicator",gP=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return hP(mP,n).isSelected?u.jsx(de.span,{"aria-hidden":!0,...r,ref:e}):null});gP.displayName=mP;var Qm="SelectScrollUpButton",yP=f.forwardRef((t,e)=>{const n=Rs(Qm,t.__scopeSelect),r=qv(Qm,t.__scopeSelect),[s,i]=f.useState(!1),o=Ne(e,r.onScrollButtonChange);return wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(xP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});yP.displayName=Qm;var Ym="SelectScrollDownButton",vP=f.forwardRef((t,e)=>{const n=Rs(Ym,t.__scopeSelect),r=qv(Ym,t.__scopeSelect),[s,i]=f.useState(!1),o=Ne(e,r.onScrollButtonChange);return wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(xP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});vP.displayName=Ym;var xP=f.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Rs("SelectScrollButton",n),o=f.useRef(null),a=jh(n),l=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),wt(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(de.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{l()})})}),SW="SelectSeparator",wP=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(de.div,{"aria-hidden":!0,...r,ref:e})});wP.displayName=SW;var Xm="SelectArrow",EW=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Mh(n),i=Ps(Xm,n),o=Rs(Xm,n);return i.open&&o.position==="popper"?u.jsx(VN,{...s,...r,ref:e}):null});EW.displayName=Xm;function _P(t){return t===""||t===void 0}var bP=f.forwardRef((t,e)=>{const{value:n,...r}=t,s=f.useRef(null),i=Ne(e,s),o=_6(n);return f.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),u.jsx(dc,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});bP.displayName="BubbleSelect";function CP(t){const e=Ut(t),n=f.useRef(""),r=f.useRef(0),s=f.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function SP(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=TW(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function TW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var kW=XN,EP=ZN,NW=tP,PW=nP,RW=rP,TP=sP,IW=lP,kP=dP,NP=fP,AW=pP,jW=gP,PP=yP,RP=vP,IP=wP;const Ga=kW,qa=NW,go=f.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(EP,{ref:r,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(PW,{asChild:!0,children:u.jsx(Uk,{className:"h-4 w-4 opacity-50"})})]}));go.displayName=EP.displayName;const AP=f.forwardRef(({className:t,...e},n)=>u.jsx(PP,{ref:n,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(A5,{className:"h-4 w-4"})}));AP.displayName=PP.displayName;const jP=f.forwardRef(({className:t,...e},n)=>u.jsx(RP,{ref:n,className:le("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Uk,{className:"h-4 w-4"})}));jP.displayName=RP.displayName;const yo=f.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(RW,{children:u.jsxs(TP,{ref:s,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(AP,{}),u.jsx(IW,{className:le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(jP,{})]})}));yo.displayName=TP.displayName;const MW=f.forwardRef(({className:t,...e},n)=>u.jsx(kP,{ref:n,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));MW.displayName=kP.displayName;const $t=f.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(NP,{ref:r,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(jW,{children:u.jsx(Fk,{className:"h-4 w-4"})})}),u.jsx(AW,{children:e})]}));$t.displayName=NP.displayName;const OW=f.forwardRef(({className:t,...e},n)=>u.jsx(IP,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));OW.displayName=IP.displayName;var DW=f.forwardRef((t,e)=>{const{children:n,...r}=t,s=f.Children.toArray(n),i=s.find(LW);if(i){const o=i.props.children,a=s.map(l=>l===i?f.Children.count(o)>1?f.Children.only(null):f.isValidElement(o)?o.props.children:null:l);return u.jsx(Jm,{...r,ref:e,children:f.isValidElement(o)?f.cloneElement(o,void 0,a):null})}return u.jsx(Jm,{...r,ref:e,children:n})});DW.displayName="Slot";var Jm=f.forwardRef((t,e)=>{const{children:n,...r}=t;if(f.isValidElement(n)){const s=UW(n);return f.cloneElement(n,{...FW(r,n.props),ref:e?Yo(e,s):s})}return f.Children.count(n)>1?f.Children.only(null):null});Jm.displayName="SlotClone";var MP=({children:t})=>u.jsx(u.Fragment,{children:t});function LW(t){return f.isValidElement(t)&&t.type===MP}function FW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function UW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var[Oh,vK]=lc("Tooltip",[Ph]),Dh=Ph(),OP="TooltipProvider",zW=700,Zm="tooltip.open",[VW,Kv]=Oh(OP),DP=t=>{const{__scopeTooltip:e,delayDuration:n=zW,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=f.useState(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(VW,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};DP.displayName=OP;var Lh="Tooltip",[$W,Fh]=Oh(Lh),LP=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=Kv(Lh,t.__scopeTooltip),c=Dh(e),[d,h]=f.useState(null),p=fr(),m=f.useRef(0),y=o??l.disableHoverableContent,g=a??l.delayDuration,w=f.useRef(!1),[v=!1,x]=fi({prop:r,defaultProp:s,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent(Zm))):l.onClose(),i==null||i(N)}}),_=f.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),b=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,x(!0)},[x]),C=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),P=f.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,x(!0),m.current=0},g)},[g,x]);return f.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),u.jsx(FN,{...c,children:u.jsx($W,{scope:e,contentId:p,open:v,stateAttribute:_,trigger:d,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayed?P():b()},[l.isOpenDelayed,P,b]),onTriggerLeave:f.useCallback(()=>{y?C():(window.clearTimeout(m.current),m.current=0)},[C,y]),onOpen:b,onClose:C,disableHoverableContent:y,children:n})})};LP.displayName=Lh;var eg="TooltipTrigger",FP=f.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Fh(eg,n),i=Kv(eg,n),o=Dh(n),a=f.useRef(null),l=Ne(e,a,s.onTriggerChange),c=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(UN,{asChild:!0,...o,children:u.jsx(de.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});FP.displayName=eg;var BW="TooltipPortal",[xK,WW]=Oh(BW,{forceMount:void 0}),jo="TooltipContent",UP=f.forwardRef((t,e)=>{const n=WW(jo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Fh(jo,t.__scopeTooltip);return u.jsx(ki,{present:r||o.open,children:o.disableHoverableContent?u.jsx(zP,{side:s,...i,ref:e}):u.jsx(HW,{side:s,...i,ref:e})})}),HW=f.forwardRef((t,e)=>{const n=Fh(jo,t.__scopeTooltip),r=Kv(jo,t.__scopeTooltip),s=f.useRef(null),i=Ne(e,s),[o,a]=f.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,p=f.useCallback(()=>{a(null),h(!1)},[h]),m=f.useCallback((y,g)=>{const w=y.currentTarget,v={x:y.clientX,y:y.clientY},x=QW(v,w.getBoundingClientRect()),_=YW(v,x),b=XW(g.getBoundingClientRect()),C=ZW([..._,...b]);a(C),h(!0)},[h]);return f.useEffect(()=>()=>p(),[p]),f.useEffect(()=>{if(l&&d){const y=w=>m(w,d),g=w=>m(w,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[l,d,m,p]),f.useEffect(()=>{if(o){const y=g=>{const w=g.target,v={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),_=!JW(v,o);x?p():_&&(p(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,o,c,p]),u.jsx(zP,{...t,ref:i})}),[GW,qW]=Oh(Lh,{isInside:!1}),zP=f.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Fh(jo,n),c=Dh(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(Zm,d),()=>document.removeEventListener(Zm,d)),[d]),f.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(cc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(zN,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(MP,{children:r}),u.jsx(GW,{scope:n,isInside:!0,children:u.jsx(C6,{id:l.contentId,role:"tooltip",children:s||r})})]})})});UP.displayName=jo;var VP="TooltipArrow",KW=f.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Dh(n);return qW(VP,n).isInside?null:u.jsx(VN,{...s,...r,ref:e})});KW.displayName=VP;function QW(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YW(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function XW(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function JW(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function ZW(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),eH(e)}function eH(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var tH=DP,nH=LP,rH=FP,$P=UP;const sH=tH,iH=nH,oH=rH,BP=f.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx($P,{ref:r,sideOffset:e,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));BP.displayName=$P.displayName;const aH=({quiz:t,onStart:e,onDelete:n,canDelete:r=!1})=>{const[s,i]=f.useState(!1),o=t.questions.reduce((d,h)=>d+(h.timeLimit||20),0),a=o>60?`${Math.floor(o/60)}m ${o%60}s`:`${o}s`,l=t.hasNegativeMarking?`Negative marking: ${t.negativeMarkingValue}%`:"No negative marking",c=d=>{d.stopPropagation(),n&&window.confirm(`Are you sure you want to delete "${t.title}"? This action cannot be undone.`)&&n(t.id)};return u.jsxs(Xt,{className:`quiz-card transition-all duration-300 ${s?"shadow-xl scale-[1.02]":"shadow-md"} overflow-hidden`,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[u.jsxs(An,{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("span",{className:"inline-block px-2 py-1 rounded-md text-xs font-medium bg-quiz-light text-quiz-dark",children:["Grade ",t.grade,"  ",t.subject]}),u.jsx(sH,{children:u.jsxs(iH,{children:[u.jsx(oH,{asChild:!0,children:u.jsxs("span",{className:"inline-flex items-center text-xs text-gray-500 dark:text-gray-400",children:[u.jsx(Sh,{className:"h-3 w-3 mr-1"}),a]})}),u.jsx(BP,{children:u.jsx("p",{children:"Estimated completion time"})})]})})]}),u.jsx("h3",{className:"text-lg font-bold text-quiz-dark dark:text-white mb-2 line-clamp-2",children:t.title}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-3 line-clamp-2",children:t.description}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Lk,{className:"h-3 w-3 mr-1"}),u.jsxs("span",{children:[t.questions.length," Questions"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(zk,{className:"h-3 w-3 mr-1"}),u.jsxs("span",{children:["Topic: ",t.topic]})]})]}),u.jsx("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:l})]}),u.jsx(Gk,{className:"pt-0 px-6 pb-6",children:u.jsxs("div",{className:"flex justify-between items-center w-full",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(t.createdAt).toLocaleDateString()}),u.jsxs("div",{className:"flex gap-2",children:[r&&n&&u.jsx(ie,{variant:"outline",size:"sm",className:"text-red-500 hover:bg-red-50 hover:text-red-600 dark:hover:bg-red-900/20",onClick:c,"aria-label":`Delete ${t.title} quiz`,children:u.jsx(G5,{className:"h-4 w-4"})}),u.jsxs(ie,{className:"quiz-btn-primary flex items-center gap-2",onClick:()=>e(t.id),"aria-label":`Start ${t.title} quiz`,children:[u.jsx(Rv,{className:"h-4 w-4"}),"Start Quiz"]})]})]})})]})},lH=(t=6)=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array.from({length:t},()=>e.charAt(Math.floor(Math.random()*e.length))).join("")},WP=f.createContext(void 0),ea=()=>{const t=f.useContext(WP);if(!t)throw new Error("useGame must be used within a GameProvider");return t},cH=({children:t})=>{const{currentUser:e}=Pr(),{toast:n}=Rt(),[r,s]=f.useState(null),[i,o]=f.useState([]),[a,l]=f.useState(null),[c,d]=f.useState(null),[h,p]=f.useState(null),[m,y]=f.useState(!1),[g,w]=f.useState(!1),[v,x]=f.useState(null),[_,b]=f.useState(null),[C,P]=f.useState(0),N=f.useMemo(()=>v?_e(ye,`games/${v}`):null,[v]),E=f.useMemo(()=>v?_e(ye,`games/${v}/players`):null,[v]);f.useEffect(()=>{if(!N)return;w(!0);const S=Ro(N,L=>{if(L.exists()){const V=L.val();s({id:L.key,...V}),y(V.hostId===(e==null?void 0:e.id)),V.quizId&&(!c||c.id!==V.quizId)&&vn(_e(ye,`quizzes/${V.quizId}`)).then(B=>{if(B.exists()){const G=B.val();d({...G,createdAt:new Date(G.createdAt)})}}).catch(B=>{console.error("Error fetching quiz:",B)})}else s(null),x(null),d(null);w(!1)},L=>{console.error("Error listening to game:",L),n({title:"Error",description:"Could not load game data.",variant:"destructive"}),w(!1)});return()=>{S(),_d(N)}},[N,e==null?void 0:e.id,c,n]),f.useEffect(()=>{if(!E)return;const S=Ro(E,L=>{if(L.exists()){const V=Object.entries(L.val()).map(([B,G])=>({id:B,...G}));if(o(V),e){const B=V.find(G=>G.id===e.id);l(B||null)}}else o([]),l(null)},L=>{console.error("Error listening to players:",L),n({title:"Error",description:"Could not load player data.",variant:"destructive"})});return()=>{S(),_d(E)}},[E,e,n]),f.useEffect(()=>{if(!r||!c){p(null);return}const S=r.currentQuestionIndex??-1,L=S>=0&&S<c.questions.length?c.questions[S]:null;p(L)},[r==null?void 0:r.currentQuestionIndex,c]);const j=f.useCallback(()=>{if(!N)return;const S=Date.now();S-C<1e3||(P(S),vn(N).then(L=>{if(L.exists()){const V=L.val();s({id:L.key,...V}),V.quizId&&(!c||c.id!==V.quizId)&&vn(_e(ye,`quizzes/${V.quizId}`)).then(B=>{if(B.exists()){const G=B.val();d({...G,createdAt:new Date(G.createdAt)})}}).catch(B=>{console.error("Error fetching quiz:",B)})}}).catch(L=>{console.error("Error refreshing game state:",L)}))},[N,c,C]),R=f.useCallback(S=>!S||S.length!==6?{valid:!1,message:"Game code must be 6 characters"}:{valid:!0},[]),z=f.useCallback(async S=>{if(!e)return n({title:"Error",description:"You must be logged in to create a game.",variant:"destructive"}),null;w(!0);try{const L=lH(),V={code:L,hostId:e.id,quizId:S,status:"waiting",currentQuestionIndex:-1,createdAt:new Date().toISOString(),players:{}},B=new Promise((G,q)=>setTimeout(()=>q(new Error("Database timeout")),8e3));return await Promise.race([us(_e(ye,`games/${L}`),V),B]),x(L),{...V,id:L}}catch(L){return console.error("Error creating game:",L),n({title:"Error",description:L instanceof Error&&L.message==="Database timeout"?"Game creation timed out. Please check your connection and try again.":"Failed to create game.",variant:"destructive"}),null}finally{w(!1)}},[e,n]),T=f.useMemo(()=>new Map,[]),M=f.useCallback(async(S,L)=>{const V=S.toUpperCase();try{let B=T.get(V);const G=Date.now();if(!B||B._timestamp&&G-B._timestamp>3e4){const ve=new Promise((ft,Qe)=>setTimeout(()=>Qe(new Error("Request timeout")),5e3)),ge=vn(_e(ye,`games/${V}`)),Pe=await Promise.race([ge,ve]);if(!Pe.exists())return{success:!1,error:"Game not found"};B=Pe.val(),B._timestamp=G,T.set(V,B)}if(B.status!=="waiting")return{success:!1,error:"Game has already started"};const $=_e(ye,`games/${V}/players`),K=await vn($);let Z={};K.exists()&&(Z=K.val());const X=Object.values(Z).find(ve=>ve.nickname.toLowerCase()===L.trim().toLowerCase());if(X){const ve=X.id;return e&&e.id===ve?(x(V),b(ve),{success:!0}):{success:!1,error:"This nickname is already taken. Please choose a different one."}}const Y=e?e.id:`player_${Date.now()}_${Math.random().toString(36).substring(2,9)}`;if(Object.keys(Z).includes(Y))return x(V),b(Y),{success:!0};let J=3,ue=!1,ne;for(;J>0&&!ue;)try{await Df(_e(ye,`games/${V}/players/${Y}`),ve=>ve||{id:Y,nickname:L.trim(),score:0,answers:[],joinedAt:new Date().toISOString()}),ue=!0,x(V),b(Y)}catch(ve){ne=ve,J--,J>0&&await new Promise(ge=>setTimeout(ge,500))}if(!ue)throw ne;return{success:!0}}catch(B){return console.error("Error joining game:",B),{success:!1,error:B instanceof Error&&B.message==="Request timeout"?"Connection timeout. Please check your internet.":"Failed to join game"}}},[e,T]),A=f.useCallback(async()=>{if(!(!r||!m||r.status!=="waiting"))try{await $s(_e(ye,`games/${r.id}`),{status:"active",currentQuestionIndex:0,startedAt:new Date().toISOString()})}catch(S){console.error("Error starting game:",S),n({title:"Error",description:"Failed to start game.",variant:"destructive"})}},[r,m,n]),[D,O]=f.useState(!1),F=f.useCallback(async(S,L)=>{if(!r||!h||D)return n({title:"Cannot submit answer",description:"Please wait for the current submission to complete",variant:"destructive"}),!1;try{if(O(!0),h.id!==S)return n({title:"Question mismatch",description:"The question has changed. Please answer the current question.",variant:"destructive"}),O(!1),!1;const V=(a==null?void 0:a.id)||_||(e==null?void 0:e.uid)||(e==null?void 0:e.id);if(!V)return n({title:"Player not identified",description:"Could not identify your player data",variant:"destructive"}),O(!1),!1;const B=_e(ye,`games/${r.id}/players/${V}`),G=await vn(B);if(!G.exists())return console.error("Player not found in database:",V),n({title:"Player not found",description:"Your player data could not be found. Try refreshing the page.",variant:"destructive"}),O(!1),!1;const q=G.val();if((Array.isArray(q.answers)?[...q.answers]:[]).some(ge=>ge.questionId===S))return n({title:"Already answered",description:"You have already answered this question",variant:"destructive"}),O(!1),!1;const K=h.options[parseInt(h.correctOption)].id,Z=L===K,X=Z?4:-1,Y={questionId:S,selectedOption:L,correct:Z,timeToAnswer:Math.floor((Date.now()-(r.startedAt?new Date(r.startedAt).getTime():Date.now()))/1e3),marks:X,points:X},ue=(q.score||0)+X;await Df(B,ge=>{if(!ge)return q;const ft=[...Array.isArray(ge.answers)?ge.answers:[],Y];return{...ge,score:ue,answers:ft,lastAnswerAt:new Date().toISOString()}});const ne=_e(ye,`games/${r.id}`);await Df(ne,ge=>{if(!ge)return null;let Pe=[];Array.isArray(ge.players)?Pe=[...ge.players]:typeof ge.players=="object"&&(Pe=Object.values(ge.players));const ft=Pe.map(Qe=>Qe.id===V?{...Qe,score:ue,answers:Array.isArray(Qe.answers)?[...Qe.answers,Y]:[Y]}:Qe);return{...ge,players:ft}}),setTimeout(()=>j(),300);const ve=pk(_e(ye,`games/${r.id}/answers`));return await us(ve,{playerId:V,playerName:q.nickname,...Y}),n({title:Z?" Correct Answer! +4 marks":" Wrong Answer! -1 mark",description:Z?`Great job! Your total score is now ${ue}`:`Keep trying! Your total score is ${ue}`,variant:Z?"default":"destructive"}),setTimeout(()=>{O(!1)},500),!0}catch(V){return console.error("Error submitting answer:",V),n({title:"Error",description:"Failed to submit answer. Please try again.",variant:"destructive"}),O(!1),!1}},[r,a,h,n,j,D,_,e]),I=f.useCallback(async()=>{if(!(!r||!m||r.status!=="active"||!c))try{const S=(r.currentQuestionIndex??-1)+1,L=_e(ye,`games/${r.id}`);S<c.questions.length?await $s(L,{currentQuestionIndex:S,lastQuestionAt:new Date().toISOString()}):await $s(L,{status:"finished",endedAt:new Date().toISOString()})}catch(S){console.error("Error advancing question:",S),n({title:"Error",description:"Failed to advance question.",variant:"destructive"})}},[r,c,m,n]),U=f.useCallback(()=>{if(v&&e){const S=_e(ye,`games/${v}/players/${e.id}`);us(S,null).catch(console.error)}x(null),s(null),o([]),l(null),d(null),p(null),y(!1),w(!1),n({title:"Left Game",variant:"default"})},[v,e,n]),k=f.useCallback(async()=>{if(!(!r||!m))try{await $s(_e(ye,`games/${r.id}`),{status:"finished",endedAt:new Date().toISOString()})}catch(S){console.error("Error ending game:",S),n({title:"Error",description:"Failed to end game.",variant:"destructive"})}},[r,m,n]);return u.jsx(WP.Provider,{value:{activeGame:r,players:i,currentPlayer:a,currentQuiz:c,currentQuestion:h,isHost:m,gameLoading:g,createGame:z,joinGame:async(S,L)=>{const V=await M(S,L);return{success:V.success,error:V.error||"Unknown error",message:V.message}},startGame:A,endGame:k,submitAnswer:async(S,L)=>{await F(S,L)},nextQuestion:I,leaveGame:U,refreshGameState:j,validateGameCode:R},children:t})},HP=[{id:"physics",name:"Physics",topics:[{id:"mechanics",name:"Mechanics",quizCount:12},{id:"electricity",name:"Electricity & Magnetism",quizCount:10},{id:"optics",name:"Optics",quizCount:10},{id:"modern_physics",name:"Modern Physics",quizCount:14},{id:"thermodynamics",name:"Thermodynamics",quizCount:10}]},{id:"chemistry",name:"Chemistry",topics:[{id:"organic",name:"Organic Chemistry",quizCount:15},{id:"inorganic",name:"Inorganic Chemistry",quizCount:12},{id:"physical",name:"Physical Chemistry",quizCount:11},{id:"analytical",name:"Analytical Chemistry",quizCount:10}]},{id:"biology",name:"Biology",topics:[{id:"botany",name:"Botany",quizCount:14},{id:"zoology",name:"Zoology",quizCount:16},{id:"human_physiology",name:"Human Physiology",quizCount:12},{id:"genetics",name:"Genetics",quizCount:10},{id:"ecology",name:"Ecology",quizCount:10}]},{id:"mathematics",name:"Mathematics",topics:[{id:"algebra",name:"Algebra",quizCount:15},{id:"calculus",name:"Calculus",quizCount:14},{id:"trigonometry",name:"Trigonometry",quizCount:10},{id:"coordinate",name:"Coordinate Geometry",quizCount:12},{id:"statistics",name:"Statistics & Probability",quizCount:10}]}],tb=[];var GP=f.forwardRef((t,e)=>{const{children:n,...r}=t,s=f.Children.toArray(n),i=s.find(dH);if(i){const o=i.props.children,a=s.map(l=>l===i?f.Children.count(o)>1?f.Children.only(null):f.isValidElement(o)?o.props.children:null:l);return u.jsx(tg,{...r,ref:e,children:f.isValidElement(o)?f.cloneElement(o,void 0,a):null})}return u.jsx(tg,{...r,ref:e,children:n})});GP.displayName="Slot";var tg=f.forwardRef((t,e)=>{const{children:n,...r}=t;if(f.isValidElement(n)){const s=fH(n);return f.cloneElement(n,{...hH(r,n.props),ref:e?Yo(e,s):s})}return f.Children.count(n)>1?f.Children.only(null):null});tg.displayName="SlotClone";var uH=({children:t})=>u.jsx(u.Fragment,{children:t});function dH(t){return f.isValidElement(t)&&t.type===uH}function hH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function fH(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Qv="Dialog",[qP,wK]=lc(Qv),[pH,jn]=qP(Qv),KP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=f.useRef(null),l=f.useRef(null),[c=!1,d]=fi({prop:r,defaultProp:s,onChange:i});return u.jsx(pH,{scope:e,triggerRef:a,contentRef:l,contentId:fr(),titleId:fr(),descriptionId:fr(),open:c,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};KP.displayName=Qv;var QP="DialogTrigger",YP=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jn(QP,n),i=Ne(e,s.triggerRef);return u.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Jv(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});YP.displayName=QP;var Yv="DialogPortal",[mH,XP]=qP(Yv,{forceMount:void 0}),JP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=jn(Yv,e);return u.jsx(mH,{scope:e,forceMount:n,children:f.Children.map(r,o=>u.jsx(ki,{present:n||i.open,children:u.jsx(Rh,{asChild:!0,container:s,children:o})}))})};JP.displayName=Yv;var Rd="DialogOverlay",ZP=f.forwardRef((t,e)=>{const n=XP(Rd,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=jn(Rd,t.__scopeDialog);return i.modal?u.jsx(ki,{present:r||i.open,children:u.jsx(gH,{...s,ref:e})}):null});ZP.displayName=Rd;var gH=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jn(Rd,n);return u.jsx(Gv,{as:GP,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(de.div,{"data-state":Jv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),gi="DialogContent",eR=f.forwardRef((t,e)=>{const n=XP(gi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=jn(gi,t.__scopeDialog);return u.jsx(ki,{present:r||i.open,children:i.modal?u.jsx(yH,{...s,ref:e}):u.jsx(vH,{...s,ref:e})})});eR.displayName=gi;var yH=f.forwardRef((t,e)=>{const n=jn(gi,t.__scopeDialog),r=f.useRef(null),s=Ne(e,n.contentRef,r);return f.useEffect(()=>{const i=r.current;if(i)return WN(i)},[]),u.jsx(tR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),vH=f.forwardRef((t,e)=>{const n=jn(gi,t.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return u.jsx(tR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),tR=f.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=jn(gi,n),l=f.useRef(null),c=Ne(e,l);return vN(),u.jsxs(u.Fragment,{children:[u.jsx(Lv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(cc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Jv(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(xH,{titleId:a.titleId}),u.jsx(_H,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Xv="DialogTitle",nR=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jn(Xv,n);return u.jsx(de.h2,{id:s.titleId,...r,ref:e})});nR.displayName=Xv;var rR="DialogDescription",sR=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jn(rR,n);return u.jsx(de.p,{id:s.descriptionId,...r,ref:e})});sR.displayName=rR;var iR="DialogClose",oR=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jn(iR,n);return u.jsx(de.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});oR.displayName=iR;function Jv(t){return t?"open":"closed"}var aR="DialogTitleWarning",[_K,lR]=a$(aR,{contentName:gi,titleName:Xv,docsSlug:"dialog"}),xH=({titleId:t})=>{const e=lR(aR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},wH="DialogDescriptionWarning",_H=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lR(wH).contentName}}.`;return f.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},bH=KP,CH=YP,SH=JP,cR=ZP,uR=eR,dR=nR,hR=sR,EH=oR;const Zv=bH,TH=CH,kH=SH,fR=f.forwardRef(({className:t,...e},n)=>u.jsx(cR,{ref:n,className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));fR.displayName=cR.displayName;const Uh=f.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(kH,{children:[u.jsx(fR,{}),u.jsxs(uR,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(EH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Sd,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Uh.displayName=uR.displayName;const e0=({className:t,...e})=>u.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});e0.displayName="DialogHeader";const t0=f.forwardRef(({className:t,...e},n)=>u.jsx(dR,{ref:n,className:le("text-lg font-semibold leading-none tracking-tight",t),...e}));t0.displayName=dR.displayName;const NH=f.forwardRef(({className:t,...e},n)=>u.jsx(hR,{ref:n,className:le("text-sm text-muted-foreground",t),...e}));NH.displayName=hR.displayName;const ot=[];for(let t=0;t<256;++t)ot.push((t+256).toString(16).slice(1));function PH(t,e=0){return(ot[t[e+0]]+ot[t[e+1]]+ot[t[e+2]]+ot[t[e+3]]+"-"+ot[t[e+4]]+ot[t[e+5]]+"-"+ot[t[e+6]]+ot[t[e+7]]+"-"+ot[t[e+8]]+ot[t[e+9]]+"-"+ot[t[e+10]]+ot[t[e+11]]+ot[t[e+12]]+ot[t[e+13]]+ot[t[e+14]]+ot[t[e+15]]).toLowerCase()}let Jf;const RH=new Uint8Array(16);function IH(){if(!Jf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Jf=crypto.getRandomValues.bind(crypto)}return Jf(RH)}const AH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nb={randomUUID:AH};function it(t,e,n){var s;if(nb.randomUUID&&!e&&!t)return nb.randomUUID();t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??IH();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,PH(r)}const pR=f.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));pR.displayName="Textarea";const jH=({onClose:t})=>{const{currentUser:e}=Pr(),[n,r]=f.useState(0),[s,i]=f.useState(!1),[o,a]=f.useState("idle"),[l,c]=f.useState({}),[d,h]=f.useState([]),[p,m]=f.useState(null),y=()=>({id:it(),text:"",options:[{id:it(),text:""},{id:it(),text:""},{id:it(),text:""},{id:it(),text:""}],correctOption:"",points:4,timeLimit:20,imageUrl:"",startTime:0}),[g,w]=f.useState({id:it(),title:"",description:"",subject:"",grade:"11",topic:"General",createdBy:(e==null?void 0:e.id)||"",createdAt:new Date,questions:[y()],hasNegativeMarking:!1,negativeMarkingValue:0}),v=f.useRef([]);f.useEffect(()=>{if(!e)return;const T=_e(ye,`quizDrafts/${e.id}`),M=Ro(T,A=>{if(A.exists()){const D=A.val(),O=Object.keys(D);if(O.length>0){const F=O.sort((U,k)=>new Date(D[k].updatedAt).getTime()-new Date(D[U].updatedAt).getTime())[0],I=D[F];m(F),w({...I,createdAt:new Date(I.createdAt),questions:I.questions.map(U=>({...U,options:Array.isArray(U.options)?U.options:[]}))})}}});return()=>_d(T,"value",M)},[e]),f.useEffect(()=>{if(!e||!g.title)return;const T=setInterval(()=>{x()},3e4);return()=>clearInterval(T)},[g,e]),f.useEffect(()=>{var T;v.current[n]&&((T=v.current[n])==null||T.scrollIntoView({behavior:"smooth",block:"start"}))},[n]);const x=async()=>{if(e){a("saving");try{const T={...g,updatedAt:new Date().toISOString()},M=_e(ye,`quizDrafts/${e.id}`);let A=p;A||(A=pk(M).key,m(A)),A&&(await $s(_e(ye,`quizDrafts/${e.id}/${A}`),T),a("saved"),setTimeout(()=>a("idle"),2e3))}catch(T){console.error("Error saving draft:",T),a("idle")}}},_=(T,M)=>{w(A=>({...A,[T]:M}))},b=(T,M,A)=>{w(D=>{const O=[...D.questions];return O[T]={...O[T],[M]:A},{...D,questions:O}})},C=(T,M,A)=>{w(D=>{const O=[...D.questions],F=[...O[T].options];return F[M]={...F[M],text:A},O[T]={...O[T],options:F},{...D,questions:O}})},P=()=>{w(T=>{const M=[...T.questions,y()];return{...T,questions:M}}),r(g.questions.length)},N=T=>{g.questions.length<=1||(w(M=>{const A=M.questions.filter((D,O)=>O!==T);return{...M,questions:A}}),n>=T&&n>0&&r(n-1))},E=async(T,M)=>{if(!M)return;const A=URL.createObjectURL(M);b(T,"imageUrl",A);const D=it(),O=Tv(b5,`quiz-images/${g.id}/${D}-${M.name}`),F=y5(O,M);F.on("state_changed",I=>{const U=I.bytesTransferred/I.totalBytes*100;c(k=>({...k,[T]:U}))},I=>{console.error("Upload error:",I),c(U=>({...U,[T]:0}))},async()=>{const I=await Ev(F.snapshot.ref);b(T,"imageUrl",I),c(U=>({...U,[T]:100})),setTimeout(()=>{c(U=>{const k={...U};return delete k[T],k})},2e3)})},j=()=>{const T=[];return g.title.trim()||T.push("Quiz title is required"),g.subject||T.push("Subject is required"),g.grade||T.push("Grade level is required"),g.questions.forEach((M,A)=>{M.text.trim()||T.push(`Question ${A+1} text is required`);const D=M.options.filter(O=>!O.text.trim()).length;D>0&&T.push(`Question ${A+1} has ${D} empty options`),M.correctOption||T.push(`Question ${A+1} needs a correct answer selected`)}),T},R=async()=>{const T=j();if(h(T),!(T.length>0)){i(!0);try{const M={...g,createdAt:g.createdAt.toISOString(),updatedAt:new Date().toISOString(),questions:g.questions.map(F=>({...F,options:F.options.map(I=>({id:I.id,text:I.text}))}))},A=_e(ye,`quizzes/${g.id}`);await us(A,M);const O=[...JSON.parse(localStorage.getItem("customQuizzes")||"[]").filter(F=>F.id!==g.id),g];localStorage.setItem("customQuizzes",JSON.stringify(O)),p&&e&&await us(_e(ye,`quizDrafts/${e.id}/${p}`),null),t()}catch(M){console.error("Error saving quiz:",M),M instanceof Error?h([`Failed to save quiz: ${M.message}`]):h(["Failed to save quiz. Please try again."])}finally{i(!1)}}},z=()=>{w({...g,title:"Sample Science Quiz",description:"A sample quiz with various science questions",subject:"physics",questions:[{id:it(),text:"What is the chemical symbol for water?",options:[{id:it(),text:"H2O"},{id:it(),text:"CO2"},{id:it(),text:"O2"},{id:it(),text:"NaCl"}],correctOption:"0",points:4,timeLimit:20,imageUrl:"",startTime:0},{id:it(),text:"Which planet is known as the Red Planet?",options:[{id:it(),text:"Venus"},{id:it(),text:"Mars"},{id:it(),text:"Jupiter"},{id:it(),text:"Saturn"}],correctOption:"1",points:4,timeLimit:15,imageUrl:"",startTime:0}]})};return u.jsxs("div",{className:"max-h-[90vh] overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center dark:text-white",children:"Create New Quiz"}),u.jsxs("div",{className:"mb-4 text-right text-sm",children:[o==="saving"&&u.jsx("span",{className:"text-amber-600 dark:text-amber-400",children:"Saving draft..."}),o==="saved"&&u.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Draft saved"})]}),d.length>0&&u.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:[u.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 font-medium mb-1",children:[u.jsx(Ch,{className:"h-4 w-4"}),u.jsx("span",{children:"Please fix the following errors:"})]}),u.jsx("ul",{className:"list-disc list-inside text-sm text-red-600 dark:text-red-400",children:d.map((T,M)=>u.jsx("li",{children:T},M))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Title"}),u.jsx(zn,{placeholder:"Quiz Title",value:g.title,onChange:T=>_("title",T.target.value),className:"dark:bg-gray-800 dark:border-gray-700"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Subject"}),u.jsxs(Ga,{value:g.subject,onValueChange:T=>_("subject",T),children:[u.jsx(go,{className:"dark:bg-gray-800 dark:border-gray-700 dark:text-white",children:u.jsx(qa,{placeholder:"Select Subject"})}),u.jsx(yo,{className:"dark:bg-gray-800 dark:border-gray-700",children:HP.map(T=>u.jsx($t,{value:T.id,children:T.name},T.id))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Grade Level"}),u.jsxs(Ga,{value:g.grade,onValueChange:T=>_("grade",T),children:[u.jsx(go,{className:"dark:bg-gray-800 dark:border-gray-700 dark:text-white",children:u.jsx(qa,{placeholder:"Select Grade"})}),u.jsxs(yo,{className:"dark:bg-gray-800 dark:border-gray-700",children:[u.jsx($t,{value:"11",children:"Grade 11"}),u.jsx($t,{value:"12",children:"Grade 12"})]})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Description"}),u.jsx(pR,{placeholder:"Enter a description for your quiz",value:g.description,onChange:T=>_("description",T.target.value),className:"dark:bg-gray-800 dark:border-gray-700 min-h-[100px]"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium dark:text-white",children:"Questions"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ie,{variant:"outline",onClick:()=>z(),className:"dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700",children:"Add Sample Quiz"}),u.jsxs(ie,{onClick:P,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[u.jsx(Vk,{className:"h-4 w-4 mr-1"})," Add Question"]})]})]}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:g.questions.map((T,M)=>u.jsx(ie,{variant:n===M?"default":"outline",onClick:()=>r(M),className:n===M?"bg-indigo-600 text-white":"dark:text-white dark:border-gray-700",children:M+1},M))}),u.jsx("div",{className:"space-y-6",children:g.questions.map((T,M)=>u.jsx("div",{ref:A=>v.current[M]=A,className:`transition-all duration-200 ${n===M?"scale-100 opacity-100":"scale-95 opacity-60"}`,children:u.jsx(Xt,{className:"dark:bg-gray-800 dark:border-gray-700",children:u.jsxs(An,{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h4",{className:"text-lg font-medium dark:text-white",children:["Question ",M+1]}),g.questions.length>1&&u.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>N(M),className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:u.jsx(Sd,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx(zn,{placeholder:"Question text",value:T.text,onChange:A=>b(M,"text",A.target.value),className:"dark:bg-gray-700 dark:border-gray-600 mb-2"}),u.jsxs("div",{className:"mt-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx(z5,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Add Image"}),u.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:A=>{A.target.files&&A.target.files[0]&&E(M,A.target.files[0])}})]}),l[M]!==void 0&&u.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-green-500",style:{width:`${l[M]}%`}})})]}),T.imageUrl&&u.jsxs("div",{className:"mt-2 relative",children:[u.jsx("img",{src:T.imageUrl,alt:"Question",className:"max-h-40 rounded-md object-contain bg-gray-100 dark:bg-gray-700 p-1"}),u.jsx(ie,{variant:"ghost",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0 rounded-full bg-red-500 text-white hover:bg-red-600",onClick:()=>b(M,"imageUrl",""),children:u.jsx(Sd,{className:"h-3 w-3"})})]})]})]}),u.jsx("div",{className:"space-y-2 mb-4",children:["A","B","C","D"].map((A,D)=>{var O;return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 font-medium",children:A}),u.jsx(zn,{placeholder:`Option ${A}`,value:((O=T.options[D])==null?void 0:O.text)||"",onChange:F=>C(M,D,F.target.value),className:"dark:bg-gray-700 dark:border-gray-600"})]},D)})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Correct Option"}),u.jsxs(Ga,{value:T.correctOption,onValueChange:A=>b(M,"correctOption",A),children:[u.jsx(go,{className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:u.jsx(qa,{placeholder:"Select correct answer"})}),u.jsxs(yo,{className:"dark:bg-gray-800 dark:border-gray-700",children:[u.jsx($t,{value:"0",children:"Option A"}),u.jsx($t,{value:"1",children:"Option B"}),u.jsx($t,{value:"2",children:"Option C"}),u.jsx($t,{value:"3",children:"Option D"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Time Limit (seconds)"}),u.jsx(zn,{type:"number",min:"5",max:"120",value:T.timeLimit,onChange:A=>b(M,"timeLimit",parseInt(A.target.value)||20),className:"dark:bg-gray-700 dark:border-gray-600"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Points"}),u.jsx(zn,{type:"number",min:"1",max:"10",value:T.points,onChange:A=>b(M,"points",parseInt(A.target.value)||1),className:"dark:bg-gray-700 dark:border-gray-600"})]})]})]})})},T.id))})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsx(ie,{variant:"outline",onClick:t,className:"dark:text-white dark:border-gray-700",children:"Cancel"}),u.jsxs(ie,{variant:"outline",onClick:x,className:"dark:text-white dark:border-gray-700",children:[u.jsx(V5,{className:"h-4 w-4 mr-1"})," Save Draft"]}),u.jsx(ie,{onClick:R,disabled:s,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:s?"Creating Quiz...":"Create Quiz"})]})]})},MH=()=>{const{currentUser:t,logout:e,loading:n}=Pr(),{createGame:r}=ea(),s=en(),{toast:i}=Rt(),[o,a]=f.useState([]),[l,c]=f.useState([]),[d,h]=f.useState("all"),[p,m]=f.useState("all"),[y,g]=f.useState(""),[w,v]=f.useState(null),[x,_]=f.useState(!1);f.useEffect(()=>{a(HP);const E=[...tb],j=JSON.parse(localStorage.getItem("customQuizzes")||"[]");if(E.push(...j),t){const R=_e(ye,"quizzes"),z=Ro(R,T=>{if(T.exists()){const M=[];T.forEach(D=>{const O=D.val();if(O.createdBy===t.id){const F={...O,createdAt:new Date(O.createdAt)};M.push(F)}});const A=[...tb];M.forEach(D=>{A.some(O=>O.id===D.id)||A.push(D)}),c(A),localStorage.setItem("customQuizzes",JSON.stringify(M))}});return()=>_d(R,"value",z)}else c(E)},[t]);const b=l.filter(E=>{const j=!y||E.title.toLowerCase().includes(y.toLowerCase())||E.description.toLowerCase().includes(y.toLowerCase()),R=d==="all"||E.subject.toLowerCase()===d.toLowerCase(),z=p==="all"||E.grade===p;return j&&R&&z}),C=E=>{const j=l.find(R=>R.id===E);j&&(v(j),i({title:"Quiz Selected",description:`${j.title} is ready to start!`,variant:"default"}),r(E),s("/host-game-room"))},P=()=>{e(),s("/")},N=async E=>{if(t)try{const j=l.find(T=>T.id===E);if(!j||j.createdBy!==t.id){i({title:"Cannot Delete Quiz",description:"You can only delete quizzes that you have created.",variant:"destructive"});return}await $z(_e(ye,`quizzes/${E}`)),c(T=>T.filter(M=>M.id!==E));const z=JSON.parse(localStorage.getItem("customQuizzes")||"[]").filter(T=>T.id!==E);localStorage.setItem("customQuizzes",JSON.stringify(z)),i({title:"Quiz Deleted",description:`"${j.title}" has been deleted successfully.`,variant:"default"})}catch(j){console.error("Error deleting quiz:",j),i({title:"Error",description:"Failed to delete quiz. Please try again.",variant:"destructive"})}};return n?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx("p",{children:"Loading dashboard..."})}):t?u.jsx(Sn,{children:u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx("header",{className:"bg-white/10 dark:bg-gray-900/60 shadow backdrop-blur-md",children:u.jsxs("div",{className:"container mx-auto p-4 flex justify-between items-center",children:[u.jsx(_i,{}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("span",{className:"text-gray-600 dark:text-white",children:["Welcome, ",u.jsx("span",{className:"font-medium",children:t.name})]}),u.jsxs(ie,{variant:"ghost",onClick:()=>s("/"),className:"text-gray-600 dark:text-white hover:bg-white/10",children:[u.jsx(U5,{className:"h-4 w-4 mr-2"}),"Home"]}),u.jsx(ie,{variant:"outline",onClick:P,className:"dark:text-white dark:hover:bg-gray-800",children:"Sign Out"})]})]})}),u.jsxs("main",{className:"container mx-auto p-4 py-8 flex-1",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-quiz-dark dark:text-white",children:"Host Dashboard"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your quizzes and game sessions"})]}),u.jsxs(H$,{defaultValue:"my-quizzes",className:"mb-8",children:[u.jsxs(pN,{className:"mb-6 bg-gray-100/70 dark:bg-gray-800/70 backdrop-blur-md",children:[u.jsxs(gu,{value:"my-quizzes",className:"dark:data-[state=active]:bg-indigo-600 dark:data-[state=active]:text-white",children:[u.jsx(Lk,{className:"w-4 h-4 mr-2"}),"My Quizzes"]}),u.jsxs(gu,{value:"create-quiz",className:"dark:data-[state=active]:bg-indigo-600 dark:data-[state=active]:text-white",children:[u.jsx(Rv,{className:"w-4 h-4 mr-2"}),"Create Quiz"]}),u.jsxs(gu,{value:"game-history",className:"dark:data-[state=active]:bg-indigo-600 dark:data-[state=active]:text-white",children:[u.jsx(Av,{className:"w-4 h-4 mr-2"}),"Game History"]})]}),u.jsxs(yu,{value:"my-quizzes",children:[u.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"flex items-center relative",children:[u.jsx($5,{className:"absolute left-3 text-gray-400",size:18}),u.jsx("input",{type:"text",placeholder:"Search quizzes...",className:"pl-10 w-full p-2 rounded-md border border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:y,onChange:E=>g(E.target.value)})]}),u.jsx("div",{children:u.jsxs(Ga,{value:d,onValueChange:h,children:[u.jsxs(go,{className:"w-full dark:bg-gray-800 dark:text-white dark:border-gray-700",children:[u.jsx(F5,{className:"w-4 h-4 mr-2 text-gray-500"}),u.jsx(qa,{placeholder:"Filter by Subject"})]}),u.jsxs(yo,{className:"dark:bg-gray-800 dark:text-white dark:border-gray-700",children:[u.jsx($t,{value:"all",children:"All Subjects"}),o.map(E=>u.jsx($t,{value:E.id,children:E.name},E.id))]})]})}),u.jsx("div",{children:u.jsxs(Ga,{value:p,onValueChange:m,children:[u.jsxs(go,{className:"w-full dark:bg-gray-800 dark:text-white dark:border-gray-700",children:[u.jsx(Io,{className:"w-4 h-4 mr-2 text-gray-500"}),u.jsx(qa,{placeholder:"Filter by Grade"})]}),u.jsxs(yo,{className:"dark:bg-gray-800 dark:text-white dark:border-gray-700",children:[u.jsx($t,{value:"all",children:"All Grades"}),u.jsx($t,{value:"11",children:"Grade 11"}),u.jsx($t,{value:"12",children:"Grade 12"})]})]})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.length>0?b.map(E=>u.jsx(aH,{quiz:E,onStart:C,onDelete:N,canDelete:E.createdBy===(t==null?void 0:t.id)},E.id)):u.jsx("div",{className:"col-span-full text-center p-8 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No quizzes found matching your filters."})})})]}),u.jsx(yu,{value:"create-quiz",children:u.jsx("div",{className:"quiz-card p-6 bg-white dark:bg-gray-800/50 rounded-lg shadow-sm",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-xl font-bold text-quiz-dark dark:text-white mb-4",children:"Create a New Quiz"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 max-w-2xl mx-auto",children:'Create custom quizzes for your students by selecting a subject, grade level, and adding your own questions. All your created quizzes will appear in your "My Quizzes" tab.'}),u.jsxs(Zv,{open:x,onOpenChange:_,children:[u.jsx(TH,{asChild:!0,children:u.jsxs(ie,{className:"quiz-btn-primary flex items-center gap-2",children:[u.jsx(Vk,{className:"h-4 w-4"}),"Create New Quiz"]})}),u.jsx(Uh,{className:"max-w-4xl p-0",children:u.jsx(jH,{onClose:()=>_(!1)})})]})]})})}),u.jsx(yu,{value:"game-history",children:u.jsxs("div",{className:"quiz-card p-6 text-center bg-white dark:bg-gray-800/50 rounded-lg shadow-sm",children:[u.jsx("h2",{className:"text-xl font-bold text-quiz-dark dark:text-white mb-4",children:"Game History"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"You haven't hosted any games yet. Start a quiz to see your game history."})]})})]})]})]})}):u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx("p",{children:"Loading user..."})})},OH=({onStartGame:t,onEndGame:e,onNextQuestion:n,showStart:r=!1,showNext:s=!1,disabled:i=!1})=>{const o=en(),a=async()=>{await e(),o("/leaderboard")};return u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r&&u.jsxs(ie,{className:"quiz-btn-primary",onClick:t,disabled:i,children:[u.jsx(Sh,{className:"h-4 w-4 mr-2"}),"Start Quiz"]}),s&&u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(ie,{variant:"outline",onClick:a,className:"hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-500 transition-colors",children:"End Quiz"}),u.jsx(ie,{className:"quiz-btn-primary animate-pulse-scale",onClick:n,children:"Next Question"})]})]})},n0=f.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:le("w-full caption-bottom text-sm",t),...e})}));n0.displayName="Table";const r0=f.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:le("[&_tr]:border-b",t),...e}));r0.displayName="TableHeader";const s0=f.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:le("[&_tr:last-child]:border-0",t),...e}));s0.displayName="TableBody";const DH=f.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));DH.displayName="TableFooter";const Id=f.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Id.displayName="TableRow";const Hr=f.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Hr.displayName="TableHead";const Gr=f.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Gr.displayName="TableCell";const LH=f.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:le("mt-4 text-sm text-muted-foreground",t),...e}));LH.displayName="TableCaption";const i0=f.createContext({});function o0(t){const e=f.useRef(null);return e.current===null&&(e.current=t()),e.current}const a0=typeof window<"u",mR=a0?f.useLayoutEffect:f.useEffect,zh=f.createContext(null),l0=f.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class FH extends f.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=r instanceof HTMLElement&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function UH({children:t,isPresent:e,anchorX:n}){const r=f.useId(),s=f.useRef(null),i=f.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=f.useContext(l0);return f.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:h}=i.current;if(e||!s.current||!a||!l)return;const p=n==="left"?`left: ${d}`:`right: ${h}`;s.current.dataset.motionPopId=r;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[e]),u.jsx(FH,{isPresent:e,childRef:s,sizeRef:i,children:f.cloneElement(t,{ref:s})})}const zH=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const l=o0(VH),c=f.useId();let d=!0,h=f.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:s,onExitComplete:p=>{l.set(p,!0);for(const m of l.values())if(!m)return;r&&r()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[n,l,r]);return i&&d&&(h={...h}),f.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),f.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=u.jsx(UH,{isPresent:n,anchorX:a,children:t})),u.jsx(zh.Provider,{value:h,children:t})};function VH(){return new Map}function gR(t=!0){const e=f.useContext(zh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=f.useId();f.useEffect(()=>{if(t)return s(i)},[t]);const o=f.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Gc=t=>t.key||"";function rb(t){const e=[];return f.Children.forEach(t,n=>{f.isValidElement(n)&&e.push(n)}),e}const c0=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=gR(o),d=f.useMemo(()=>rb(t),[t]),h=o&&!l?[]:d.map(Gc),p=f.useRef(!0),m=f.useRef(d),y=o0(()=>new Map),[g,w]=f.useState(d),[v,x]=f.useState(d);mR(()=>{p.current=!1,m.current=d;for(let C=0;C<v.length;C++){const P=Gc(v[C]);h.includes(P)?y.delete(P):y.get(P)!==!0&&y.set(P,!1)}},[v,h.length,h.join("-")]);const _=[];if(d!==g){let C=[...d];for(let P=0;P<v.length;P++){const N=v[P],E=Gc(N);h.includes(E)||(C.splice(P,0,N),_.push(N))}return i==="wait"&&_.length&&(C=_),x(rb(C)),w(d),null}const{forceRender:b}=f.useContext(i0);return u.jsx(u.Fragment,{children:v.map(C=>{const P=Gc(C),N=o&&!l?!1:d===v||h.includes(P),E=()=>{if(y.has(P))y.set(P,!0);else return;let j=!0;y.forEach(R=>{R||(j=!1)}),j&&(b==null||b(),x(m.current),o&&(c==null||c()),r&&r())};return u.jsx(zH,{isPresent:N,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:N?void 0:E,anchorX:a,children:C},P)})})};function u0(t,e){t.indexOf(e)===-1&&t.push(e)}function d0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Cr=(t,e,n)=>n>e?e:n<t?t:n;let Ad=()=>{};const Sr={},yR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),vR=t=>/^0[^.\s]+$/u.test(t);function h0(t){let e;return()=>(e===void 0&&(e=t()),e)}const cn=t=>t,$H=(t,e)=>n=>e(t(n)),fc=(...t)=>t.reduce($H),Il=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class f0{constructor(){this.subscriptions=[]}add(e){return u0(this.subscriptions,e),()=>d0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qn=t=>t*1e3,Kn=t=>t/1e3;function xR(t,e){return e?t*(1e3/e):0}const wR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,BH=1e-7,WH=12;function HH(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=wR(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>BH&&++a<WH);return o}function pc(t,e,n,r){if(t===e&&n===r)return cn;const s=i=>HH(i,0,1,t,n);return i=>i===0||i===1?i:wR(s(i),e,r)}const _R=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bR=t=>e=>1-t(1-e),CR=pc(.33,1.53,.69,.99),p0=bR(CR),SR=_R(p0),ER=t=>(t*=2)<1?.5*p0(t):.5*(2-Math.pow(2,-10*(t-1))),m0=t=>1-Math.sin(Math.acos(t)),TR=bR(m0),kR=_R(m0),GH=pc(.42,0,1,1),qH=pc(0,0,.58,1),NR=pc(.42,0,.58,1),KH=t=>Array.isArray(t)&&typeof t[0]!="number",PR=t=>Array.isArray(t)&&typeof t[0]=="number",sb={linear:cn,easeIn:GH,easeInOut:NR,easeOut:qH,circIn:m0,circInOut:kR,circOut:TR,backIn:p0,backInOut:SR,backOut:CR,anticipate:ER},QH=t=>typeof t=="string",ib=t=>{if(PR(t)){Ad(t.length===4);const[e,n,r,s]=t;return pc(e,n,r,s)}else if(QH(t))return Ad(sb[t]!==void 0),sb[t];return t},qc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ob={value:null,addProjectionMetrics:null};function YH(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,p=!1,m=!1)=>{const g=m&&s?n:r;return p&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&ob.value&&ob.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const XH=40;function RR(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=qc.reduce((_,b)=>(_[b]=YH(i,e?b:void 0),_),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:p,render:m,postRender:y}=o,g=()=>{const _=Sr.useManualTiming?s.timestamp:performance.now();n=!1,Sr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,XH),1)),s.timestamp=_,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),p.process(s),m.process(s),y.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},w=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:qc.reduce((_,b)=>{const C=o[b];return _[b]=(P,N=!1,E=!1)=>(n||w(),C.schedule(P,N,E)),_},{}),cancel:_=>{for(let b=0;b<qc.length;b++)o[qc[b]].cancel(_)},state:s,steps:o}}const{schedule:ze,cancel:bs,state:lt,steps:Zf}=RR(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0);let _u;function JH(){_u=void 0}const Ot={now:()=>(_u===void 0&&Ot.set(lt.isProcessing||Sr.useManualTiming?lt.timestamp:performance.now()),_u),set:t=>{_u=t,queueMicrotask(JH)}},IR=t=>e=>typeof e=="string"&&e.startsWith(t),g0=IR("--"),ZH=IR("var(--"),y0=t=>ZH(t)?e8.test(t.split("/*")[0].trim()):!1,e8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ta={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Al={...ta,transform:t=>Cr(0,1,t)},Kc={...ta,default:1},Ka=t=>Math.round(t*1e5)/1e5,v0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function t8(t){return t==null}const n8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,x0=(t,e)=>n=>!!(typeof n=="string"&&n8.test(n)&&n.startsWith(t)||e&&!t8(n)&&Object.prototype.hasOwnProperty.call(n,e)),AR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(v0);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},r8=t=>Cr(0,255,t),ep={...ta,transform:t=>Math.round(r8(t))},Bs={test:x0("rgb","red"),parse:AR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ep.transform(t)+", "+ep.transform(e)+", "+ep.transform(n)+", "+Ka(Al.transform(r))+")"};function s8(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ng={test:x0("#"),parse:s8,transform:Bs.transform},mc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Or=mc("deg"),Qn=mc("%"),se=mc("px"),i8=mc("vh"),o8=mc("vw"),ab={...Qn,parse:t=>Qn.parse(t)/100,transform:t=>Qn.transform(t*100)},Qi={test:x0("hsl","hue"),parse:AR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Qn.transform(Ka(e))+", "+Qn.transform(Ka(n))+", "+Ka(Al.transform(r))+")"},gt={test:t=>Bs.test(t)||ng.test(t)||Qi.test(t),parse:t=>Bs.test(t)?Bs.parse(t):Qi.test(t)?Qi.parse(t):ng.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Bs.transform(t):Qi.transform(t)},a8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function l8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(v0))==null?void 0:e.length)||0)+(((n=t.match(a8))==null?void 0:n.length)||0)>0}const jR="number",MR="color",c8="var",u8="var(",lb="${}",d8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(d8,l=>(gt.test(l)?(r.color.push(i),s.push(MR),n.push(gt.parse(l))):l.startsWith(u8)?(r.var.push(i),s.push(c8),n.push(l)):(r.number.push(i),s.push(jR),n.push(parseFloat(l))),++i,lb)).split(lb);return{values:n,split:a,indexes:r,types:s}}function OR(t){return jl(t).values}function DR(t){const{split:e,types:n}=jl(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===jR?i+=Ka(s[o]):a===MR?i+=gt.transform(s[o]):i+=s[o]}return i}}const h8=t=>typeof t=="number"?0:t;function f8(t){const e=OR(t);return DR(t)(e.map(h8))}const Cs={test:l8,parse:OR,createTransformer:DR,getAnimatableNone:f8};function tp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function p8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=tp(l,a,t+1/3),i=tp(l,a,t),o=tp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function jd(t,e){return n=>n>0?e:t}const Fe=(t,e,n)=>t+(e-t)*n,np=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},m8=[ng,Bs,Qi],g8=t=>m8.find(e=>e.test(t));function cb(t){const e=g8(t);if(!e)return!1;let n=e.parse(t);return e===Qi&&(n=p8(n)),n}const ub=(t,e)=>{const n=cb(t),r=cb(e);if(!n||!r)return jd(t,e);const s={...n};return i=>(s.red=np(n.red,r.red,i),s.green=np(n.green,r.green,i),s.blue=np(n.blue,r.blue,i),s.alpha=Fe(n.alpha,r.alpha,i),Bs.transform(s))},rg=new Set(["none","hidden"]);function y8(t,e){return rg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function v8(t,e){return n=>Fe(t,e,n)}function w0(t){return typeof t=="number"?v8:typeof t=="string"?y0(t)?jd:gt.test(t)?ub:_8:Array.isArray(t)?LR:typeof t=="object"?gt.test(t)?ub:x8:jd}function LR(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>w0(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function x8(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=w0(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function w8(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const _8=(t,e)=>{const n=Cs.createTransformer(e),r=jl(t),s=jl(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?rg.has(t)&&!s.values.length||rg.has(e)&&!r.values.length?y8(t,e):fc(LR(w8(r,s),s.values),n):jd(t,e)};function FR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Fe(t,e,n):w0(t)(t,e)}const b8=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ze.update(e,!0),stop:()=>bs(e),now:()=>lt.isProcessing?lt.timestamp:Ot.now()}},UR=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Md=2e4;function _0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Md;)e+=n,r=t.next(e);return e>=Md?1/0:e}function C8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(_0(r),Md);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Kn(s)}}const S8=5;function zR(t,e,n){const r=Math.max(e-S8,0);return xR(n-t(r),e-r)}const Be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rp=.001;function E8({duration:t=Be.duration,bounce:e=Be.bounce,velocity:n=Be.velocity,mass:r=Be.mass}){let s,i,o=1-e;o=Cr(Be.minDamping,Be.maxDamping,o),t=Cr(Be.minDuration,Be.maxDuration,Kn(t)),o<1?(s=c=>{const d=c*o,h=d*t,p=d-n,m=sg(c,o),y=Math.exp(-h);return rp-p/m*y},i=c=>{const h=c*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,y=Math.exp(-h),g=sg(Math.pow(c,2),o);return(-s(c)+rp>0?-1:1)*((p-m)*y)/g}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-rp+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=k8(s,i,a);if(t=qn(t),isNaN(l))return{stiffness:Be.stiffness,damping:Be.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const T8=12;function k8(t,e,n){let r=n;for(let s=1;s<T8;s++)r=r-t(r)/e(r);return r}function sg(t,e){return t*Math.sqrt(1-e*e)}const N8=["duration","bounce"],P8=["stiffness","damping","mass"];function db(t,e){return e.some(n=>t[n]!==void 0)}function R8(t){let e={velocity:Be.velocity,stiffness:Be.stiffness,damping:Be.damping,mass:Be.mass,isResolvedFromDuration:!1,...t};if(!db(t,P8)&&db(t,N8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Cr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Be.mass,stiffness:s,damping:i}}else{const n=E8(t);e={...e,...n,mass:Be.mass},e.isResolvedFromDuration=!0}return e}function Od(t=Be.visualDuration,e=Be.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=R8({...n,velocity:-Kn(n.velocity||0)}),y=p||0,g=c/(2*Math.sqrt(l*d)),w=o-i,v=Kn(Math.sqrt(l/d)),x=Math.abs(w)<5;r||(r=x?Be.restSpeed.granular:Be.restSpeed.default),s||(s=x?Be.restDelta.granular:Be.restDelta.default);let _;if(g<1){const C=sg(v,g);_=P=>{const N=Math.exp(-g*v*P);return o-N*((y+g*v*w)/C*Math.sin(C*P)+w*Math.cos(C*P))}}else if(g===1)_=C=>o-Math.exp(-v*C)*(w+(y+v*w)*C);else{const C=v*Math.sqrt(g*g-1);_=P=>{const N=Math.exp(-g*v*P),E=Math.min(C*P,300);return o-N*((y+g*v*w)*Math.sinh(E)+C*w*Math.cosh(E))/C}}const b={calculatedDuration:m&&h||null,next:C=>{const P=_(C);if(m)a.done=C>=h;else{let N=C===0?y:0;g<1&&(N=C===0?qn(y):zR(_,C,P));const E=Math.abs(N)<=r,j=Math.abs(o-P)<=s;a.done=E&&j}return a.value=a.done?o:P,a},toString:()=>{const C=Math.min(_0(b),Md),P=UR(N=>b.next(C*N).value,C,30);return C+"ms "+P},toTransition:()=>{}};return b}Od.applyToOptions=t=>{const e=C8(t,100,Od);return t.ease=e.ease,t.duration=qn(e.duration),t.type="keyframes",t};function ig({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},m=E=>a!==void 0&&E<a||l!==void 0&&E>l,y=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let g=n*e;const w=h+g,v=o===void 0?w:o(w);v!==w&&(g=v-h);const x=E=>-g*Math.exp(-E/r),_=E=>v+x(E),b=E=>{const j=x(E),R=_(E);p.done=Math.abs(j)<=c,p.value=p.done?v:R};let C,P;const N=E=>{m(p.value)&&(C=E,P=Od({keyframes:[p.value,y(p.value)],velocity:zR(_,E,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return N(0),{calculatedDuration:null,next:E=>{let j=!1;return!P&&C===void 0&&(j=!0,b(E),N(E)),C!==void 0&&E>=C?P.next(E-C):(!j&&b(E),p)}}}function I8(t,e,n){const r=[],s=n||Sr.mix||FR,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||cn:e;a=fc(l,a)}r.push(a)}return r}function A8(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Ad(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=I8(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=Il(t[h],t[h+1],d);return a[h](p)};return n?d=>c(Cr(t[0],t[i-1],d)):c}function j8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Il(0,e,r);t.push(Fe(n,1,s))}}function M8(t){const e=[0];return j8(e,t.length-1),e}function O8(t,e){return t.map(n=>n*e)}function D8(t,e){return t.map(()=>e||NR).splice(0,t.length-1)}function Qa({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=KH(r)?r.map(ib):ib(r),i={done:!1,value:e[0]},o=O8(n&&n.length===e.length?n:M8(e),t),a=A8(o,e,{ease:Array.isArray(s)?s:D8(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const L8=t=>t!==null;function b0(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(L8),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const F8={decay:ig,inertia:ig,tween:Qa,keyframes:Qa,spring:Od};function VR(t){typeof t.type=="string"&&(t.type=F8[t.type])}class C0{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const U8=t=>t/100;class $R extends C0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==Ot.now()&&this.tick(Ot.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;VR(e);const{type:n=Qa,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Qa;l!==Qa&&typeof a[0]!="number"&&(this.mixKeyframes=fc(U8,FR(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=_0(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:m,type:y,onUpdate:g,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let _=this.currentTime,b=r;if(h){const E=Math.min(this.currentTime,s)/a;let j=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&j--,j=Math.min(j,h+1),!!(j%2)&&(p==="reverse"?(R=1-R,m&&(R-=m/a)):p==="mirror"&&(b=o)),_=Cr(0,1,R)*a}const C=x?{done:!1,value:d[0]}:b.next(_);i&&(C.value=i(C.value));let{done:P}=C;!x&&l!==null&&(P=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return N&&y!==ig&&(C.value=b0(d,this.options,w,this.speed)),g&&g(C.value),N&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return Kn(this.calculatedDuration)}get time(){return Kn(this.currentTime)}set time(e){e=qn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ot.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Kn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=b8,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function z8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ws=t=>t*180/Math.PI,og=t=>{const e=Ws(Math.atan2(t[1],t[0]));return ag(e)},V8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:og,rotateZ:og,skewX:t=>Ws(Math.atan(t[1])),skewY:t=>Ws(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ag=t=>(t=t%360,t<0&&(t+=360),t),hb=og,fb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fb,scaleY:pb,scale:t=>(fb(t)+pb(t))/2,rotateX:t=>ag(Ws(Math.atan2(t[6],t[5]))),rotateY:t=>ag(Ws(Math.atan2(-t[2],t[0]))),rotateZ:hb,rotate:hb,skewX:t=>Ws(Math.atan(t[4])),skewY:t=>Ws(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function mb(t){return t.includes("scale")?1:0}function lg(t,e){if(!t||t==="none")return mb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=$8,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=V8,s=a}if(!s)return mb(e);const i=r[e],o=s[1].split(",").map(W8);return typeof i=="function"?i(o):o[i]}const B8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return lg(n,e)};function W8(t){return parseFloat(t.trim())}const na=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ra=new Set(na),gb=t=>t===ta||t===se,H8=new Set(["x","y","z"]),G8=na.filter(t=>!H8.has(t));function q8(t){const e=[];return G8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ys={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>lg(e,"x"),y:(t,{transform:e})=>lg(e,"y")};Ys.translateX=Ys.x;Ys.translateY=Ys.y;const Xs=new Set;let cg=!1,ug=!1,dg=!1;function BR(){if(ug){const t=Array.from(Xs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=q8(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ug=!1,cg=!1,Xs.forEach(t=>t.complete(dg)),Xs.clear()}function WR(){Xs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ug=!0)})}function K8(){dg=!0,WR(),BR(),dg=!1}class S0{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xs.add(this),cg||(cg=!0,ze.read(WR),ze.resolveKeyframes(BR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}z8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Q8=t=>t.startsWith("--");function Y8(t,e,n){Q8(e)?t.style.setProperty(e,n):t.style[e]=n}const X8=h0(()=>window.ScrollTimeline!==void 0),J8={};function Z8(t,e){const n=h0(t);return()=>J8[e]??n()}const HR=Z8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Na=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,yb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Na([0,.65,.55,1]),circOut:Na([.55,0,1,.45]),backIn:Na([.31,.01,.66,-.59]),backOut:Na([.33,1.53,.69,.99])};function GR(t,e){if(t)return typeof t=="function"?HR()?UR(t,e):"ease-out":PR(t)?Na(t):Array.isArray(t)?t.map(n=>GR(n,e)||yb.easeOut):yb[t]}function e9(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=GR(a,s);Array.isArray(h)&&(d.easing=h);const p={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(d,p)}function qR(t){return typeof t=="function"&&"applyToOptions"in t}function t9({type:t,...e}){return qR(t)&&HR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class n9 extends C0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Ad(typeof e.type!="string");const c=t9(e);this.animation=e9(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=b0(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):Y8(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Kn(Number(e))}get time(){return Kn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&X8()?(this.animation.timeline=e,cn):n(this)}}const KR={anticipate:ER,backInOut:SR,circInOut:kR};function r9(t){return t in KR}function s9(t){typeof t.ease=="string"&&r9(t.ease)&&(t.ease=KR[t.ease])}const vb=10;class i9 extends n9{constructor(e){s9(e),VR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new $R({...o,autoplay:!1}),l=qn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-vb).value,a.sample(l).value,vb),a.stop()}}const xb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Cs.test(t)||t==="0")&&!t.startsWith("url("));function o9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function a9(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=xb(s,e),a=xb(i,e);return!o||!a?!1:o9(t)||(n==="spring"||qR(n))&&r}const l9=new Set(["opacity","clipPath","filter","transform"]),c9=h0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function u9(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return c9()&&n&&l9.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const d9=40;class h9 extends C0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var y;super(),this.stop=()=>{var g,w;this._animation?(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)):(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Ot.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||S0;this.keyframeResolver=new m(a,(g,w,v)=>this.onKeyframesResolved(g,w,p,!v),l,c,d),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Ot.now(),a9(e,i,o,a)||((Sr.instantAnimations||!l)&&(d==null||d(b0(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>d9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&u9(p)?new i9({...p,element:p.motionValue.owner.current}):new $R(p);m.finished.then(()=>this.notifyFinished()).catch(cn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||K8(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const f9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function p9(t){const e=f9.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function QR(t,e,n=1){const[r,s]=p9(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return yR(o)?parseFloat(o):o}return y0(s)?QR(s,e,n+1):s}function E0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const YR=new Set(["width","height","top","left","right","bottom",...na]),m9={test:t=>t==="auto",parse:t=>t},XR=t=>e=>e.test(t),JR=[ta,se,Qn,Or,o8,i8,m9],wb=t=>JR.find(XR(t));function g9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vR(t):!0}const y9=new Set(["brightness","contrast","saturate","opacity"]);function v9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(v0)||[];if(!r)return t;const s=n.replace(r,"");let i=y9.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const x9=/\b([a-z-]*)\(.*?\)/gu,hg={...Cs,getAnimatableNone:t=>{const e=t.match(x9);return e?e.map(v9).join(" "):t}},_b={...ta,transform:Math.round},w9={rotate:Or,rotateX:Or,rotateY:Or,rotateZ:Or,scale:Kc,scaleX:Kc,scaleY:Kc,scaleZ:Kc,skew:Or,skewX:Or,skewY:Or,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:Al,originX:ab,originY:ab,originZ:se},T0={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,backgroundPositionX:se,backgroundPositionY:se,...w9,zIndex:_b,fillOpacity:Al,strokeOpacity:Al,numOctaves:_b},_9={...T0,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:hg,WebkitFilter:hg},ZR=t=>_9[t];function eI(t,e){let n=ZR(t);return n!==hg&&(n=Cs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const b9=new Set(["auto","none","0"]);function C9(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!b9.has(i)&&jl(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=eI(n,s)}class S9 extends S0{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),y0(c))){const d=QR(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!YR.has(r)||e.length!==2)return;const[s,i]=e,o=wb(s),a=wb(i);if(o!==a)if(gb(o)&&gb(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Ys[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||g9(e[s]))&&r.push(s);r.length&&C9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ys[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ys[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function E9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const{schedule:k0,cancel:bK}=RR(queueMicrotask,!1),pn={x:!1,y:!1};function tI(){return pn.x||pn.y}function T9(t){return t==="x"||t==="y"?pn[t]?null:(pn[t]=!0,()=>{pn[t]=!1}):pn.x||pn.y?null:(pn.x=pn.y=!0,()=>{pn.x=pn.y=!1})}function nI(t,e){const n=E9(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function bb(t){return!(t.pointerType==="touch"||tI())}function k9(t,e,n={}){const[r,s,i]=nI(t,n),o=a=>{if(!bb(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{bb(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const rI=(t,e)=>e?t===e?!0:rI(t,e.parentElement):!1,N0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,N9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function P9(t){return N9.has(t.tagName)||t.tabIndex!==-1}const Pa=new WeakSet;function Cb(t){return e=>{e.key==="Enter"&&t(e)}}function sp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const R9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Cb(()=>{if(Pa.has(n))return;sp(n,"down");const s=Cb(()=>{sp(n,"up")}),i=()=>sp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Sb(t){return N0(t)&&!tI()}function I9(t,e,n={}){const[r,s,i]=nI(t,n),o=a=>{const l=a.currentTarget;if(!Sb(a)||Pa.has(l))return;Pa.add(l);const c=e(l,a),d=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!Sb(m)||!Pa.has(l))&&(Pa.delete(l),typeof c=="function"&&c(m,{success:y}))},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||rI(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a instanceof HTMLElement&&(a.addEventListener("focus",c=>R9(c,s)),!P9(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}const Eb=30,A9=t=>!isNaN(parseFloat(t));class j9{constructor(e,n={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=Ot.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current)),s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ot.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=A9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new f0);const r=this.events[e].add(n);return e==="change"?()=>{r(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Eb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Eb);return xR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ml(t,e){return new j9(t,e)}const M9=[...JR,gt,Cs],O9=t=>M9.find(XR(t)),sI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,iI=f.createContext({strict:!1}),Tb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mo={};for(const t in Tb)Mo[t]={isEnabled:e=>Tb[t].some(n=>!!e[n])};function D9(t){for(const e in t)Mo[e]={...Mo[e],...t[e]}}const L9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||L9.has(t)}let oI=t=>!Dd(t);function F9(t){t&&(oI=e=>e.startsWith("on")?!Dd(e):t(e))}try{F9(require("@emotion/is-prop-valid").default)}catch{}function U9(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(oI(s)||n===!0&&Dd(s)||!e&&!Dd(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function z9(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Vh=f.createContext({});function $h(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ol(t){return typeof t=="string"||Array.isArray(t)}const P0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],R0=["initial",...P0];function Bh(t){return $h(t.animate)||R0.some(e=>Ol(t[e]))}function aI(t){return!!(Bh(t)||t.variants)}function V9(t,e){if(Bh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ol(n)?n:void 0,animate:Ol(r)?r:void 0}}return t.inherit!==!1?e:{}}function $9(t){const{initial:e,animate:n}=V9(t,f.useContext(Vh));return f.useMemo(()=>({initial:e,animate:n}),[kb(e),kb(n)])}function kb(t){return Array.isArray(t)?t.join(" "):t}const B9=Symbol.for("motionComponentSymbol");function Yi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function W9(t,e,n){return f.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Yi(n)&&(n.current=r))},[e])}const I0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),H9="framerAppearId",lI="data-"+I0(H9),cI=f.createContext({});function G9(t,e,n,r,s){var g,w;const{visualElement:i}=f.useContext(Vh),o=f.useContext(iI),a=f.useContext(zh),l=f.useContext(l0).reducedMotion,c=f.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=f.useContext(cI);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&q9(c.current,n,s,h);const p=f.useRef(!1);f.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const m=n[lI],y=f.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return mR(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),k0.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),f.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),y.current=!1))}),d}function q9(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:uI(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Yi(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function uI(t){if(t)return t.options.allowProjection!==!1?t.projection:uI(t.parent)}function K9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&D9(t);function i(a,l){let c;const d={...f.useContext(l0),...a,layoutId:Q9(a)},{isStatic:h}=d,p=$9(a),m=r(a,h);if(!h&&a0){Y9();const y=X9(d);c=y.MeasureLayout,p.visualElement=G9(s,m,d,e,y.ProjectionNode)}return u.jsxs(Vh.Provider,{value:p,children:[c&&p.visualElement?u.jsx(c,{visualElement:p.visualElement,...d}):null,n(s,a,W9(m,p.visualElement,l),m,h,p.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=f.forwardRef(i);return o[B9]=s,o}function Q9({layoutId:t}){const e=f.useContext(i0).id;return e&&t!==void 0?e+"-"+t:t}function Y9(t,e){f.useContext(iI).strict}function X9(t){const{drag:e,layout:n}=Mo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Dl={};function J9(t){for(const e in t)Dl[e]=t[e],g0(e)&&(Dl[e].isCSSVariable=!0)}function dI(t,{layout:e,layoutId:n}){return ra.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Dl[t]||t==="opacity")}const vt=t=>!!(t&&t.getVelocity),Z9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eG=na.length;function tG(t,e,n){let r="",s=!0;for(let i=0;i<eG;i++){const o=na[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=sI(a,T0[o]);if(!l){s=!1;const d=Z9[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function A0(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ra.has(l)){o=!0;continue}else if(g0(l)){s[l]=c;continue}else{const d=sI(c,T0[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=tG(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const j0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hI(t,e,n){for(const r in e)!vt(e[r])&&!dI(r,n)&&(t[r]=e[r])}function nG({transformTemplate:t},e){return f.useMemo(()=>{const n=j0();return A0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function rG(t,e){const n=t.style||{},r={};return hI(r,n,t),Object.assign(r,nG(t,e)),r}function sG(t,e){const n={},r=rG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const iG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function M0(t){return typeof t!="string"||t.includes("-")?!1:!!(iG.indexOf(t)>-1||/[A-Z]/u.test(t))}const oG={offset:"stroke-dashoffset",array:"stroke-dasharray"},aG={offset:"strokeDashoffset",array:"strokeDasharray"};function lG(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?oG:aG;t[i.offset]=se.transform(-r);const o=se.transform(e),a=se.transform(n);t[i.array]=`${o} ${a}`}function fI(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(A0(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&lG(h,s,i,o,!1)}const pI=()=>({...j0(),attrs:{}}),mI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cG(t,e,n,r){const s=f.useMemo(()=>{const i=pI();return fI(i,e,mI(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};hI(i,t.style,t),s.style={...i,...s.style}}return s}function uG(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(M0(n)?cG:sG)(r,i,o,n),c=U9(r,typeof n=="string",t),d=n!==f.Fragment?{...c,...l,ref:s}:{},{children:h}=r,p=f.useMemo(()=>vt(h)?h.get():h,[h]);return f.createElement(n,{...d,children:p})}}function Nb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function O0(t,e,n,r){if(typeof e=="function"){const[s,i]=Nb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Nb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function bu(t){return vt(t)?t.get():t}function dG({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:hG(n,r,s,t),renderState:e()}}const gI=t=>(e,n)=>{const r=f.useContext(Vh),s=f.useContext(zh),i=()=>dG(t,e,r,s);return n?i():o0(i)};function hG(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=bu(i[p]);let{initial:o,animate:a}=t;const l=Bh(t),c=aI(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!$h(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const y=O0(t,p[m]);if(y){const{transitionEnd:g,transition:w,...v}=y;for(const x in v){let _=v[x];if(Array.isArray(_)){const b=d?_.length-1:0;_=_[b]}_!==null&&(s[x]=_)}for(const x in g)s[x]=g[x]}}}return s}function D0(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(vt(r[o])||e.style&&vt(e.style[o])||dI(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const fG={useVisualState:gI({scrapeMotionValuesFromProps:D0,createRenderState:j0})};function yI(t,e,n){const r=D0(t,e,n);for(const s in t)if(vt(t[s])||vt(e[s])){const i=na.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const pG={useVisualState:gI({scrapeMotionValuesFromProps:yI,createRenderState:pI})};function mG(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...M0(r)?pG:fG,preloadedFeatures:t,useRender:uG(s),createVisualElement:e,Component:r};return K9(o)}}function Ll(t,e,n){const r=t.getProps();return O0(r,e,n!==void 0?n:r.custom,t)}const fg=t=>Array.isArray(t);function gG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ml(n))}function yG(t){return fg(t)?t[t.length-1]||0:t}function vG(t,e){const n=Ll(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=yG(i[o]);gG(t,o,a)}}function xG(t){return!!(vt(t)&&t.add)}function pg(t,e){const n=t.getValue("willChange");if(xG(n))return n.add(e);if(!n&&Sr.WillChange){const r=new Sr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function vI(t){return t.props[lI]}const wG=t=>t!==null;function _G(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(wG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const bG={type:"spring",stiffness:500,damping:25,restSpeed:10},CG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),SG={type:"keyframes",duration:.8},EG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TG=(t,{keyframes:e})=>e.length>2?SG:ra.has(t)?t.startsWith("scale")?CG(e[1]):bG:EG;function kG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const L0=(t,e,n,r={},s,i)=>o=>{const a=E0(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-qn(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};kG(a)||Object.assign(d,TG(t,d)),d.duration&&(d.duration=qn(d.duration)),d.repeatDelay&&(d.repeatDelay=qn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Sr.instantAnimations||Sr.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const p=_G(d.keyframes,a);if(p!==void 0){ze.update(()=>{d.onUpdate(p),d.onComplete()});return}}return new h9(d)};function NG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function xI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),p=a[d];if(p===void 0||c&&NG(c,d))continue;const m={delay:n,...E0(i||{},d)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===y&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=vI(t);if(v){const x=window.MotionHandoffAnimation(v,d,ze);x!==null&&(m.startTime=x,g=!0)}}pg(t,d),h.start(L0(d,h,p,t.shouldReduceMotion&&YR.has(d)?{type:!1}:m,t,g));const w=h.animation;w&&l.push(w)}return o&&Promise.all(l).then(()=>{ze.update(()=>{o&&vG(t,o)})}),l}function mg(t,e,n={}){var l;const r=Ll(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(xI(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return PG(t,e,d+c,h,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function PG(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(RG).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(mg(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function RG(t,e){return t.sortNodePosition(e)}function IG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>mg(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=mg(t,e,n);else{const s=typeof e=="function"?Ll(t,e,n.custom):e;r=Promise.all(xI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function wI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const AG=R0.length;function _I(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_I(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<AG;n++){const r=R0[n],s=t.props[r];(Ol(s)||s===!1)&&(e[r]=s)}return e}const jG=[...P0].reverse(),MG=P0.length;function OG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>IG(t,n,r)))}function DG(t){let e=OG(t),n=Pb(),r=!0;const s=l=>(c,d)=>{var p;const h=Ll(t,d,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:m,transitionEnd:y,...g}=h;c={...c,...g,...y}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=_I(t.parent)||{},h=[],p=new Set;let m={},y=1/0;for(let w=0;w<MG;w++){const v=jG[w],x=n[v],_=c[v]!==void 0?c[v]:d[v],b=Ol(_),C=v===l?x.isActive:null;C===!1&&(y=w);let P=_===d[v]&&_!==c[v]&&b;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),x.protectedKeys={...m},!x.isActive&&C===null||!_&&!x.prevProp||$h(_)||typeof _=="boolean")continue;const N=LG(x.prevProp,_);let E=N||v===l&&x.isActive&&!P&&b||w>y&&b,j=!1;const R=Array.isArray(_)?_:[_];let z=R.reduce(s(v),{});C===!1&&(z={});const{prevResolvedValues:T={}}=x,M={...T,...z},A=F=>{E=!0,p.has(F)&&(j=!0,p.delete(F)),x.needsAnimating[F]=!0;const I=t.getValue(F);I&&(I.liveStyle=!1)};for(const F in M){const I=z[F],U=T[F];if(m.hasOwnProperty(F))continue;let k=!1;fg(I)&&fg(U)?k=!wI(I,U):k=I!==U,k?I!=null?A(F):p.add(F):I!==void 0&&p.has(F)?A(F):x.protectedKeys[F]=!0}x.prevProp=_,x.prevResolvedValues=z,x.isActive&&(m={...m,...z}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(P&&N)||j)&&h.push(...R.map(F=>({animation:F,options:{type:v}})))}if(p.size){const w={};if(typeof c.initial!="boolean"){const v=Ll(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(w.transition=v.transition)}p.forEach(v=>{const x=t.getBaseTarget(v),_=t.getValue(v);_&&(_.liveStyle=!0),w[v]=x??null}),h.push({animation:w})}let g=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Pb(),r=!0}}}function LG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wI(e,t):!1}function As(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pb(){return{animate:As(!0),whileInView:As(),whileHover:As(),whileTap:As(),whileDrag:As(),whileFocus:As(),exit:As()}}class Is{constructor(e){this.isMounted=!1,this.node=e}update(){}}class FG extends Is{constructor(e){super(e),e.animationState||(e.animationState=DG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$h(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let UG=0;class zG extends Is{constructor(){super(...arguments),this.id=UG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const VG={animation:{Feature:FG},exit:{Feature:zG}};function Fl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function gc(t){return{point:{x:t.pageX,y:t.pageY}}}const $G=t=>e=>N0(e)&&t(e,gc(e));function Ya(t,e,n,r){return Fl(t,e,$G(n),r)}function bI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function BG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const CI=1e-4,HG=1-CI,GG=1+CI,SI=.01,qG=0-SI,KG=0+SI;function St(t){return t.max-t.min}function QG(t,e,n){return Math.abs(t-e)<=n}function Rb(t,e,n,r=.5){t.origin=r,t.originPoint=Fe(e.min,e.max,t.origin),t.scale=St(n)/St(e),t.translate=Fe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=HG&&t.scale<=GG||isNaN(t.scale))&&(t.scale=1),(t.translate>=qG&&t.translate<=KG||isNaN(t.translate))&&(t.translate=0)}function Xa(t,e,n,r){Rb(t.x,e.x,n.x,r?r.originX:void 0),Rb(t.y,e.y,n.y,r?r.originY:void 0)}function Ib(t,e,n){t.min=n.min+e.min,t.max=t.min+St(e)}function YG(t,e,n){Ib(t.x,e.x,n.x),Ib(t.y,e.y,n.y)}function Ab(t,e,n){t.min=e.min-n.min,t.max=t.min+St(e)}function Ja(t,e,n){Ab(t.x,e.x,n.x),Ab(t.y,e.y,n.y)}const jb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xi=()=>({x:jb(),y:jb()}),Mb=()=>({min:0,max:0}),Ge=()=>({x:Mb(),y:Mb()});function nn(t){return[t("x"),t("y")]}function ip(t){return t===void 0||t===1}function gg({scale:t,scaleX:e,scaleY:n}){return!ip(t)||!ip(e)||!ip(n)}function Ls(t){return gg(t)||EI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function EI(t){return Ob(t.x)||Ob(t.y)}function Ob(t){return t&&t!=="0%"}function Ld(t,e,n){const r=t-n,s=e*r;return n+s}function Db(t,e,n,r,s){return s!==void 0&&(t=Ld(t,s,r)),Ld(t,n,r)+e}function yg(t,e=0,n=1,r,s){t.min=Db(t.min,e,n,r,s),t.max=Db(t.max,e,n,r,s)}function TI(t,{x:e,y:n}){yg(t.x,e.translate,e.scale,e.originPoint),yg(t.y,n.translate,n.scale,n.originPoint)}const Lb=.999999999999,Fb=1.0000000000001;function XG(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Zi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,TI(t,o)),r&&Ls(i.latestValues)&&Zi(t,i.latestValues))}e.x<Fb&&e.x>Lb&&(e.x=1),e.y<Fb&&e.y>Lb&&(e.y=1)}function Ji(t,e){t.min=t.min+e,t.max=t.max+e}function Ub(t,e,n,r,s=.5){const i=Fe(t.min,t.max,s);yg(t,e,n,i,r)}function Zi(t,e){Ub(t.x,e.x,e.scaleX,e.scale,e.originX),Ub(t.y,e.y,e.scaleY,e.scale,e.originY)}function kI(t,e){return bI(WG(t.getBoundingClientRect(),e))}function JG(t,e,n){const r=kI(t,n),{scroll:s}=e;return s&&(Ji(r.x,s.offset.x),Ji(r.y,s.offset.y)),r}const NI=({current:t})=>t?t.ownerDocument.defaultView:null,zb=(t,e)=>Math.abs(t-e);function ZG(t,e){const n=zb(t.x,e.x),r=zb(t.y,e.y);return Math.sqrt(n**2+r**2)}class PI{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ap(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=ZG(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=h,{timestamp:g}=lt;this.history.push({...y,timestamp:g});const{onStart:w,onMove:v}=this.handlers;p||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=op(p,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ap(h.type==="pointercancel"?this.lastMoveEventInfo:op(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,w),y&&y(h,w)},!N0(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=gc(e),a=op(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=lt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,ap(a,this.history)),this.removeListeners=fc(Ya(this.contextWindow,"pointermove",this.handlePointerMove),Ya(this.contextWindow,"pointerup",this.handlePointerUp),Ya(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bs(this.updatePoint)}}function op(t,e){return e?{point:e(t.point)}:t}function Vb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ap({point:t},e){return{point:t,delta:Vb(t,RI(e)),offset:Vb(t,e7(e)),velocity:t7(e,.1)}}function e7(t){return t[0]}function RI(t){return t[t.length-1]}function t7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=RI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>qn(e)));)n--;if(!r)return{x:0,y:0};const i=Kn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function n7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Fe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Fe(n,t,r.max):Math.min(t,n)),t}function $b(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function r7(t,{top:e,left:n,bottom:r,right:s}){return{x:$b(t.x,n,s),y:$b(t.y,e,r)}}function Bb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function s7(t,e){return{x:Bb(t.x,e.x),y:Bb(t.y,e.y)}}function i7(t,e){let n=.5;const r=St(t),s=St(e);return s>r?n=Il(e.min,e.max-r,t.min):r>s&&(n=Il(t.min,t.max-s,e.min)),Cr(0,1,n)}function o7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vg=.35;function a7(t=vg){return t===!1?t=0:t===!0&&(t=vg),{x:Wb(t,"left","right"),y:Wb(t,"top","bottom")}}function Wb(t,e,n){return{min:Hb(t,e),max:Hb(t,n)}}function Hb(t,e){return typeof t=="number"?t:t[e]||0}const l7=new WeakMap;class c7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gc(d).point)},i=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=T9(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(w=>{let v=this.getAxisMotionValue(w).get()||0;if(Qn.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[w];_&&(v=St(_)*(parseFloat(v)/100))}}this.originPoint[w]=v}),y&&ze.postRender(()=>y(d,h)),pg(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=h;if(m&&this.currentDirection===null){this.currentDirection=u7(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),g&&g(d,h)},a=(d,h)=>this.stop(d,h),l=()=>nn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new PI(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:NI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ze.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Qc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=n7(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Yi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=r7(r.layoutBox,e):this.constraints=!1,this.elastic=a7(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&nn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=o7(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Yi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=JG(r,s.root,this.visualElement.getTransformPagePoint());let o=s7(s.layout.layoutBox,i);if(n){const a=n(BG(o));this.hasMutatedConstraints=!!a,a&&(o=bI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=nn(d=>{if(!Qc(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return pg(this.visualElement,e),r.start(L0(e,r,0,n,this.visualElement,!1))}stopAnimation(){nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){nn(n=>{const{drag:r}=this.getProps();if(!Qc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Fe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Yi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};nn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=i7({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nn(o=>{if(!Qc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Fe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;l7.set(this.visualElement,this);const e=this.visualElement.current,n=Ya(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Yi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ze.read(r);const o=Fl(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(nn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=vg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Qc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function u7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class d7 extends Is{constructor(e){super(e),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new c7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gb=t=>(e,n)=>{t&&ze.postRender(()=>t(e,n))};class h7 extends Is{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(e){this.session=new PI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Gb(e),onStart:Gb(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ze.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ya(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(se.test(t))t=parseFloat(t);else return t;const n=qb(t,e.target.x),r=qb(t,e.target.y);return`${n}% ${r}%`}},f7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Cs.parse(t);if(s.length>5)return r;const i=Cs.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Fe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class p7 extends f.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;J9(m7),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Cu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ze.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),k0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function II(t){const[e,n]=gR(),r=f.useContext(i0);return u.jsx(p7,{...t,layoutGroup:r,switchLayoutGroup:f.useContext(cI),isPresent:e,safeToRemove:n})}const m7={borderRadius:{...wa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wa,borderTopRightRadius:wa,borderBottomLeftRadius:wa,borderBottomRightRadius:wa,boxShadow:f7};function g7(t,e,n){const r=vt(t)?t:Ml(t);return r.start(L0("",r,e,n)),r.animation}function y7(t){return t instanceof SVGElement&&t.tagName!=="svg"}const v7=(t,e)=>t.depth-e.depth;class x7{constructor(){this.children=[],this.isDirty=!1}add(e){u0(this.children,e),this.isDirty=!0}remove(e){d0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(v7),this.isDirty=!1,this.children.forEach(e)}}function w7(t,e){const n=Ot.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(bs(r),t(i-e))};return ze.setup(r,!0),()=>bs(r)}const AI=["TopLeft","TopRight","BottomLeft","BottomRight"],_7=AI.length,Kb=t=>typeof t=="string"?parseFloat(t):t,Qb=t=>typeof t=="number"||se.test(t);function b7(t,e,n,r,s,i){s?(t.opacity=Fe(0,n.opacity??1,C7(r)),t.opacityExit=Fe(e.opacity??1,0,S7(r))):i&&(t.opacity=Fe(e.opacity??1,n.opacity??1,r));for(let o=0;o<_7;o++){const a=`border${AI[o]}Radius`;let l=Yb(e,a),c=Yb(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Qb(l)===Qb(c)?(t[a]=Math.max(Fe(Kb(l),Kb(c),r),0),(Qn.test(c)||Qn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Fe(e.rotate||0,n.rotate||0,r))}function Yb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const C7=jI(0,.5,TR),S7=jI(.5,.95,cn);function jI(t,e,n){return r=>r<t?0:r>e?1:n(Il(t,e,r))}function Xb(t,e){t.min=e.min,t.max=e.max}function tn(t,e){Xb(t.x,e.x),Xb(t.y,e.y)}function Jb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Zb(t,e,n,r,s){return t-=e,t=Ld(t,1/n,r),s!==void 0&&(t=Ld(t,1/s,r)),t}function E7(t,e=0,n=1,r=.5,s,i=t,o=t){if(Qn.test(e)&&(e=parseFloat(e),e=Fe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Fe(i.min,i.max,r);t===i&&(a-=e),t.min=Zb(t.min,e,n,a,s),t.max=Zb(t.max,e,n,a,s)}function eC(t,e,[n,r,s],i,o){E7(t,e[n],e[r],e[s],e.scale,i,o)}const T7=["x","scaleX","originX"],k7=["y","scaleY","originY"];function tC(t,e,n,r){eC(t.x,e,T7,n?n.x:void 0,r?r.x:void 0),eC(t.y,e,k7,n?n.y:void 0,r?r.y:void 0)}function nC(t){return t.translate===0&&t.scale===1}function MI(t){return nC(t.x)&&nC(t.y)}function rC(t,e){return t.min===e.min&&t.max===e.max}function N7(t,e){return rC(t.x,e.x)&&rC(t.y,e.y)}function sC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OI(t,e){return sC(t.x,e.x)&&sC(t.y,e.y)}function iC(t){return St(t.x)/St(t.y)}function oC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class P7{constructor(){this.members=[]}add(e){u0(this.members,e),e.scheduleRender()}remove(e){if(d0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R7(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const lp=["","X","Y","Z"],I7={visibility:"hidden"},aC=1e3;let A7=0;function cp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function DI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=vI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ze,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&DI(r)}function LI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=A7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(O7),this.nodes.forEach(z7),this.nodes.forEach(V7),this.nodes.forEach(D7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new x7)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new f0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=y7(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=w7(h,250),Cu.hasAnimatedSinceResize&&(Cu.hasAnimatedSinceResize=!1,this.nodes.forEach(cC))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||G7,{onLayoutAnimationStart:g,onLayoutAnimationComplete:w}=c.getProps(),v=!this.targetLayout||!OI(this.targetLayout,m),x=!h&&p;if(this.options.layoutRoot||this.resumeFrom||x||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const _={...E0(y,"layout"),onPlay:g,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else h||cC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lC);return}this.isUpdating||this.nodes.forEach(F7),this.isUpdating=!1,this.nodes.forEach(U7),this.nodes.forEach(j7),this.nodes.forEach(M7),this.clearAllSnapshots();const a=Ot.now();lt.delta=Cr(0,1e3/60,a-lt.timestamp),lt.timestamp=a,lt.isProcessing=!0,Zf.update.process(lt),Zf.preRender.process(lt),Zf.render.process(lt),lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,k0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(L7),this.sharedNodes.forEach(B7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!St(this.snapshot.measuredBox.x)&&!St(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!MI(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ls(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),q7(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Ge();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(K7))){const{scroll:d}=this.root;d&&(Ji(a.x,d.offset.x),Ji(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Ge();if(tn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&tn(a,o),Ji(a.x,h.offset.x),Ji(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Ge();tn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Zi(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ls(d.latestValues)&&Zi(l,d.latestValues)}return Ls(this.latestValues)&&Zi(l,this.latestValues),l}removeTransform(o){const a=Ge();tn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ls(c.latestValues))continue;gg(c.latestValues)&&c.updateSnapshot();const d=Ge(),h=c.measurePageBox();tn(d,h),tC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ls(this.latestValues)&&tC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=lt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),Ja(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tn(this.target,this.layout.layoutBox),TI(this.target,this.targetDelta)):tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),Ja(this.relativeTargetOrigin,this.target,m.target),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gg(this.parent.latestValues)||EI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===lt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;tn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;XG(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ge());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jb(this.prevProjectionDelta.x,this.projectionDelta.x),Jb(this.prevProjectionDelta.y,this.projectionDelta.y)),Xa(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!oC(this.projectionDelta.x,this.prevProjectionDelta.x)||!oC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xi(),this.projectionDelta=Xi(),this.projectionDeltaWithTransform=Xi()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Xi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ge(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,w=this.getStack(),v=!w||w.members.length<=1,x=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(H7));this.animationProgress=0;let _;this.mixTargetDelta=b=>{const C=b/1e3;uC(h.x,o.x,C),uC(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ja(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W7(this.relativeTarget,this.relativeTargetOrigin,p,C),_&&N7(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Ge()),tn(_,this.relativeTarget)),g&&(this.animationValues=d,b7(d,c,this.latestValues,C,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{Cu.hasAnimatedSinceResize=!0,this.currentAnimation=g7(0,aC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&FI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ge();const h=St(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=St(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}tn(a,l),Zi(a,d),Xa(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new P7),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&cp("z",o,c,this.animationValues);for(let d=0;d<lp.length;d++)cp(`rotate${lp[d]}`,o,c,this.animationValues),cp(`skew${lp[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return I7;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=bu(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=bu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=R7(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:h,y:p}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in Dl){if(d[m]===void 0)continue;const{correct:y,applyTo:g,isCSSVariable:w}=Dl[m],v=a.transform==="none"?d[m]:y(d[m],c);if(g){const x=g.length;for(let _=0;_<x;_++)a[g[_]]=v}else w?this.options.visualElement.renderState.vars[m]=v:a[m]=v}return this.options.layoutId&&(a.pointerEvents=c===this?bu(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(lC),this.root.sharedNodes.clear()}}}function j7(t){t.updateLayout()}function M7(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?nn(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],m=St(p);p.min=r[h].min,p.max=p.min+m}):FI(i,e.layoutBox,r)&&nn(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],m=St(r[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Xi();Xa(a,r,e.layoutBox);const l=Xi();o?Xa(l,t.applyTransform(s,!0),e.measuredBox):Xa(l,r,e.layoutBox);const c=!MI(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=Ge();Ja(y,e.layoutBox,p.layoutBox);const g=Ge();Ja(g,r,m.layoutBox),OI(y,g)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function O7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function D7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function L7(t){t.clearSnapshot()}function lC(t){t.clearMeasurements()}function F7(t){t.isLayoutDirty=!1}function U7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function z7(t){t.resolveTargetDelta()}function V7(t){t.calcProjection()}function $7(t){t.resetSkewAndRotation()}function B7(t){t.removeLeadSnapshot()}function uC(t,e,n){t.translate=Fe(e.translate,0,n),t.scale=Fe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function dC(t,e,n,r){t.min=Fe(e.min,n.min,r),t.max=Fe(e.max,n.max,r)}function W7(t,e,n,r){dC(t.x,e.x,n.x,r),dC(t.y,e.y,n.y,r)}function H7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const G7={duration:.45,ease:[.4,0,.1,1]},hC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),fC=hC("applewebkit/")&&!hC("chrome/")?Math.round:cn;function pC(t){t.min=fC(t.min),t.max=fC(t.max)}function q7(t){pC(t.x),pC(t.y)}function FI(t,e,n){return t==="position"||t==="preserve-aspect"&&!QG(iC(e),iC(n),.2)}function K7(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Q7=LI({attachResizeListener:(t,e)=>Fl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),up={current:void 0},UI=LI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!up.current){const t=new Q7({});t.mount(window),t.setOptions({layoutScroll:!0}),up.current=t}return up.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Y7={pan:{Feature:h7},drag:{Feature:d7,ProjectionNode:UI,MeasureLayout:II}};function mC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ze.postRender(()=>i(e,gc(e)))}class X7 extends Is{mount(){const{current:e}=this.node;e&&(this.unmount=k9(e,(n,r)=>(mC(this.node,r,"Start"),s=>mC(this.node,s,"End"))))}unmount(){}}class J7 extends Is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fc(Fl(this.node.current,"focus",()=>this.onFocus()),Fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ze.postRender(()=>i(e,gc(e)))}class Z7 extends Is{mount(){const{current:e}=this.node;e&&(this.unmount=I9(e,(n,r)=>(gC(this.node,r,"Start"),(s,{success:i})=>gC(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xg=new WeakMap,dp=new WeakMap,eq=t=>{const e=xg.get(t.target);e&&e(t)},tq=t=>{t.forEach(eq)};function nq({root:t,...e}){const n=t||document;dp.has(n)||dp.set(n,{});const r=dp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(tq,{root:t,...e})),r[s]}function rq(t,e,n){const r=nq(e);return xg.set(t,n),r.observe(t),()=>{xg.delete(t),r.unobserve(t)}}const sq={some:0,all:1};class iq extends Is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:sq[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return rq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oq(e,n))&&this.startObserver()}unmount(){}}function oq({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aq={inView:{Feature:iq},tap:{Feature:Z7},focus:{Feature:J7},hover:{Feature:X7}},lq={layout:{ProjectionNode:UI,MeasureLayout:II}},wg={current:null},zI={current:!1};function cq(){if(zI.current=!0,!!a0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wg.current=t.matches;t.addListener(e),e()}else wg.current=!1}const uq=new WeakMap;function dq(t,e,n){for(const r in e){const s=e[r],i=n[r];if(vt(s))t.addValue(r,s);else if(vt(i))t.addValue(r,Ml(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Ml(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const yC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hq{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=S0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ot.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ze.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Bh(n),this.isVariantNode=aI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];l[p]!==void 0&&vt(m)&&m.set(l[p],!1)}}mount(e){this.current=e,uq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zI.current||cq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bs(this.notifyUpdate),bs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ra.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Mo){const n=Mo[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<yC.length;r++){const s=yC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=dq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ml(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(yR(r)||vR(r))?r=parseFloat(r):!O9(r)&&Cs.test(n)&&(r=eI(e,n)),this.setBaseTarget(e,vt(r)?r.get():r)),vt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=O0(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!vt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new f0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class VI extends hq{constructor(){super(...arguments),this.KeyframeResolver=S9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $I(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function fq(t){return window.getComputedStyle(t)}class pq extends VI{constructor(){super(...arguments),this.type="html",this.renderInstance=$I}readValueFromInstance(e,n){if(ra.has(n))return B8(e,n);{const r=fq(e),s=(g0(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kI(e,n)}build(e,n,r){A0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return D0(e,n,r)}}const BI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mq(t,e,n,r){$I(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(BI.has(s)?s:I0(s),e.attrs[s])}class gq extends VI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ra.has(n)){const r=ZR(n);return r&&r.default||0}return n=BI.has(n)?n:I0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return yI(e,n,r)}build(e,n,r){fI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){mq(e,n,r,s)}mount(e){this.isSVGTag=mI(e.tagName),super.mount(e)}}const yq=(t,e)=>M0(t)?new gq(e):new pq(e,{allowProjection:t!==f.Fragment}),vq=mG({...VG,...aq,...Y7,...lq},yq),oe=z9(vq),xq=({players:t,currentQuestionId:e,showLeaderboard:n=!1})=>{const[r,s]=f.useState(!1),[i,o]=f.useState(!1),{toast:a}=Rt(),l=f.useMemo(()=>{if(!t||!Array.isArray(t))return{answered:0,total:0};const h=t.filter(p=>!p.answers||!Array.isArray(p.answers)||!e?!1:p.answers.some(m=>m.questionId===e)).length;return{answered:h,total:t.length,percentage:t.length>0?Math.round(h/t.length*100):0}},[t,e]);f.useEffect(()=>{l.answered===l.total&&l.total>0?i||(o(!0),setTimeout(()=>{s(!0),a({title:"All players have answered!",description:"Results are now visible to everyone."})},1500)):o(!1)},[l.answered,l.total,a,i]);const c=()=>{s(!r),a({title:r?"Results hidden":"Results shown",description:r?"Player answers are now hidden":"Player answers are now visible"})},d=f.useMemo(()=>!t||!Array.isArray(t)||!e?[]:[...t].sort((h,p)=>{var g,w;const m=(g=h.answers)==null?void 0:g.find(v=>v.questionId===e),y=(w=p.answers)==null?void 0:w.find(v=>v.questionId===e);return!!m!=!!y?m?-1:1:m&&y?m.timeToAnswer-y.timeToAnswer:0}),[t,e]);return u.jsxs(oe.div,{className:"quiz-card p-4 transform hover:scale-[1.01] transition-all duration-300",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Player Responses"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:[l.answered,"/",l.total," answered (",l.percentage,"%)"]}),n&&u.jsx(ie,{variant:"outline",size:"sm",onClick:c,className:"hover:bg-indigo-50 dark:hover:bg-indigo-900/30 transition-colors flex items-center gap-1",children:r?u.jsxs(u.Fragment,{children:[u.jsx(D5,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Hide Results"})]}):u.jsxs(u.Fragment,{children:[u.jsx(L5,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Show Results"})]})})]})]}),u.jsx("div",{className:"bg-white dark:bg-gray-900/50 rounded-lg border dark:border-gray-700 p-3 overflow-x-auto",children:u.jsxs(n0,{children:[u.jsx(r0,{children:u.jsxs(Id,{children:[u.jsx(Hr,{children:"Player"}),u.jsx(Hr,{children:"Status"}),u.jsx(Hr,{children:"Time"}),u.jsx(Hr,{children:"Result"}),u.jsx(Hr,{children:"Marks"})]})}),u.jsx(s0,{children:u.jsx(c0,{initial:!1,children:d.map((h,p)=>{const m=e&&h.answers&&Array.isArray(h.answers)?h.answers.find(y=>y.questionId===e):null;return u.jsxs(oe.tr,{className:`transform hover:bg-indigo-50/30 dark:hover:bg-indigo-950/30 hover:scale-[1.02] transition-all duration-300 ${n&&m?m.correct?"bg-green-50/30 dark:bg-green-900/10":"bg-red-50/30 dark:bg-red-900/10":""}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.05},children:[u.jsx(Gr,{className:"font-medium",children:h.nickname}),u.jsx(Gr,{children:m?u.jsxs(oe.span,{className:"text-green-600 dark:text-green-400 flex items-center gap-1",initial:{scale:.8},animate:{scale:1},transition:{type:"spring"},children:[u.jsx(K5,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Answered"})]}):u.jsxs(oe.span,{className:"text-amber-600 dark:text-amber-400 flex items-center gap-1",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:[u.jsx(Y5,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Waiting"})]})}),u.jsx(Gr,{children:m?u.jsxs(oe.span,{className:"flex items-center gap-1",initial:{opacity:0},animate:{opacity:1},children:[u.jsx(Sh,{className:"h-3 w-3 text-gray-400"}),m.timeToAnswer,"s"]}):"-"}),u.jsx(Gr,{children:(r||i)&&n?m?u.jsx(oe.span,{className:m.correct?"text-green-600 dark:text-green-400 flex items-center gap-1":"text-red-600 dark:text-red-400 flex items-center gap-1",initial:{scale:0},animate:{scale:1},transition:{type:"spring"},children:m.correct?u.jsxs(u.Fragment,{children:[u.jsx(Cd,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Correct"})]}):u.jsxs(u.Fragment,{children:[u.jsx(O5,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Wrong"})]})}):"-":u.jsx("span",{className:"text-gray-400",children:"Hidden"})}),u.jsx(Gr,{children:(r||i)&&n&&m?u.jsx(oe.span,{className:m.correct?"text-green-600 dark:text-green-400 flex items-center gap-1":"text-red-600 dark:text-red-400 flex items-center gap-1",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{type:"spring"},children:m.correct?u.jsxs(u.Fragment,{children:[u.jsx(M5,{className:"h-4 w-4"}),u.jsx("span",{children:"+4"})]}):u.jsxs(u.Fragment,{children:[u.jsx(j5,{className:"h-4 w-4"}),u.jsx("span",{children:"-1"})]})}):u.jsx("span",{className:"text-gray-400",children:"-"})})]},h.id)})})})]})}),t.length===0&&u.jsx(oe.div,{className:"text-center py-8 text-gray-500",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"No players have joined yet"}),n&&i&&u.jsxs(oe.div,{className:"mt-6 p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg border border-indigo-100 dark:border-indigo-800/30",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.5,delay:.5},children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[u.jsx(hr,{className:"h-5 w-5 text-yellow-500"}),u.jsx("h3",{className:"font-bold text-indigo-700 dark:text-indigo-300",children:"Current Standings"})]}),u.jsx("div",{className:"space-y-2",children:[...t].sort((h,p)=>(p.score||0)-(h.score||0)).map((h,p)=>u.jsxs(oe.div,{className:"flex justify-between items-center p-2 bg-white dark:bg-gray-800/30 rounded border border-indigo-100 dark:border-indigo-800/20",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:p*.1+.7},children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-indigo-100 dark:bg-indigo-800/50 rounded-full text-xs font-bold",children:p+1}),u.jsx("span",{className:"font-medium",children:h.nickname})]}),u.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-400",children:h.score||0})]},h.id))})]})]})};var yc={};(function t(e,n,r,s){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var k=new OffscreenCanvas(1,1),S=k.getContext("2d");S.fillRect(0,0,1,1);var L=k.transferToImageBitmap();try{S.createPattern(L,"no-repeat")}catch{return!1}return!0}();function l(){}function c(k){var S=n.exports.Promise,L=S!==void 0?S:e.Promise;return typeof L=="function"?new L(k):(k(l,l),null)}var d=function(k,S){return{transform:function(L){if(k)return L;if(S.has(L))return S.get(L);var V=new OffscreenCanvas(L.width,L.height),B=V.getContext("2d");return B.drawImage(L,0,0),S.set(L,V),V},clear:function(){S.clear()}}}(a,new Map),h=function(){var k=Math.floor(16.666666666666668),S,L,V={},B=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(S=function(G){var q=Math.random();return V[q]=requestAnimationFrame(function $(K){B===K||B+k-1<K?(B=K,delete V[q],G()):V[q]=requestAnimationFrame($)}),q},L=function(G){V[G]&&cancelAnimationFrame(V[G])}):(S=function(G){return setTimeout(G,k)},L=function(G){return clearTimeout(G)}),{frame:S,cancel:L}}(),p=function(){var k,S,L={};function V(B){function G(q,$){B.postMessage({options:q||{},callback:$})}B.init=function($){var K=$.transferControlToOffscreen();B.postMessage({canvas:K},[K])},B.fire=function($,K,Z){if(S)return G($,null),S;var X=Math.random().toString(36).slice(2);return S=c(function(Y){function J(ue){ue.data.callback===X&&(delete L[X],B.removeEventListener("message",J),S=null,d.clear(),Z(),Y())}B.addEventListener("message",J),G($,X),L[X]=J.bind(null,{data:{callback:X}})}),S},B.reset=function(){B.postMessage({reset:!0});for(var $ in L)L[$](),delete L[$]}}return function(){if(k)return k;if(!r&&i){var B=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{k=new Worker(URL.createObjectURL(new Blob([B])))}catch(G){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",G),null}V(k)}return k}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function y(k,S){return S?S(k):k}function g(k){return k!=null}function w(k,S,L){return y(k&&g(k[S])?k[S]:m[S],L)}function v(k){return k<0?0:Math.floor(k)}function x(k,S){return Math.floor(Math.random()*(S-k))+k}function _(k){return parseInt(k,16)}function b(k){return k.map(C)}function C(k){var S=String(k).replace(/[^0-9a-f]/gi,"");return S.length<6&&(S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),{r:_(S.substring(0,2)),g:_(S.substring(2,4)),b:_(S.substring(4,6))}}function P(k){var S=w(k,"origin",Object);return S.x=w(S,"x",Number),S.y=w(S,"y",Number),S}function N(k){k.width=document.documentElement.clientWidth,k.height=document.documentElement.clientHeight}function E(k){var S=k.getBoundingClientRect();k.width=S.width,k.height=S.height}function j(k){var S=document.createElement("canvas");return S.style.position="fixed",S.style.top="0px",S.style.left="0px",S.style.pointerEvents="none",S.style.zIndex=k,S}function R(k,S,L,V,B,G,q,$,K){k.save(),k.translate(S,L),k.rotate(G),k.scale(V,B),k.arc(0,0,1,q,$,K),k.restore()}function z(k){var S=k.angle*(Math.PI/180),L=k.spread*(Math.PI/180);return{x:k.x,y:k.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:k.startVelocity*.5+Math.random()*k.startVelocity,angle2D:-S+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:k.color,shape:k.shape,tick:0,totalTicks:k.ticks,decay:k.decay,drift:k.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:k.gravity*3,ovalScalar:.6,scalar:k.scalar,flat:k.flat}}function T(k,S){S.x+=Math.cos(S.angle2D)*S.velocity+S.drift,S.y+=Math.sin(S.angle2D)*S.velocity+S.gravity,S.velocity*=S.decay,S.flat?(S.wobble=0,S.wobbleX=S.x+10*S.scalar,S.wobbleY=S.y+10*S.scalar,S.tiltSin=0,S.tiltCos=0,S.random=1):(S.wobble+=S.wobbleSpeed,S.wobbleX=S.x+10*S.scalar*Math.cos(S.wobble),S.wobbleY=S.y+10*S.scalar*Math.sin(S.wobble),S.tiltAngle+=.1,S.tiltSin=Math.sin(S.tiltAngle),S.tiltCos=Math.cos(S.tiltAngle),S.random=Math.random()+2);var L=S.tick++/S.totalTicks,V=S.x+S.random*S.tiltCos,B=S.y+S.random*S.tiltSin,G=S.wobbleX+S.random*S.tiltCos,q=S.wobbleY+S.random*S.tiltSin;if(k.fillStyle="rgba("+S.color.r+", "+S.color.g+", "+S.color.b+", "+(1-L)+")",k.beginPath(),o&&S.shape.type==="path"&&typeof S.shape.path=="string"&&Array.isArray(S.shape.matrix))k.fill(F(S.shape.path,S.shape.matrix,S.x,S.y,Math.abs(G-V)*.1,Math.abs(q-B)*.1,Math.PI/10*S.wobble));else if(S.shape.type==="bitmap"){var $=Math.PI/10*S.wobble,K=Math.abs(G-V)*.1,Z=Math.abs(q-B)*.1,X=S.shape.bitmap.width*S.scalar,Y=S.shape.bitmap.height*S.scalar,J=new DOMMatrix([Math.cos($)*K,Math.sin($)*K,-Math.sin($)*Z,Math.cos($)*Z,S.x,S.y]);J.multiplySelf(new DOMMatrix(S.shape.matrix));var ue=k.createPattern(d.transform(S.shape.bitmap),"no-repeat");ue.setTransform(J),k.globalAlpha=1-L,k.fillStyle=ue,k.fillRect(S.x-X/2,S.y-Y/2,X,Y),k.globalAlpha=1}else if(S.shape==="circle")k.ellipse?k.ellipse(S.x,S.y,Math.abs(G-V)*S.ovalScalar,Math.abs(q-B)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI):R(k,S.x,S.y,Math.abs(G-V)*S.ovalScalar,Math.abs(q-B)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI);else if(S.shape==="star")for(var ne=Math.PI/2*3,ve=4*S.scalar,ge=8*S.scalar,Pe=S.x,ft=S.y,Qe=5,Mn=Math.PI/Qe;Qe--;)Pe=S.x+Math.cos(ne)*ge,ft=S.y+Math.sin(ne)*ge,k.lineTo(Pe,ft),ne+=Mn,Pe=S.x+Math.cos(ne)*ve,ft=S.y+Math.sin(ne)*ve,k.lineTo(Pe,ft),ne+=Mn;else k.moveTo(Math.floor(S.x),Math.floor(S.y)),k.lineTo(Math.floor(S.wobbleX),Math.floor(B)),k.lineTo(Math.floor(G),Math.floor(q)),k.lineTo(Math.floor(V),Math.floor(S.wobbleY));return k.closePath(),k.fill(),S.tick<S.totalTicks}function M(k,S,L,V,B){var G=S.slice(),q=k.getContext("2d"),$,K,Z=c(function(X){function Y(){$=K=null,q.clearRect(0,0,V.width,V.height),d.clear(),B(),X()}function J(){r&&!(V.width===s.width&&V.height===s.height)&&(V.width=k.width=s.width,V.height=k.height=s.height),!V.width&&!V.height&&(L(k),V.width=k.width,V.height=k.height),q.clearRect(0,0,V.width,V.height),G=G.filter(function(ue){return T(q,ue)}),G.length?$=h.frame(J):Y()}$=h.frame(J),K=Y});return{addFettis:function(X){return G=G.concat(X),Z},canvas:k,promise:Z,reset:function(){$&&h.cancel($),K&&K()}}}function A(k,S){var L=!k,V=!!w(S||{},"resize"),B=!1,G=w(S,"disableForReducedMotion",Boolean),q=i&&!!w(S||{},"useWorker"),$=q?p():null,K=L?N:E,Z=k&&$?!!k.__confetti_initialized:!1,X=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Y;function J(ne,ve,ge){for(var Pe=w(ne,"particleCount",v),ft=w(ne,"angle",Number),Qe=w(ne,"spread",Number),Mn=w(ne,"startVelocity",Number),TA=w(ne,"decay",Number),kA=w(ne,"gravity",Number),NA=w(ne,"drift",Number),B0=w(ne,"colors",b),PA=w(ne,"ticks",Number),W0=w(ne,"shapes"),RA=w(ne,"scalar"),IA=!!w(ne,"flat"),H0=P(ne),G0=Pe,Gh=[],AA=k.width*H0.x,jA=k.height*H0.y;G0--;)Gh.push(z({x:AA,y:jA,angle:ft,spread:Qe,startVelocity:Mn,color:B0[G0%B0.length],shape:W0[x(0,W0.length)],ticks:PA,decay:TA,gravity:kA,drift:NA,scalar:RA,flat:IA}));return Y?Y.addFettis(Gh):(Y=M(k,Gh,K,ve,ge),Y.promise)}function ue(ne){var ve=G||w(ne,"disableForReducedMotion",Boolean),ge=w(ne,"zIndex",Number);if(ve&&X)return c(function(Mn){Mn()});L&&Y?k=Y.canvas:L&&!k&&(k=j(ge),document.body.appendChild(k)),V&&!Z&&K(k);var Pe={width:k.width,height:k.height};$&&!Z&&$.init(k),Z=!0,$&&(k.__confetti_initialized=!0);function ft(){if($){var Mn={getBoundingClientRect:function(){if(!L)return k.getBoundingClientRect()}};K(Mn),$.postMessage({resize:{width:Mn.width,height:Mn.height}});return}Pe.width=Pe.height=null}function Qe(){Y=null,V&&(B=!1,e.removeEventListener("resize",ft)),L&&k&&(document.body.contains(k)&&document.body.removeChild(k),k=null,Z=!1)}return V&&!B&&(B=!0,e.addEventListener("resize",ft,!1)),$?$.fire(ne,Pe,Qe):J(ne,Pe,Qe)}return ue.reset=function(){$&&$.reset(),Y&&Y.reset()},ue}var D;function O(){return D||(D=A(null,{useWorker:!0,resize:!0})),D}function F(k,S,L,V,B,G,q){var $=new Path2D(k),K=new Path2D;K.addPath($,new DOMMatrix(S));var Z=new Path2D;return Z.addPath(K,new DOMMatrix([Math.cos(q)*B,Math.sin(q)*B,-Math.sin(q)*G,Math.cos(q)*G,L,V])),Z}function I(k){if(!o)throw new Error("path confetti are not supported in this browser");var S,L;typeof k=="string"?S=k:(S=k.path,L=k.matrix);var V=new Path2D(S),B=document.createElement("canvas"),G=B.getContext("2d");if(!L){for(var q=1e3,$=q,K=q,Z=0,X=0,Y,J,ue=0;ue<q;ue+=2)for(var ne=0;ne<q;ne+=2)G.isPointInPath(V,ue,ne,"nonzero")&&($=Math.min($,ue),K=Math.min(K,ne),Z=Math.max(Z,ue),X=Math.max(X,ne));Y=Z-$,J=X-K;var ve=10,ge=Math.min(ve/Y,ve/J);L=[ge,0,0,ge,-Math.round(Y/2+$)*ge,-Math.round(J/2+K)*ge]}return{type:"path",path:S,matrix:L}}function U(k){var S,L=1,V="#000000",B='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof k=="string"?S=k:(S=k.text,L="scalar"in k?k.scalar:L,B="fontFamily"in k?k.fontFamily:B,V="color"in k?k.color:V);var G=10*L,q=""+G+"px "+B,$=new OffscreenCanvas(G,G),K=$.getContext("2d");K.font=q;var Z=K.measureText(S),X=Math.ceil(Z.actualBoundingBoxRight+Z.actualBoundingBoxLeft),Y=Math.ceil(Z.actualBoundingBoxAscent+Z.actualBoundingBoxDescent),J=2,ue=Z.actualBoundingBoxLeft+J,ne=Z.actualBoundingBoxAscent+J;X+=J+J,Y+=J+J,$=new OffscreenCanvas(X,Y),K=$.getContext("2d"),K.font=q,K.fillStyle=V,K.fillText(S,ue,ne);var ve=1/L;return{type:"bitmap",bitmap:$.transferToImageBitmap(),matrix:[ve,0,0,ve,-X*ve/2,-Y*ve/2]}}n.exports=function(){return O().apply(this,arguments)},n.exports.reset=function(){O().reset()},n.exports.create=A,n.exports.shapeFromPath=I,n.exports.shapeFromText=U})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),yc,!1);const Yn=yc.exports;yc.exports.create;const WI=({players:t,onStartGame:e,onRefreshPlayers:n,cardRef:r,handleMouseMove:s,resetTilt:i,gameCode:o,isHost:a,nickname:l})=>{const{toast:c}=Rt(),[d,h]=f.useState(!1),[p,m]=f.useState(!1),[y,g]=f.useState(t.length),[w,v]=f.useState(!1),x=Vt.useRef([]),_=t?t.map(N=>N.id).join(","):"";f.useEffect(()=>{var j;if(!t||!Array.isArray(t)||t.length===0)return;const N=t.map(R=>`${R.id}_${R.nickname}`);if(x.current.length===0){x.current=N,g(N.length);return}const E=N.filter(R=>!x.current.includes(R));if(E.length>0){const R=E.map(T=>T.split("_")[0]),z=t.filter(T=>R.includes(T.id));Yn({particleCount:50,spread:70,origin:{y:.6}}),c({title:"New player joined!",description:`${((j=z[0])==null?void 0:j.nickname)||"Someone"} has entered the game`})}g(new Set(N).size),x.current=N},[_,c]);const b=()=>{o&&(navigator.clipboard.writeText(o),h(!0),c({title:"Game code copied!",description:"The code has been copied to your clipboard"}),setTimeout(()=>h(!1),2e3))},C=()=>{n&&(m(!0),n(),setTimeout(()=>{m(!1)},600))},P=o?`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${window.location.origin}/join?code=${o}`:"";return u.jsxs("div",{ref:r,onMouseMove:s||void 0,onMouseLeave:i||void 0,className:"quiz-card p-6 transform hover:scale-[1.02] transition-all duration-300",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h2",{className:"text-xl font-bold text-quiz-dark dark:text-white flex items-center gap-2",children:[u.jsx(Av,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"}),"Waiting Room",l&&u.jsxs("span",{className:"text-sm text-indigo-500 ml-2",children:["(",l,")"]})]}),a?u.jsxs(ie,{className:"quiz-btn-primary",onClick:e,disabled:t.length===0,children:[u.jsx(Sh,{className:"h-4 w-4 mr-2"}),"Start Quiz"]}):u.jsxs("div",{className:"text-indigo-600 dark:text-indigo-400 text-sm font-semibold bg-indigo-100 dark:bg-indigo-900/30 px-3 py-2 rounded-md",children:["Game Code: ",o]})]}),a&&o&&u.jsx(Xt,{className:"mb-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-4 shadow-lg border-none overflow-hidden",children:u.jsxs("div",{className:"text-center relative",children:[u.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[u.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-2xl animate-pulse"}),u.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-purple-500/10 rounded-full blur-2xl animate-pulse"})]}),u.jsx("h3",{className:"text-lg font-medium mb-2 relative z-10",children:"Share this code with players"}),u.jsxs("div",{className:"flex items-center justify-center gap-3 relative z-10",children:[u.jsx("div",{className:"text-3xl font-bold tracking-wider bg-white/20 px-6 py-2 rounded-md",children:o.split("").map((N,E)=>u.jsx("span",{className:"inline-block",style:{animationDelay:`${E*.15}s`,animation:"pulse 2s infinite"},children:N},E))}),u.jsx(ie,{variant:"secondary",size:"icon",className:"rounded-full bg-white/30 hover:bg-white/40 transition-colors",onClick:b,children:d?u.jsx(Cd,{className:"h-5 w-5"}):u.jsx(Mm,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"flex justify-center gap-2 mt-3 relative z-10",children:[u.jsxs(ie,{variant:"secondary",size:"sm",className:"bg-white/20 hover:bg-white/30 transition-colors",onClick:b,children:[u.jsx(H5,{className:"h-4 w-4 mr-1"}),"Share Code"]}),u.jsxs(ie,{variant:"secondary",size:"sm",className:"bg-white/20 hover:bg-white/30 transition-colors",onClick:()=>v(!0),children:[u.jsx(Om,{className:"h-4 w-4 mr-1"}),"Show QR"]})]})]})}),u.jsxs("div",{className:"bg-white dark:bg-gray-800/50 rounded-lg border dark:border-gray-700 p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-200",children:["Players Joined: ",u.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:t.length})]}),n&&u.jsx(ie,{variant:"outline",size:"icon",onClick:C,className:`h-8 w-8 rounded-full hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors ${p?"animate-spin":""}`,children:u.jsx(Iv,{className:"h-4 w-4"})})]}),t.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Waiting for players to join..."}),u.jsx("div",{className:"mt-4 flex justify-center",children:u.jsxs("div",{className:"animate-pulse flex space-x-2",children:[u.jsx("div",{className:"h-3 w-3 bg-indigo-400 rounded-full"}),u.jsx("div",{className:"h-3 w-3 bg-indigo-500 rounded-full"}),u.jsx("div",{className:"h-3 w-3 bg-indigo-600 rounded-full"})]})})]}):u.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:u.jsxs(n0,{children:[u.jsx(r0,{children:u.jsxs(Id,{children:[u.jsx(Hr,{children:"Player"}),u.jsx(Hr,{children:"Status"})]})}),u.jsx(s0,{children:t.filter((N,E,j)=>E===j.findIndex(R=>R.nickname===N.nickname)).map((N,E)=>u.jsxs(Id,{className:"transform hover:bg-indigo-50/30 dark:hover:bg-indigo-950/30 hover:scale-[1.02] transition-all duration-300",style:{animationDelay:`${E*.1}s`},children:[u.jsx(Gr,{className:"font-medium",children:N.nickname}),u.jsx(Gr,{children:u.jsxs("span",{className:"text-green-600 dark:text-green-400 flex items-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Ready"]})})]},N.id))})]})}),!a&&o&&u.jsx(Xt,{className:"mt-4 p-3 bg-indigo-50 dark:bg-indigo-900/20 border-none overflow-hidden",children:u.jsxs("div",{className:"text-sm text-center",children:[u.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Share this code with players:"})}),u.jsxs("div",{className:"flex items-center justify-center gap-2 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-800/30 p-2 rounded-lg transition-colors",onClick:b,children:[u.jsx("span",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400 tracking-wider",children:o}),d?u.jsx(Cd,{size:16,className:"text-green-500"}):u.jsx(Mm,{size:16,className:"text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-300 transition-colors"})]}),u.jsx("div",{className:"flex justify-center mt-2",children:u.jsxs(ie,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>v(!0),children:[u.jsx(Om,{className:"h-3 w-3 mr-1"}),"Show QR Code"]})})]})})]}),u.jsx(Zv,{open:w,onOpenChange:v,children:u.jsxs(Uh,{className:"sm:max-w-md text-center",children:[u.jsx(e0,{children:u.jsx(t0,{children:"Scan to Join the Game"})}),u.jsxs("div",{className:"p-6 flex flex-col items-center gap-4",children:[u.jsx("div",{className:"bg-white p-2 rounded-lg shadow-inner",children:u.jsx("img",{src:P,alt:"QR Code to join game",className:"w-64 h-64 mx-auto animate-fade-in"})}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Scan this QR code with your phone camera to join the game"}),u.jsx("p",{className:"font-mono text-lg font-bold text-indigo-600 dark:text-indigo-400",children:o})]})]})}),u.jsx(Xn,{})]})};function wq(t,e=[]){let n=[];function r(i,o){const a=f.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...y}=h,g=(p==null?void 0:p[t][l])||a,w=f.useMemo(()=>y,Object.values(y));return u.jsx(g.Provider,{value:w,children:m})}function d(h,p){const m=(p==null?void 0:p[t][l])||a,y=f.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,_q(s,...e)]}function _q(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var F0="Progress",U0=100,[bq,SK]=wq(F0),[Cq,Sq]=bq(F0),HI=f.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=Eq,...o}=t;(s||s===0)&&!vC(s)&&console.error(Tq(`${s}`,"Progress"));const a=vC(s)?s:U0;r!==null&&!xC(r,a)&&console.error(kq(`${r}`,"Progress"));const l=xC(r,a)?r:null,c=Fd(l)?i(l,a):void 0;return u.jsx(Cq,{scope:n,value:l,max:a,children:u.jsx(de.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Fd(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":KI(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});HI.displayName=F0;var GI="ProgressIndicator",qI=f.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Sq(GI,n);return u.jsx(de.div,{"data-state":KI(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});qI.displayName=GI;function Eq(t,e){return`${Math.round(t/e*100)}%`}function KI(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Fd(t){return typeof t=="number"}function vC(t){return Fd(t)&&!isNaN(t)&&t>0}function xC(t,e){return Fd(t)&&!isNaN(t)&&t<=e&&t>=0}function Tq(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${U0}\`.`}function kq(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${U0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var QI=HI,Nq=qI;const YI=f.forwardRef(({className:t,value:e,...n},r)=>u.jsx(QI,{ref:r,className:le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(Nq,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));YI.displayName=QI.displayName;const XI=f.createContext(void 0),Pq=({children:t})=>{const[e,n]=f.useState(""),r=kv(),s=async o=>{try{if(o.startsWith("https://"))return o;if(o.startsWith("gs://")||!o.startsWith("http")){const a=Tv(r,o);return await Ev(a)}return o}catch(a){return console.error("Error getting image URL:",a),o}},i=f.useCallback(async o=>{console.log(`Starting to preload images for quiz: ${o.id}`);let a=0,l=0;o.questions.forEach(c=>{c.imageUrl&&l++}),console.log(`Found ${l} images to preload`);for(const c of o.questions)if(c.imageUrl)try{console.log(`Preloading image for question: ${c.id}`);const d=await s(c.imageUrl);console.log(`Successfully got URL for question: ${c.id}`),a++,console.log(`Progress: ${a}/${l} images loaded`)}catch(d){console.error(`Failed to preload image for question ${c.id}:`,d)}return console.log(`Completed preloading ${a}/${l} images`),a},[s]);return u.jsx(XI.Provider,{value:{imageUrl:e,setImageUrl:n,getImageUrl:s,preloadQuizImages:i},children:t})},Rq=()=>{const t=f.useContext(XI);if(!t)throw new Error("useImageContext must be used within an ImageProvider");return t},JI=({question:t,onAnswer:e,showTimer:n=!0,isHostView:r=!1,disableOptions:s=!1,markingType:i,negativeValue:o,hostAnswered:a=!1})=>{const{setImageUrl:l}=Rq(),[c,d]=f.useState(t.timeLimit),[h,p]=f.useState(null),[m,y]=f.useState(!1),[g,w]=f.useState(!1),[v,x]=f.useState(!1),[_,b]=f.useState("idle"),[C,P]=f.useState(""),N=f.useRef(null),E=f.useRef(null),j=f.useCallback(async T=>{if(!T)return;E.current&&E.current.abort(),E.current=new AbortController;const M=E.current.signal;try{if(b("loading"),T.includes("firebasestorage.googleapis.com")||T.startsWith("gs://"))if(T.startsWith("https://"))P(T);else try{const O=kv(),F=Tv(O,T),I=await Ev(F);M.aborted||P(I)}catch(O){console.error("Firebase storage error:",O),M.aborted||(x(!0),b("error"));return}else P(T);const A=new Image,D=setTimeout(()=>{M.aborted||(x(!0),b("error"))},1e4);A.onload=()=>{M.aborted||(clearTimeout(D),w(!0),x(!1),b("success"),l(T))},A.onerror=()=>{M.aborted||(clearTimeout(D),x(!0),b("error"))},A.src=C}catch(A){M.aborted||(console.error("Image loading error:",A),x(!0),b("error"))}},[l]);f.useEffect(()=>(w(!1),x(!1),b("idle"),t.imageUrl&&j(t.imageUrl),()=>{E.current&&E.current.abort(),w(!1),x(!1)}),[t.id,t.imageUrl,j]),f.useEffect(()=>{if(!n||m)return;if(c<=0){y(!0);return}const T=setTimeout(()=>{d(M=>M-1)},1e3);return()=>clearTimeout(T)},[c,m,n]),f.useEffect(()=>{d(t.timeLimit),p(null),y(!1)},[t.id,t.timeLimit]);const R=T=>{m||s||(p(T),y(!0),e(t.id,T))},z=()=>{const T=c/t.timeLimit*100;return T>66?"bg-green-500":T>33?"bg-yellow-500":"bg-red-500"};return u.jsx(Xt,{className:`quiz-card ${r?"host-view":""} max-w-4xl mx-auto`,children:u.jsxs(An,{className:"pt-6 space-y-6 overflow-hidden",children:[n&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Time remaining"}),u.jsxs("span",{className:"font-medium",children:[c,"s"]})]}),u.jsx(YI,{value:c/t.timeLimit*100,className:`h-2 ${z()}`})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-white/90 dark:bg-gray-800/90 rounded-lg p-6 shadow-md",children:u.jsx("h3",{className:"text-xl font-bold text-center break-words whitespace-normal overflow-hidden max-h-48 overflow-y-auto px-2 text-quiz-dark dark:text-white",children:t.text})}),t.imageUrl&&u.jsx("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 min-h-[200px] flex items-center justify-center",children:_==="error"?u.jsxs("div",{className:"text-center p-4",children:[u.jsx(q5,{className:"mx-auto mb-2 text-yellow-500",size:32}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Unable to load image"})]}):_==="loading"||!g?u.jsxs("div",{className:"text-center p-4",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading image..."})]}):u.jsx("img",{ref:N,src:C,alt:"Question illustration",className:"w-full h-auto max-h-64 object-contain rounded-lg player-question-image",onError:()=>{x(!0),w(!1),b("error")},onLoad:()=>{w(!0),x(!1),b("success")},loading:"eager",decoding:"async",fetchPriority:"high"})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.options.map(T=>u.jsxs(ie,{className:`p-6 h-auto min-h-[4rem] text-left flex justify-start items-center transition-all rounded-lg shadow-sm ${h===T.id?"bg-quiz-primary text-white shadow-md transform scale-[1.02]":a&&T.id===t.options[parseInt(t.correctOption)].id?"bg-green-500 text-white shadow-md transform scale-[1.02]":"bg-white/95 dark:bg-gray-800/95 text-quiz-dark dark:text-white border border-gray-200 dark:border-gray-700 hover:bg-quiz-light dark:hover:bg-gray-700/80"}`,onClick:()=>R(T.id),disabled:m||s||r,children:[u.jsx("span",{className:"overflow-hidden break-words whitespace-normal text-lg",children:T.text}),a&&T.id===t.options[parseInt(t.correctOption)].id&&u.jsx("span",{className:"ml-auto bg-white/20 px-2 py-1 rounded text-xs font-bold",children:"CORRECT"})]},T.id))}),u.jsx("div",{className:"text-center mt-6",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"marking-display inline-block px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 rounded-full text-indigo-700 dark:text-indigo-300 font-medium shadow-sm",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{children:"Correct: +4 marks"}),u.jsx("span",{children:""}),u.jsx("span",{children:"Wrong: -1 mark"})]})}),m&&u.jsx("div",{className:"text-base font-medium text-gray-700 dark:text-gray-300",children:a&&h?h===t.options[parseInt(t.correctOption)].id?"Correct answer! +4 marks":"Wrong answer. -1 mark":"Answer submitted"})]})})]})]})})},ZI=(t=20)=>{const e=f.useRef(null),n=f.useCallback(s=>{if(!e.current)return;const i=e.current,o=i.getBoundingClientRect(),a=s.clientX-o.left,l=s.clientY-o.top,c=o.width/2,d=o.height/2,h=(l-d)/t,p=(c-a)/t;i.style.transform=`perspective(1000px) rotateX(${h}deg) rotateY(${p}deg) scale(1.02)`,i.style.transition="transform 0.1s ease-out"},[t]),r=f.useCallback(()=>{e.current&&(e.current.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)",e.current.style.transition="transform 0.5s ease-out")},[]);return{cardRef:e,handleMouseMove:n,resetTilt:r}},Iq=({code:t,playerCount:e})=>{const{cardRef:n,handleMouseMove:r,resetTilt:s}=ZI(25),{toast:i}=Rt(),[o,a]=f.useState(!1),[l,c]=f.useState(!1),d=()=>{try{navigator.clipboard.writeText(t).then(()=>{a(!0),Yn({particleCount:150,spread:80,origin:{y:.6},colors:["#4F46E5","#7C3AED","#EC4899"]}),i({title:"Copied!",description:"Game code copied to clipboard"}),setTimeout(()=>a(!1),2e3)}).catch(m=>{h(t)})}catch{h(t)}},h=m=>{const y=document.createElement("textarea");y.value=m,y.style.position="fixed",y.style.left="-999999px",y.style.top="-999999px",document.body.appendChild(y),y.focus(),y.select();let g=!1;try{g=document.execCommand("copy")}catch(w){console.error("Fallback: Oops, unable to copy",w)}document.body.removeChild(y),g?(a(!0),Yn({particleCount:150,spread:80,origin:{y:.6},colors:["#4F46E5","#7C3AED","#EC4899"]}),i({title:"Copied!",description:"Game code copied to clipboard"}),setTimeout(()=>a(!1),2e3)):i({title:"Copy failed",description:"Please select and copy the code manually",variant:"destructive"})},p=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${window.location.origin}/join?code=${t}`;return u.jsxs(u.Fragment,{children:[u.jsxs(Xt,{ref:n,onMouseMove:r,onMouseLeave:s,className:"quiz-card text-center transition-all duration-300 hover:shadow-xl transform hover:scale-[1.02] glow-border glass-dark attractive-glow gradient-animated-bg",style:{position:"relative",overflow:"hidden"},children:[u.jsx("div",{className:"absolute left-4 top-4 glowing-dot animate-float"}),u.jsxs(An,{className:"pt-6 space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[u.jsx(Bk,{size:36,strokeWidth:2.2,color:"#b09cff",className:"animate-pulse-scale drop-shadow-lg"}),u.jsx("h3",{className:"text-lg font-medium gradient-heading",children:"Game Code"}),u.jsx($k,{size:28,color:"#F97316",className:"animate-fade-in"})]}),u.jsxs("div",{className:"text-4xl font-bold tracking-wider mt-2 text-quiz-primary animate-pulse-scale select-all cursor-pointer flex items-center justify-center gap-2 bg-indigo-900/20 py-2 px-4 rounded-lg hover:bg-indigo-900/30 transition-colors",onClick:d,title:"Click to copy game code",children:[t.split("").map((m,y)=>u.jsx("span",{className:"inline-block",style:{animationDelay:`${y*.2}s`,animation:"scale-in 0.5s ease-out forwards"},children:m},y)),o?u.jsx(Cd,{size:20,className:"text-green-500 animate-bounce"}):u.jsx(Mm,{size:20,className:"text-gray-400 hover:text-white transition-colors"})]}),u.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-300 animate-pulse",children:"Click to copy"}),u.jsxs("div",{className:"border-t border-gray-300 dark:border-glow-purple/30 pt-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-purple-200",children:"Players Joined"}),u.jsxs("div",{className:"text-3xl font-bold mt-2 text-quiz-secondary animate-float flex justify-center items-center gap-2",children:[e,u.jsx("span",{className:"glowing-dot"})]})]}),u.jsx("div",{className:"flex justify-center gap-2 mt-3",children:u.jsx("span",{className:"rounded-lg bg-gradient-to-r from-indigo-600 to-purple-600 px-4 py-2 text-sm text-white shadow animate-pulse-scale",children:"Share this code with players!"})}),u.jsxs(ie,{variant:"outline",className:"bg-white/10 hover:bg-white/20 border-white/20 gap-2",onClick:()=>c(!0),children:[u.jsx(Om,{size:16}),u.jsx("span",{children:"Show QR Code"})]})]})]}),u.jsx(Zv,{open:l,onOpenChange:c,children:u.jsxs(Uh,{className:"sm:max-w-md text-center",children:[u.jsx(e0,{children:u.jsx(t0,{children:"Scan to Join the Game"})}),u.jsxs("div",{className:"p-6 flex flex-col items-center gap-4",children:[u.jsx("div",{className:"bg-white p-2 rounded-lg shadow-inner",children:u.jsx("img",{src:p,alt:"QR Code to join game",className:"w-64 h-64 mx-auto animate-fade-in"})}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Scan this QR code with your phone camera to join the game"}),u.jsx("p",{className:"font-mono text-lg font-bold text-indigo-600 dark:text-indigo-400",children:t})]})]})})]})},wC=300,Aq=({players:t,activeQuiz:e,showLeaderboard:n=!1})=>{const r=f.useMemo(()=>{if(!t||!Array.isArray(t))return[];const l=t.map(p=>{var w;const m=((w=p.answers)==null?void 0:w.filter(v=>typeof v.timeToAnswer=="number"&&v.timeToAnswer>0&&v.timeToAnswer<=wC))||[],y=m.reduce((v,x)=>v+(x.timeToAnswer||0),0),g=m.length>0?y/m.length:0;return{...p,avgResponseTime:g,validAnswers:m}}).sort((p,m)=>{const y=(m.score||0)-(p.score||0);return y!==0?y:(p.avgResponseTime||0)-(m.avgResponseTime||0)});let c=1,d=l.length>0?l[0].score:void 0,h=l.length>0?l[0].avgResponseTime:void 0;return l.map((p,m)=>(m>0&&(p.score!==d||p.avgResponseTime!==h)&&(c=m+1),d=p.score,h=p.avgResponseTime,{...p,rank:c}))},[t]),s="+4 marks for correct, -1 mark for wrong",i=a=>{switch(a){case 1:return u.jsx(hr,{className:"h-4 w-4 text-yellow-500"});case 2:return u.jsx(fo,{className:"h-4 w-4 text-gray-400"});case 3:return u.jsx(Io,{className:"h-4 w-4 text-amber-600"});default:return null}},o=a=>{if(!a.validAnswers||a.validAnswers.length===0)return"-";const l=a.validAnswers.map(c=>c.timeToAnswer).filter(c=>typeof c=="number"&&c>0&&c<=wC);return l.length===0?"-":`${Math.min(...l).toFixed(1)}s`};return u.jsxs(Xt,{className:"quiz-card transform hover:scale-[1.01] transition-all duration-300",children:[u.jsxs(Wk,{className:"pb-2",children:[u.jsx(Hk,{className:"text-center text-quiz-dark dark:text-white",children:"Leaderboard"}),u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 text-center",children:s})]}),u.jsx(An,{children:!r||r.length===0?u.jsx(oe.div,{className:"text-center text-gray-500 py-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"No players yet"}):u.jsx("div",{className:"space-y-2",children:u.jsx(c0,{mode:"wait",children:r.map((a,l)=>{var c;return u.jsxs(oe.div,{className:`flex items-center justify-between p-3 rounded-lg ${n&&a.rank===1?"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700/30 animate-winner":n&&a.rank===2?"bg-gray-50 dark:bg-gray-800/30 border border-gray-200 dark:border-gray-700/30":n&&a.rank===3?"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700/30":"bg-white dark:bg-gray-800/10 border border-gray-100 dark:border-gray-700/20"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:l*.1,ease:"easeOut"},children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(oe.div,{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${n&&a.rank===1?"bg-yellow-400 text-yellow-800":n&&a.rank===2?"bg-gray-400 text-gray-800":n&&a.rank===3?"bg-amber-400 text-amber-800":"bg-gray-200 text-gray-700"}`,whileHover:{scale:1.1},whileTap:{scale:.95},children:a.rank}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(oe.div,{whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},children:n&&i(a.rank)}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100 ml-1",children:a.nickname})]})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx(oe.span,{className:"font-bold text-quiz-primary",initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},children:n?`${a.score||0} points`:"points"}),u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n?`${((c=a.answers)==null?void 0:c.filter(d=>d.correct).length)||0} correct`:"correct"}),u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:`Avg. Time: ${a.avgResponseTime?`${a.avgResponseTime.toFixed(1)}s`:"-"}`}),u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:`Best Time: ${o(a)}`})]})]},a.id)})})})})]})},jq=["animate-bounce shadow-xl border-yellow-400","animate-pulse shadow-lg border-gray-400","animate-wiggle shadow-md border-amber-400"],Mq=[u.jsx(hr,{size:40,className:"text-yellow-400 drop-shadow-glow"}),u.jsx(Io,{size:32,className:"text-gray-400"}),u.jsx(fo,{size:28,className:"text-amber-500"})],Oq=({winners:t})=>u.jsx("div",{className:"flex items-end justify-center gap-8 my-8",children:t.map((e,n)=>u.jsxs("div",{className:`flex flex-col items-center ${jq[n]||""} border-2 rounded-lg p-3 bg-white dark:bg-gray-800`,style:{zIndex:3-n},children:[u.jsx("div",{children:Mq[n]||u.jsx(fo,{size:24,className:"text-gray-400"})}),u.jsx("span",{className:"text-xl font-bold mt-2 text-quiz-primary drop-shadow-lg",children:e.nickname}),u.jsxs("span",{className:"text-sm text-gray-600",children:["Score: ",e.score]}),u.jsx("div",{className:"mt-1 text-xs text-gray-400 font-semibold",children:["1st","2nd","3rd"][n]})]},e.id))}),eA=({score:t,lastScoreChange:e=null,isHost:n=!1})=>u.jsxs(oe.div,{className:"bg-gray-800 bg-opacity-80 rounded-lg p-3 text-center shadow-lg border border-gray-700",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:[u.jsx("div",{className:"text-gray-300 text-sm mb-1",children:n?"Game Score":"Your Score"}),u.jsx("div",{className:"text-2xl font-bold text-white",children:t}),e!==null&&u.jsx(oe.div,{className:`text-sm font-medium ${e>0?"text-green-400":"text-red-400"}`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:e>0?`+${e}`:e})]}),Dq=()=>{const{currentUser:t}=Pr(),{activeGame:e,currentQuiz:n,currentQuestion:r,isHost:s,startGame:i,nextQuestion:o,endGame:a,refreshGameState:l}=ea(),c=en(),[d,h]=f.useState("connected"),{toast:p}=Rt(),[m,y]=f.useState(Date.now()),[g,w]=f.useState(!1);f.useState(!1);const[v,x]=f.useState(null);f.useEffect(()=>{w(!1)},[r==null?void 0:r.id]);const b=e?(D=>D?Array.isArray(D)?D:typeof D=="object"?Object.values(D):[]:[])(e.players):[],C=f.useCallback(async()=>{await a(),c("/leaderboard")},[a,c]),P=f.useCallback(()=>{c("/leaderboard")},[c]),[N,E]=f.useState(0),[j,R]=f.useState([]),z=async(D,O)=>{if(r){try{const F=r.options[parseInt(r.correctOption)].id,I=O===F,U=I?4:-1,k={questionId:D,optionId:O,selectedOption:O,correct:I,responseTime:Date.now(),marks:U,points:r.points||0};R(q=>[...q,k]),E(q=>q+U),x(U),I&&(Yn({particleCount:100,spread:70,origin:{y:.6},colors:["#4F46E5","#10B981","#F59E0B"]}),setTimeout(()=>{Yn({particleCount:50,spread:45,origin:{y:.7}})},300)),p({title:I?" Correct Answer! +4 marks":" Wrong Answer! -1 mark",description:`${I?"Great job! ":"Keep trying! "} Your score: ${U} marks`,variant:I?"default":"destructive"});const S=document.createElement("div");S.className=`fixed text-4xl font-bold ${I?"text-green-500":"text-red-500"} z-50`,S.style.left="50%",S.style.top="50%",S.style.transform="translate(-50%, -50%)",S.style.textShadow="0 0 10px rgba(255,255,255,0.7)",S.style.zIndex="9999",S.textContent=I?"+4":"-1",document.body.appendChild(S);let L=1,V=4,B=50;const G=()=>{L-=.02,V+=.1,B-=.5,S.style.opacity=L.toString(),S.style.fontSize=`${V}rem`,S.style.top=`${B}%`,L>0?requestAnimationFrame(G):document.body.removeChild(S)};requestAnimationFrame(G)}catch(F){console.error("Error handling host answer:",F),p({title:"Error",description:"Something went wrong when processing your answer.",variant:"destructive"})}w(!0)}},T=f.useMemo(()=>[{id:(t==null?void 0:t.id)||"host",nickname:(t==null?void 0:t.displayName)||(t==null?void 0:t.name)||"Host",score:N,answers:j.map(O=>({...O,timeToAnswer:O.responseTime})),isHost:!0},...b],[b,N,j,t]),M=[...T].sort((D,O)=>(O.score||0)-(D.score||0)).slice(0,3),A=f.useCallback(()=>{h("connecting");try{l(),y(Date.now()),setTimeout(()=>{h("connected"),p({title:"Refreshed",description:"Game state updated"})},600)}catch(D){console.error("Manual refresh error:",D),p({title:"Connection Error",description:"Failed to update game state. Trying again...",variant:"destructive"}),setTimeout(()=>l(),1500)}},[l,p]);return u.jsx(Sn,{children:u.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[e?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"absolute top-4 right-4 z-10",children:u.jsx(eA,{score:N,lastScoreChange:v,isHost:!0})}),u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-xl font-bold",children:(n==null?void 0:n.title)||"Game Room"}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Hosted by ",(t==null?void 0:t.displayName)||(t==null?void 0:t.name)||"Host"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[e.status==="finished"&&u.jsxs(ie,{onClick:P,className:"quiz-btn-secondary flex items-center justify-center",size:"sm",children:[u.jsx(hr,{size:14,className:"mr-1"}),"Show Results"]}),u.jsxs(ie,{variant:"ghost",size:"sm",onClick:A,className:"flex items-center gap-1",children:[u.jsx(Iv,{size:14,className:"mr-1"}),"Refresh"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.status==="waiting"&&u.jsx(WI,{nickname:(t==null?void 0:t.displayName)||(t==null?void 0:t.name)||"Host",players:T,onStartGame:i,gameCode:e.code,isHost:!0,onRefreshPlayers:A}),r&&u.jsxs("div",{className:"space-y-6",children:[u.jsx(JI,{question:r,onAnswer:z,disableOptions:!1,showTimer:!0}),u.jsx(xq,{players:T,currentQuestionId:r.id,showLeaderboard:g})]}),e.status==="finished"&&u.jsx(Oq,{winners:M})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(Iq,{code:e.code,playerCount:T.length}),u.jsx(Aq,{players:T,activeQuiz:n,showLeaderboard:g}),e.status==="active"&&u.jsxs(u.Fragment,{children:[u.jsx(OH,{onNextQuestion:o,onEndGame:C,onStartGame:()=>{},showNext:!0}),u.jsx("div",{className:"mt-4",children:u.jsxs(ie,{onClick:P,className:"w-full quiz-btn-secondary flex items-center justify-center",size:"lg",children:[u.jsx(hr,{size:16,className:"mr-2"}),"Show Results"]})}),u.jsx("div",{className:"mt-4",children:u.jsxs(ie,{onClick:()=>c("/host-dashboard"),className:"w-full quiz-btn-outline flex items-center justify-center",variant:"outline",size:"lg",children:[u.jsx(ho,{size:16,className:"mr-2"}),"Go to Dashboard"]})})]}),e.status==="finished"&&u.jsxs("div",{className:"mt-4",children:[u.jsxs(ie,{onClick:P,className:"w-full quiz-btn-primary flex items-center justify-center",size:"lg",children:[u.jsx(hr,{size:16,className:"mr-2"}),"View Final Results"]}),u.jsx("div",{className:"mt-4",children:u.jsxs(ie,{onClick:()=>c("/host-dashboard"),className:"w-full quiz-btn-outline flex items-center justify-center",variant:"outline",size:"lg",children:[u.jsx(ho,{size:16,className:"mr-2"}),"Back to Dashboard"]})})]})]})]}),u.jsx("div",{className:"mt-8",children:u.jsx(Xn,{})})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No Active Game"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Please start a new game or return to the dashboard."}),u.jsxs(ie,{onClick:()=>c("/host-dashboard"),className:"quiz-btn-primary",children:[u.jsx(ho,{size:16,className:"mr-2"}),"Back to Dashboard"]})]}),u.jsx("div",{className:"mt-8",children:u.jsx(Xn,{})})]})})},Lq=({initialGameCode:t,isValidCode:e,isValidating:n,onCodeChange:r})=>{const[s,i]=f.useState(t||""),[o,a]=f.useState(""),[l,c]=f.useState(!1),[d,h]=f.useState(null),[p,m]=f.useState(e||null),[y,g]=f.useState(n||!1),{joinGame:w,validateGameCode:v}=ea(),x=en(),{toast:_}=Rt(),{cardRef:b,handleMouseMove:C,resetTilt:P}=ZI(),N=f.useMemo(()=>["TEST12","DEMO01","PLAY22","QUIZ99","FUN123"],[]),E=f.useMemo(()=>N[Math.floor(Math.random()*N.length)],[N]),j=f.useMemo(()=>new Map,[]),R=6e4,z=f.useCallback(async O=>{if(O.length===6){g(!0),h(null);try{const F=O.toUpperCase(),I=j.get(F),U=Date.now();if(I&&U-I.timestamp<R){m(I.valid);return}const k=_e(ye,`games/${F}`),S=new Promise((G,q)=>setTimeout(()=>q(new Error("Request timeout")),5e3)),L=vn(k),V=await Promise.race([L,S]),B=V.exists()&&V.val().status==="waiting";j.set(F,{valid:B,timestamp:U}),m(B),B||h(V.exists()?"Game has already started":"Invalid game code")}catch(F){console.error("Error validating game code:",F),m(!1),h(F instanceof Error&&F.message==="Request timeout"?"Connection timeout. Please check your internet.":"Error validating game code")}finally{g(!1)}}},[j]);f.useEffect(()=>{const O=setTimeout(()=>{s.length===6?z(s):s.length>0?(m(!1),h(s.length<6?"Game code must be 6 characters":null)):(m(null),h(null))},800);return()=>clearTimeout(O)},[s,z]),f.useEffect(()=>(t&&(i(t),z(t)),()=>{j.clear()}),[t,z,j]),f.useEffect(()=>{e!==void 0&&m(e),n!==void 0&&g(n)},[e,n]);const T=f.useCallback(async O=>{if(O.preventDefault(),!s.trim()||!o.trim()){h("Please enter both game code and nickname");return}try{c(!0),h(null);const F=await w(s.toUpperCase(),o);F.success?x("/play",{state:{gameCode:s.toUpperCase(),playerName:o},replace:!0}):(h(F.error||"Failed to join the game"),_({title:"Error",description:F.error||"Failed to join the game",variant:"destructive"}))}catch(F){console.error("Error joining game:",F),h("An unexpected error occurred"),_({title:"Error",description:"Failed to join the game. Please try again.",variant:"destructive"})}finally{c(!1)}},[s,o,w,x,_]),M=f.useCallback(()=>{i(E),_({title:"Demo code applied!",description:`Using code: ${E}`,variant:"default"})},[E,_]),A=f.useMemo(()=>{const O="quiz-input text-center text-2xl font-bold tracking-widest uppercase";return p===!0?`${O} border-green-500 focus:ring-green-500`:p===!1?`${O} border-red-500 focus:ring-red-500`:O},[p]),D=O=>{const F=O.target.value.replace(/[^A-Za-z0-9]/g,"").substring(0,6).toUpperCase();i(F),r&&r(F)};return u.jsx(Xt,{ref:b,onMouseMove:C,onMouseLeave:P,className:"quiz-card shadow-lg w-full max-w-md mx-auto transition-all duration-300 hover:shadow-xl glass-dark border-2 border-indigo-300/30",children:u.jsx(An,{className:"pt-6",children:u.jsxs("form",{onSubmit:T,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-bold text-quiz-dark dark:text-white",children:"Join a Quiz Game"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-300 text-sm",children:"Enter the game code and your nickname to join"}),u.jsxs("button",{type:"button",onClick:M,className:"text-amber-500 text-sm animate-pulse hover:text-amber-600 focus:outline-none underline flex items-center gap-1",children:[u.jsx(zk,{size:14}),u.jsxs("span",{children:["Try demo code: ",E]})]})]}),d&&u.jsxs("div",{className:"bg-destructive/15 border border-destructive/30 text-destructive dark:text-red-300 rounded-md px-3 py-2 flex items-center gap-2 animate-fade-in",children:[u.jsx(Ch,{size:16,className:"shrink-0"}),u.jsx("p",{className:"text-sm",children:d})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(zn,{type:"text",placeholder:"GAME CODE",className:A,value:s,onChange:D,maxLength:6,autoFocus:!t,disabled:l}),y?u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-amber-500",children:u.jsx(j_,{size:20,className:"animate-spin"})}):p===!0?u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-500",children:u.jsx(Fk,{size:20})}):null]}),u.jsx("div",{className:"transform transition-all duration-300 hover:scale-105",children:u.jsx(zn,{id:"nickname-input",type:"text",placeholder:"Your nickname",className:"quiz-input",value:o,onChange:O=>a(O.target.value),maxLength:20,disabled:l})})]}),u.jsx(ie,{type:"submit",className:"quiz-btn-primary w-full transform transition-all duration-300 hover:scale-105 animate-pulse-scale flex items-center gap-2",disabled:l||y||p===!1,children:l?u.jsxs(u.Fragment,{children:[u.jsx(j_,{size:16,className:"animate-spin"}),"Joining..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Pv,{size:16}),"Join Game"]})}),u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-6",children:u.jsxs("p",{className:"text-center",children:["Available demo codes: ",N.join(", ")]})})]})})})},tA=Vt.memo(Lq),Fq=()=>{en();const{toast:t}=Rt(),[e]=lD(),[n,r]=f.useState(null),[s,i]=f.useState(!1),[o,a]=f.useState(null),{validateGameCode:l}=ea(),c=f.useCallback(async p=>{i(!0);try{if(!l(p).valid){a(!1);return}const y=_e(ye,`games/${p}`),g=await vn(y);if(g.exists()){const w=g.val();a(w.status==="waiting")}else a(!1)}catch(m){console.error("Error validating game code:",m),a(!1)}finally{i(!1)}},[l]);f.useEffect(()=>{const p=e.get("code");p&&(r(p),c(p),t({title:"Game code detected",description:`The game code ${p} has been automatically filled in`}))},[e,t,c]);const d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},h={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return u.jsx(Sn,{children:u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(oe.header,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"bg-white/10 dark:bg-gray-900/60 shadow backdrop-blur-md",children:u.jsx("div",{className:"container mx-auto p-4 flex justify-between items-center",children:u.jsx(_i,{})})}),u.jsxs(oe.main,{variants:d,initial:"hidden",animate:"visible",className:"container mx-auto p-4 py-8 flex-1 flex flex-col items-center justify-center",children:[u.jsxs(oe.div,{variants:h,className:"w-full max-w-lg mx-auto",children:[u.jsx(oe.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:400},children:u.jsxs(Xt,{className:"shadow-lg bg-white/5 backdrop-blur-md border-purple-500/20 mb-8 overflow-hidden",children:[u.jsx(oe.div,{initial:{x:"-100%"},animate:{x:0},transition:{duration:.5},className:"h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-indigo-500"}),u.jsx(An,{className:"p-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx(oe.h1,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"text-3xl font-bold mb-2 text-white",children:"Join Game"}),n&&u.jsxs(oe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mb-6 text-gray-300",children:["You're joining a game with code: ",u.jsx("strong",{className:"text-indigo-400",children:n}),o===!1&&u.jsx("span",{className:"block text-red-400 mt-2 animate-pulse",children:"This game code is invalid or the game has already started"})]})]})})]})}),u.jsx(oe.div,{variants:h,children:u.jsx(tA,{initialGameCode:n,isValidCode:o,isValidating:s,onCodeChange:p=>{p.length===6&&c(p)}})})]}),u.jsx(oe.div,{variants:h,className:"mt-8 text-center text-gray-400 text-sm",children:u.jsx("p",{children:"Enter the 6-digit game code provided by your host"})})]}),u.jsx(oe.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-auto",children:u.jsx(Xn,{})})]})})},Uq=()=>{const{activeGame:t,currentPlayer:e,currentQuestion:n,submitAnswer:r,refreshGameState:s,joinGame:i}=ea(),o=en(),a=wi(),[l,c]=f.useState("connected");f.useState(0);const{toast:d}=Rt(),h=f.useRef(null),[p,m]=f.useState(!0),[y,g]=f.useState(Date.now()),[w,v]=f.useState(null);f.useEffect(()=>{t&&t.status==="finished"&&o("/leaderboard")},[t,o]),f.useEffect(()=>{const R=a.state;R!=null&&R.gameCode&&(R!=null&&R.playerName)&&!t?(async()=>{try{c("connecting"),await i(R.gameCode,R.playerName),c("connected")}catch(T){console.error("Failed to rejoin game:",T),c("disconnected"),d({title:"Connection Error",description:"Failed to connect to game. Redirecting to join page...",variant:"destructive"}),setTimeout(()=>o("/join"),2e3)}})():!t&&!(R!=null&&R.gameCode)&&(d({title:"No active game",description:"Please join a game first",variant:"destructive"}),o("/join"))},[a.state,t,i,o,d]);const x=f.useCallback(R=>{if(!h.current)return;const z=h.current,T=z.getBoundingClientRect(),M=R.clientX-T.left,A=R.clientY-T.top,D=T.width/2,O=T.height/2,F=(A-O)/20,I=(D-M)/20;z.style.transform=`perspective(1000px) rotateX(${F}deg) rotateY(${I}deg)`},[]),_=f.useCallback(()=>{h.current&&(h.current.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg)")},[]);f.useEffect(()=>{if(!p||!t)return;const R=t.status==="active"?1e3:2e3,z=setInterval(()=>{const T=Date.now();if(T-y>=800)try{s(),c("connected"),g(T)}catch(M){console.error("Error refreshing game state:",M),c("connecting")}},R);return()=>clearInterval(z)},[s,p,t,y]),f.useEffect(()=>{(t==null?void 0:t.status)==="active"&&n&&(d({title:"Game started!",description:"The quiz has begun"}),Yn({particleCount:100,spread:70,origin:{y:.3}}))},[t==null?void 0:t.status,n,d]);const b=()=>!(e!=null&&e.answers)||!Array.isArray(e.answers)||!n?!1:e.answers.some(R=>R.questionId===n.id),C=async(R,z)=>{if(!(!r||!n))try{if(await r(R,z),!(t!=null&&t.hostAnswered)){d({title:"Waiting for host...",description:"Waiting for host to submit answer...!",variant:"default",style:{backgroundColor:"rgb(7, 7, 7)",color:"rgb(216, 231, 225)"}});return}const T=n.options[parseInt(n.correctOption)].id,M=z===T,A=M?4:-1;v(A),M&&(Yn({particleCount:100,spread:70,origin:{y:.6},colors:["#4F46E5","#10B981","#F59E0B"]}),setTimeout(()=>{Yn({particleCount:50,spread:45,origin:{y:.7}})},300)),d({title:M?" Correct Answer! +4 marks":" Wrong Answer! -1 mark",description:`${M?"Great job! ":"Keep trying! "} Your score: ${A} marks`,variant:M?"default":"destructive"});const D=document.createElement("div");D.className=`fixed text-4xl font-bold ${M?"text-green-500":"text-red-500"} z-50`,D.style.left="50%",D.style.top="50%",D.style.transform="translate(-50%, -50%)",D.style.textShadow="0 0 10px rgba(166, 219, 240, 0.7)",D.style.zIndex="9999",D.textContent=M?"+4":"-1",document.body.appendChild(D);let O=1,F=4,I=50;const U=()=>{O-=.02,F+=.1,I-=.5,D.style.opacity=O.toString(),D.style.fontSize=`${F}rem`,D.style.top=`${I}%`,O>0?requestAnimationFrame(U):document.body.removeChild(D)};requestAnimationFrame(U)}catch(T){console.error("Error submitting answer:",T),d({title:"Error",description:"waiting for host to submit answer...!",variant:"default",style:{backgroundColor:"rgb(7, 7, 7)",color:"rgb(216, 231, 225)"}})}},P=async()=>{try{c("connecting"),await s(),c("connected"),d({title:"Refreshed",description:"Game state updated"})}catch(R){console.error("Error refreshing game state:",R),d({title:"Error",description:"Failed to refresh game state",variant:"destructive"})}},N=()=>{o("/join")},E=()=>{var R,z,T;if(!t)return u.jsx(tA,{initialGameCode:null});if(t.status==="waiting")return u.jsx(WI,{nickname:(e==null?void 0:e.nickname)||"Player",players:j(t.players),onStartGame:()=>{},gameCode:t.code,isHost:!1,onRefreshPlayers:P,cardRef:h,handleMouseMove:x,resetTilt:_});if(t.status==="finished"){const M=((z=(R=t==null?void 0:t.currentQuiz)==null?void 0:R.questions)==null?void 0:z.length)||0,A=!(e!=null&&e.answers)||!Array.isArray(e.answers)?0:e.answers.filter(O=>(O==null?void 0:O.correct)===!0).length,D=(e==null?void 0:e.score)||0;return u.jsx(Xt,{className:"quiz-card p-6 transform hover:scale-[1.02] transition-all duration-300",children:u.jsxs(An,{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"inline-block p-3 bg-amber-100 dark:bg-amber-900/30 rounded-full",children:u.jsx(Io,{size:48,className:"text-amber-500"})}),u.jsx("h2",{className:"text-xl font-bold mt-3 dark:text-white",children:"Game Completed!"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:["Thanks for playing, ",(e==null?void 0:e.nickname)||"Player","!"]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[u.jsx("div",{className:"text-center mb-4",children:u.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Your Results"})}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[u.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[A," / ",M]}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Correct Answers"})]}),u.jsxs("div",{className:"text-center p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:D}),u.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Total Score ",((T=t.currentQuiz)==null?void 0:T.hasNegativeMarking)&&`(with ${t.currentQuiz.negativeMarkingValue}% negative marking)`]})]})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsxs(ie,{onClick:N,className:"quiz-btn-primary",children:[u.jsx(ho,{size:16,className:"mr-2"}),"Leave Game"]})})]})})}if(n){const M=b();return u.jsxs("div",{className:"space-y-5 player-question-board",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"text-sm font-medium dark:text-gray-300",children:["Question ",t.currentQuestionIndex+1," / ",n.timeLimit,"s"]}),u.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[u.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${l==="connected"?"bg-green-500":"bg-amber-500 animate-pulse"}`}),u.jsx("span",{className:"dark:text-gray-300",children:l==="connected"?"Connected":"Connecting..."})]})]}),u.jsx("div",{className:"transition-all duration-300",children:u.jsx(JI,{question:n,onAnswer:C,disableOptions:M,showTimer:!0})})]})}return null},j=R=>R?Array.isArray(R)?R:typeof R=="object"?Object.values(R):[]:[];return u.jsx(Sn,{children:u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl relative",children:[e&&u.jsx("div",{className:"absolute top-4 right-4 z-10",children:u.jsx(eA,{score:e.score||0,lastScoreChange:w,isHost:!1})}),u.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[u.jsx(_i,{size:"sm"}),t&&u.jsxs(ie,{variant:"ghost",size:"sm",onClick:P,className:"flex items-center gap-1",children:[u.jsx(Iv,{size:14,className:"mr-1"}),"Refresh"]})]}),u.jsx("div",{className:"mt-4",children:E()}),u.jsx("div",{className:"mt-8",children:u.jsx(Xn,{})})]})})},zq=()=>{var P,N,E;const{activeGame:t,currentQuiz:e,isHost:n,endGame:r,leaveGame:s}=ea(),{currentUser:i}=Pr(),o=en(),[a,l]=f.useState(!0),[c,d]=f.useState(!1),[h,p]=f.useState(!1),m=j=>j?Array.isArray(j)?j:typeof j=="object"?Object.values(j):[]:[],y=f.useMemo(()=>{var D,O;if(!t)return[];const z=m(t.players).map(F=>{var S;const I=((S=F.answers)==null?void 0:S.filter(L=>typeof L.timeToAnswer=="number"&&L.timeToAnswer>0))||[],U=I.reduce((L,V)=>L+(V.timeToAnswer||0),0),k=I.length>0?U/I.length:0;return{...F,avgResponseTime:k}}).sort((F,I)=>{const U=(I.score||0)-(F.score||0);return U!==0?U:(F.avgResponseTime||0)-(I.avgResponseTime||0)});let T=1,M=(D=z[0])==null?void 0:D.score,A=(O=z[0])==null?void 0:O.avgResponseTime;return z.map((F,I)=>(I>0&&(F.score!==M||F.avgResponseTime>A)&&(T=I+1),M=F.score,A=F.avgResponseTime,{...F,rank:T}))},[t]);if(f.useEffect(()=>{try{console.log("LeaderboardPage mounted with game state:",{activeGame:t?"present":"missing",currentQuiz:e?"present":"missing",players:y?`${y.length} players`:"missing",isHost:n?"true":"false"}),t&&!t.players&&console.error("activeGame exists but players is missing"),e&&!e.title&&console.error("currentQuiz exists but title is missing")}catch(j){console.error("Error in LeaderboardPage diagnostic:",j),p(!0)}},[t,e,y,n]),f.useEffect(()=>{if(a&&typeof window<"u")try{const R=Date.now()+3e3,z={startVelocity:30,spread:360,ticks:60,zIndex:0},T=(A,D)=>Math.random()*(D-A)+A,M=setInterval(()=>{const A=R-Date.now();if(A<=0)return l(!1),clearInterval(M);const D=50*(A/3e3);try{Yn({...z,particleCount:D,origin:{x:T(.1,.3),y:Math.random()-.2}}),Yn({...z,particleCount:D,origin:{x:T(.7,.9),y:Math.random()-.2}})}catch(O){console.error("Confetti error:",O),clearInterval(M)}},250);return()=>clearInterval(M)}catch(j){console.error("Error setting up confetti:",j),l(!1)}},[a]),f.useMemo(()=>{if(!y||!Array.isArray(y))return[];const R=y.map(A=>{var I;const D=((I=A.answers)==null?void 0:I.filter(U=>typeof U.timeToAnswer=="number"&&U.timeToAnswer>0))||[],O=D.reduce((U,k)=>U+(k.timeToAnswer||0),0),F=D.length>0?O/D.length:0;return{...A,avgResponseTime:F}}).sort((A,D)=>{const O=(D.score||0)-(A.score||0);return O!==0?O:(A.avgResponseTime||0)-(D.avgResponseTime||0)});let z=1,T=R.length>0?R[0].score:void 0,M=R.length>0?R[0].avgResponseTime:void 0;return R.map((A,D)=>(D>0&&(A.score!==T||A.avgResponseTime!==M)&&(z=D+1),T=A.score,M=A.avgResponseTime,{...A,rank:z}))},[y]),f.useEffect(()=>{const j=setTimeout(()=>{d(!0)},5e3);return()=>clearTimeout(j)},[]),f.useEffect(()=>{t||o("/")},[t,o]),h)return u.jsx(Sn,{children:u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl text-center",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),u.jsx("p",{className:"mb-4",children:"There was an error displaying the leaderboard."}),u.jsxs(ie,{onClick:()=>o("/"),className:"quiz-btn-primary",children:[u.jsx(ho,{size:16,className:"mr-2"}),"Back to Home"]})]})});if(!t||!e||!Array.isArray(y))return u.jsx(Sn,{children:u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl text-center",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Loading Results..."}),u.jsx("p",{className:"mb-4",children:"Please wait while we prepare the leaderboard."})]})});const g=()=>{n?r().then(()=>o("/host-dashboard")):(s(),o("/"))},w=()=>{navigator.share&&navigator.share({title:`${e.title} - Quiz Results`,text:`I just finished the quiz "${e.title}"! Check out the results!`,url:window.location.href}).catch(j=>console.error("Error sharing:",j))},v=y.find(j=>j.id===(i==null?void 0:i.uid)),x=v?y.findIndex(j=>j.id===v.id)+1:null,_=((N=(P=v==null?void 0:v.answers)==null?void 0:P.filter(j=>j.correct))==null?void 0:N.length)||0,b=((E=v==null?void 0:v.answers)==null?void 0:E.length)||0,C=j=>["#FFD700","#C0C0C0","#CD7F32","#50C878","#9370DB"][j]||"#6b7280";return u.jsx(Sn,{children:u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[u.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[u.jsxs("h1",{className:"text-3xl font-bold mb-2 text-quiz-primary",children:[u.jsx(hr,{className:"inline-block mr-2 text-yellow-500",size:32}),"Final Results"]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-1",children:e.title}),u.jsxs("p",{className:"text-sm text-gray-500",children:[n?"Hosted":"Played"," by ",(i==null?void 0:i.displayName)||"Anonymous"]})]}),u.jsxs("div",{className:"mb-12",children:[u.jsx("h2",{className:"text-xl font-semibold mb-6 text-center",children:"Top 3 Players"}),u.jsx("div",{className:"flex flex-wrap items-end justify-center gap-4 lg:gap-8 my-8",children:y.slice(0,3).map((j,R)=>{const z=[180,140,100][R],T=M=>M===0?u.jsx(hr,{size:48,className:"text-yellow-400 drop-shadow-glow"}):M===1?u.jsx(Io,{size:40,className:"text-gray-400"}):M===2?u.jsx(fo,{size:36,className:"text-amber-500"}):u.jsx(fo,{size:24,className:"text-gray-400"});return u.jsxs(oe.div,{custom:R,initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},transition:{delay:R*.3,duration:.8,type:"spring",stiffness:100,damping:10},className:"relative flex flex-col items-center",children:[u.jsx(oe.div,{className:"absolute inset-0 rounded-lg z-0",animate:{boxShadow:[`0 0 0px ${C(R)}`,`0 0 20px ${C(R)}`,`0 0 0px ${C(R)}`]},transition:{duration:2,repeat:1/0,repeatDelay:1}}),u.jsxs(oe.div,{className:"z-10 flex flex-col items-center bg-white dark:bg-gray-800 rounded-lg p-4 shadow-lg border-2",style:{borderColor:C(R)},children:[u.jsx(oe.div,{animate:{rotateZ:[0,-10,10,-5,5,0],y:[0,-5,0],filter:["drop-shadow(0px 0px 0px rgba(255,255,255,0))",`drop-shadow(0px 0px 10px ${C(R)})`,"drop-shadow(0px 0px 0px rgba(255,255,255,0))"]},transition:{duration:2,delay:R*.3+.5,repeat:1/0,repeatDelay:3},children:T(R)}),u.jsx(oe.span,{className:"text-xl font-bold mt-2 text-quiz-primary",animate:{scale:[1,1.1,1],textShadow:["0px 0px 0px rgba(255,255,255,0)",`0px 0px 10px ${C(R)}`,"0px 0px 0px rgba(255,255,255,0)"]},transition:{delay:R*.3+1,duration:2,repeat:1/0,repeatDelay:3},children:j.nickname}),u.jsxs(oe.div,{className:"flex flex-col items-center",children:[u.jsxs(oe.span,{className:"text-2xl font-bold",style:{color:C(R)},initial:{opacity:0},animate:{opacity:1},transition:{delay:R*.3+1.2},children:[j.score," points"]}),u.jsx("span",{className:"text-xs text-gray-500",children:"points"}),u.jsx(oe.div,{className:"mt-2 text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:R*.3+1.4},children:u.jsxs("span",{className:"text-gray-500",children:["Avg. Response: ",j.avgResponseTime?`${j.avgResponseTime.toFixed(2)}s`:"-"]})})]}),u.jsx(oe.div,{className:"mt-1 text-xs font-semibold",style:{color:C(R)},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:R*.3+1.6},children:["1st Place","2nd Place","3rd Place"][R]})]}),u.jsx(oe.div,{className:"absolute bottom-0 w-24 rounded-t-lg",style:{background:`linear-gradient(to top, ${C(R)}80, ${C(R)}20)`,zIndex:1},initial:{height:0},animate:{height:z},transition:{delay:R*.3+.2,duration:.8,type:"spring"}})]},j.id)})})]}),u.jsx(c0,{children:c&&u.jsxs(oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.8},className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-8",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Full Leaderboard"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b dark:border-gray-700",children:[u.jsx("th",{className:"py-2 text-left",children:"Rank"}),u.jsx("th",{className:"py-2 text-left",children:"Player"}),u.jsx("th",{className:"py-2 text-right",children:"Score"}),u.jsx("th",{className:"py-2 text-right",children:"Correct"}),u.jsx("th",{className:"py-2 text-right",children:"Avg. Time"})]})}),u.jsx("tbody",{children:y.map((j,R)=>{var D,O,F;const z=((O=(D=j.answers)==null?void 0:D.filter(I=>I.correct))==null?void 0:O.length)||0,T=((F=j.answers)==null?void 0:F.length)||0,M=i&&j.id===i.uid,A=R<3;return u.jsxs(oe.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1+R*.05,duration:.3},className:`border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 
                            ${M?"bg-yellow-100 dark:bg-yellow-900 bg-opacity-30":""}
                            ${A?`bg-opacity-20 ${C(R).toString().startsWith("#")?"bg-"+C(R).toString().substring(1):""}`:""}`,children:[u.jsx("td",{className:"py-3",children:u.jsx("span",{className:`font-medium ${A?"font-bold":""}`,children:j.rank})}),u.jsx("td",{className:"py-3",children:u.jsxs("div",{className:"flex items-center",children:[R<5&&u.jsxs("span",{className:"mr-2",children:[R===0&&u.jsx(hr,{size:16,className:"text-yellow-400"}),R===1&&u.jsx(Io,{size:16,className:"text-gray-400"}),R===2&&u.jsx(fo,{size:16,className:"text-amber-500"}),R===3&&u.jsx(Bk,{size:16,className:"text-green-500"}),R===4&&u.jsx($k,{size:16,className:"text-purple-500"})]}),u.jsxs("span",{className:`${A?"font-bold":R<5?"font-semibold":""} ${M?"font-bold":""}`,children:[j.nickname,M&&u.jsx("span",{className:"ml-2 text-xs text-yellow-600 dark:text-yellow-400",children:"(You)"})]})]})}),u.jsxs("td",{className:"py-3 text-right font-semibold",children:[j.score," points"]}),u.jsx("td",{className:"py-3 text-right",children:u.jsxs("span",{className:`${z===T?"text-green-500":"text-gray-600"}`,children:[z,"/",T]})}),u.jsx("td",{className:"py-3 text-right text-sm text-gray-600",children:j.avgResponseTime?`${j.avgResponseTime.toFixed(2)}s`:"-"})]},j.id)})})]})})]})}),!n&&v&&u.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},className:"bg-gray-800 bg-opacity-50 rounded-lg p-6 mb-8",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Results"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"p-4 bg-gray-900 bg-opacity-50 rounded-lg",children:[u.jsxs("div",{className:"text-center mb-2",children:[u.jsx("span",{className:"text-green-400 font-bold",children:_}),u.jsx("span",{className:"text-gray-400",children:" / "}),u.jsx("span",{className:"text-gray-300",children:b})]}),u.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Correct Answers"})]}),u.jsxs("div",{className:"p-4 bg-gray-900 bg-opacity-50 rounded-lg",children:[u.jsx(oe.div,{className:"text-4xl font-bold text-center mb-2 text-yellow-400",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1,duration:.5,type:"spring"},children:(v==null?void 0:v.score)||0}),u.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Total Score"})]}),u.jsxs("div",{className:"p-4 bg-gray-900 bg-opacity-50 rounded-lg",children:[u.jsx(oe.div,{className:"text-4xl font-bold text-center mb-2",style:{color:C(x?x-1:5)},initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1.2,duration:.5,type:"spring"},children:x||"-"}),u.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Your Rank"})]})]})]}),u.jsxs(oe.div,{className:"flex flex-wrap justify-center gap-4 mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2.2,duration:.5},children:[u.jsxs(ie,{onClick:g,className:"quiz-btn-primary",size:"lg",children:[u.jsx(ho,{size:16,className:"mr-2"}),n?"Back to Dashboard":"Back to Home"]}),u.jsxs(ie,{onClick:w,className:"quiz-btn-secondary",size:"lg",children:[u.jsx(W5,{size:16,className:"mr-2"}),"Share Results"]})]}),u.jsx("div",{className:"mt-12",children:u.jsx(Xn,{})})]})})},Vq=()=>u.jsxs(Sn,{className:"flex flex-col justify-center items-center p-4",children:[u.jsx("div",{className:"mb-8",children:u.jsx(_i,{size:"lg"})}),u.jsxs("div",{className:"max-w-md w-full quiz-card text-center p-8 attractive-glow",children:[u.jsx("h1",{className:"text-6xl font-bold text-quiz-primary mb-4",children:"404"}),u.jsx("h2",{className:"text-2xl font-bold text-quiz-dark mb-4",children:"Page Not Found"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),u.jsx(Wl,{to:"/",children:u.jsx(ie,{className:"quiz-btn-primary animate-pulse-scale shadow-glow-purple",children:"Back to Home"})})]}),u.jsx(Xn,{})]});var z0="ToastProvider",[V0,$q,Bq]=jv("Toast"),[nA,EK]=lc("Toast",[Bq]),[Wq,Wh]=nA(z0),rA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=f.useState(null),[c,d]=f.useState(0),h=f.useRef(!1),p=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${z0}\`. Expected non-empty \`string\`.`),u.jsx(V0.Provider,{scope:e,children:u.jsx(Wq,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>d(m=>m+1),[]),onToastRemove:f.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};rA.displayName=z0;var sA="ToastViewport",Hq=["F8"],_g="toast.viewportPause",bg="toast.viewportResume",iA=f.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Hq,label:s="Notifications ({hotkey})",...i}=t,o=Wh(sA,n),a=$q(n),l=f.useRef(null),c=f.useRef(null),d=f.useRef(null),h=f.useRef(null),p=Ne(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;f.useEffect(()=>{const w=v=>{var _;r.length!==0&&r.every(b=>v[b]||v.code===b)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),f.useEffect(()=>{const w=l.current,v=h.current;if(y&&w&&v){const x=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(_g);v.dispatchEvent(P),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(bg);v.dispatchEvent(P),o.isClosePausedRef.current=!1}},b=P=>{!w.contains(P.relatedTarget)&&_()},C=()=>{w.contains(document.activeElement)||_()};return w.addEventListener("focusin",x),w.addEventListener("focusout",b),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",C),window.addEventListener("blur",x),window.addEventListener("focus",_),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",b),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",x),window.removeEventListener("focus",_)}}},[y,o.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:w})=>{const x=a().map(_=>{const b=_.ref.current,C=[b,...sK(b)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?x.reverse():x).flat()},[a]);return f.useEffect(()=>{const w=h.current;if(w){const v=x=>{var C,P,N;const _=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!_){const E=document.activeElement,j=x.shiftKey;if(x.target===w&&j){(C=c.current)==null||C.focus();return}const T=g({tabbingDirection:j?"backwards":"forwards"}),M=T.findIndex(A=>A===E);hp(T.slice(M+1))?x.preventDefault():j?(P=c.current)==null||P.focus():(N=d.current)==null||N.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,g]),u.jsxs(eB,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&u.jsx(Cg,{ref:c,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});hp(w)}}),u.jsx(V0.Slot,{scope:n,children:u.jsx(de.ol,{tabIndex:-1,...i,ref:p})}),y&&u.jsx(Cg,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});hp(w)}})]})});iA.displayName=sA;var oA="ToastFocusProxy",Cg=f.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Wh(oA,n);return u.jsx(dc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Cg.displayName=oA;var Hh="Toast",Gq="toast.swipeStart",qq="toast.swipeMove",Kq="toast.swipeCancel",Qq="toast.swipeEnd",aA=f.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=fi({prop:r,defaultProp:s,onChange:i});return u.jsx(ki,{present:n||a,children:u.jsx(Jq,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ut(t.onPause),onResume:Ut(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});aA.displayName=Hh;var[Yq,Xq]=nA(Hh,{onClose(){}}),Jq=f.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...y}=t,g=Wh(Hh,n),[w,v]=f.useState(null),x=Ne(e,A=>v(A)),_=f.useRef(null),b=f.useRef(null),C=s||g.duration,P=f.useRef(0),N=f.useRef(C),E=f.useRef(0),{onToastAdd:j,onToastRemove:R}=g,z=Ut(()=>{var D;(w==null?void 0:w.contains(document.activeElement))&&((D=g.viewport)==null||D.focus()),o()}),T=f.useCallback(A=>{!A||A===1/0||(window.clearTimeout(E.current),P.current=new Date().getTime(),E.current=window.setTimeout(z,A))},[z]);f.useEffect(()=>{const A=g.viewport;if(A){const D=()=>{T(N.current),c==null||c()},O=()=>{const F=new Date().getTime()-P.current;N.current=N.current-F,window.clearTimeout(E.current),l==null||l()};return A.addEventListener(_g,O),A.addEventListener(bg,D),()=>{A.removeEventListener(_g,O),A.removeEventListener(bg,D)}}},[g.viewport,C,l,c,T]),f.useEffect(()=>{i&&!g.isClosePausedRef.current&&T(C)},[i,C,g.isClosePausedRef,T]),f.useEffect(()=>(j(),()=>R()),[j,R]);const M=f.useMemo(()=>w?pA(w):null,[w]);return g.viewport?u.jsxs(u.Fragment,{children:[M&&u.jsx(Zq,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),u.jsx(Yq,{scope:n,onClose:z,children:xi.createPortal(u.jsx(V0.ItemSlot,{scope:n,children:u.jsx(Z$,{asChild:!0,onEscapeKeyDown:ee(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(de.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,A=>{A.key==="Escape"&&(a==null||a(A.nativeEvent),A.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:ee(t.onPointerDown,A=>{A.button===0&&(_.current={x:A.clientX,y:A.clientY})}),onPointerMove:ee(t.onPointerMove,A=>{if(!_.current)return;const D=A.clientX-_.current.x,O=A.clientY-_.current.y,F=!!b.current,I=["left","right"].includes(g.swipeDirection),U=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,k=I?U(0,D):0,S=I?0:U(0,O),L=A.pointerType==="touch"?10:2,V={x:k,y:S},B={originalEvent:A,delta:V};F?(b.current=V,Yc(qq,h,B,{discrete:!1})):_C(V,g.swipeDirection,L)?(b.current=V,Yc(Gq,d,B,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(D)>L||Math.abs(O)>L)&&(_.current=null)}),onPointerUp:ee(t.onPointerUp,A=>{const D=b.current,O=A.target;if(O.hasPointerCapture(A.pointerId)&&O.releasePointerCapture(A.pointerId),b.current=null,_.current=null,D){const F=A.currentTarget,I={originalEvent:A,delta:D};_C(D,g.swipeDirection,g.swipeThreshold)?Yc(Qq,m,I,{discrete:!0}):Yc(Kq,p,I,{discrete:!0}),F.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Zq=t=>{const{__scopeToast:e,children:n,...r}=t,s=Wh(Hh,e),[i,o]=f.useState(!1),[a,l]=f.useState(!1);return nK(()=>o(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Rh,{asChild:!0,children:u.jsx(dc,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},eK="ToastTitle",lA=f.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(de.div,{...r,ref:e})});lA.displayName=eK;var tK="ToastDescription",cA=f.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(de.div,{...r,ref:e})});cA.displayName=tK;var uA="ToastAction",dA=f.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(fA,{altText:n,asChild:!0,children:u.jsx($0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${uA}\`. Expected non-empty \`string\`.`),null)});dA.displayName=uA;var hA="ToastClose",$0=f.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Xq(hA,n);return u.jsx(fA,{asChild:!0,children:u.jsx(de.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});$0.displayName=hA;var fA=f.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function pA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),rK(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...pA(r))}}),e}function Yc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Kk(s,i):s.dispatchEvent(i)}var _C=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function nK(t=()=>{}){const e=Ut(t);wt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function rK(t){return t.nodeType===t.ELEMENT_NODE}function sK(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var iK=rA,mA=iA,gA=aA,yA=lA,vA=cA,xA=dA,wA=$0;const oK=iK,_A=f.forwardRef(({className:t,...e},n)=>u.jsx(mA,{ref:n,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));_A.displayName=mA.displayName;const aK=QE("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bA=f.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(gA,{ref:r,className:le(aK({variant:e}),t),...n}));bA.displayName=gA.displayName;const lK=f.forwardRef(({className:t,...e},n)=>u.jsx(xA,{ref:n,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));lK.displayName=xA.displayName;const CA=f.forwardRef(({className:t,...e},n)=>u.jsx(wA,{ref:n,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Sd,{className:"h-4 w-4"})}));CA.displayName=wA.displayName;const SA=f.forwardRef(({className:t,...e},n)=>u.jsx(yA,{ref:n,className:le("text-sm font-semibold",t),...e}));SA.displayName=yA.displayName;const EA=f.forwardRef(({className:t,...e},n)=>u.jsx(vA,{ref:n,className:le("text-sm opacity-90",t),...e}));EA.displayName=vA.displayName;function cK(){const{toasts:t}=Rt();return u.jsxs(oK,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(bA,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(SA,{children:n}),r&&u.jsx(EA,{children:r})]}),s,u.jsx(CA,{})]},e)}),u.jsx(_A,{})]})}const bC=({children:t,redirectTo:e="/host-login"})=>{const{isLoggedIn:n,loading:r,currentUser:s}=Pr(),{toast:i}=Rt(),[o,a]=f.useState(!1),[l,c]=f.useState(!0),[d,h]=f.useState(!1);return f.useEffect(()=>{r||(n()||s||localStorage.getItem("authUser")!==null||(i({title:"Access denied",description:"Please login to access this page",variant:"destructive"}),a(!0)),c(!1),h(!0))},[r,n,i,s]),r||l?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading..."})]})}):o&&d?u.jsx(KO,{to:e,replace:!0}):u.jsx(u.Fragment,{children:t})},uK=()=>u.jsx(Pq,{children:u.jsx(N5,{children:u.jsx(cH,{children:u.jsxs(sD,{children:[u.jsxs(YO,{children:[u.jsx(Dn,{path:"/",element:u.jsx(Z5,{})}),u.jsx(Dn,{path:"/host-login",element:u.jsx(r$,{})}),u.jsx(Dn,{path:"/host-signup",element:u.jsx(o$,{})}),u.jsx(Dn,{path:"/host-dashboard",element:u.jsx(bC,{children:u.jsx(MH,{})})}),u.jsx(Dn,{path:"/host-game-room",element:u.jsx(bC,{children:u.jsx(Dq,{})})}),u.jsx(Dn,{path:"/join",element:u.jsx(Fq,{})}),u.jsx(Dn,{path:"/play",element:u.jsx(Uq,{})}),u.jsx(Dn,{path:"/leaderboard",element:u.jsx(zq,{})}),u.jsx(Dn,{path:"*",element:u.jsx(Vq,{})})]}),u.jsx(cK,{})]})})})});class dK extends f.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by ErrorBoundary:",e,n)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:u.jsxs("div",{className:"flex h-screen items-center justify-center bg-purple-900 text-white flex-col p-4",children:[u.jsx("h2",{className:"text-xl mb-4",children:"Something went wrong"}),u.jsx("p",{className:"mb-4",children:"The application encountered an error. Please try refreshing the page."}),u.jsx("pre",{className:"bg-purple-800 p-4 rounded-md text-sm max-w-full overflow-auto",children:(e=this.state.error)==null?void 0:e.message}),u.jsx("button",{className:"mt-4 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-md",onClick:()=>window.location.reload(),children:"Refresh Page"})]}):this.props.children}}LE(document.getElementById("root")).render(u.jsx(Vt.StrictMode,{children:u.jsx(dK,{children:u.jsx(uK,{})})}))});export default hK();
